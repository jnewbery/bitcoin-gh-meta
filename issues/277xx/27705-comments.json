[
   {
      "author_association" : "MEMBER",
      "body" : "@ArmchairCryptologist Thanks for reporting. This is an issue we are aware of. To avoid any confusion, and make it clear you're seeing the issue with `v24.1`, I've edited your post slightly.",
      "created_at" : "2023-05-20T13:02:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1555907175",
      "id" : 1555907175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585cvUJn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555907175/reactions"
      },
      "updated_at" : "2023-05-20T13:02:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555907175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "For what it's worth, I ran the node with debug logging for a bit, and while it seems to be mostly (but not exclusively) the same peer causing the stall, it also doesn't necessarily seem malicious, just slow, since it does successfully transfer *some* blocks. The client seems to really like requesting blocks from the peer in question, so I'm guessing it get blocks earlier than most other peers, and possibly gets overloaded because of it. In some cases it even looks to be requesting another block from it while it is already downloading one - and in some cases it seems to successfully download the second block then timeout on the first? See block 00000000000000000001a50acdf7b30c8f1b127ab6c105b69a4f6c24f72ab9eb in the second segment below.\r\n\r\n```\r\n2023-05-20T13:24:00Z [net] receive version message: /Satoshi:0.19.0.1/: version 70015, blocks=0, us=0.0.0.0:0, txrelay=0, peer=2605, peeraddr=3.20.y.z:46930\r\n2023-05-20T13:24:00Z [net] send version message: version 70016, blocks=790585, them=3.20.y.z:46930, txrelay=1, peer=2605\r\n2023-05-20T13:45:59Z [net] Requesting block 000000000000000000041c3004e9f638d5355f26701c424606365e94db5c94ce from  peer=2605\r\n2023-05-20T13:45:59Z UpdateTip: new best=000000000000000000041c3004e9f638d5355f26701c424606365e94db5c94ce height=790587 version=0x24bea000 log2_work=94.190868 tx=840839324 date='2023-05-20T13:45:38Z' progress=1.000000 cache=94.6MiB(705910txo)\r\n2023-05-20T14:00:13Z [net] Requesting block 00000000000000000001b274dbd40480fd3ab8ffbc1dcd9daa4667c76077c88a from  peer=2605\r\n2023-05-20T14:01:02Z [net] Requesting block 00000000000000000001e9f4462968ba404af8e9286c197d9ae3650a5165cac6 from  peer=2605\r\n2023-05-20T14:10:13Z Timeout downloading block 00000000000000000001b274dbd40480fd3ab8ffbc1dcd9daa4667c76077c88a from peer=2605, disconnecting\r\n2023-05-20T14:10:13Z [net] Requesting block 00000000000000000001b274dbd40480fd3ab8ffbc1dcd9daa4667c76077c88a (790588) peer=0\r\n2023-05-20T14:10:13Z [net] Requesting block 00000000000000000001e9f4462968ba404af8e9286c197d9ae3650a5165cac6 (790589) peer=0\r\n2023-05-20T14:10:14Z [net] received block 00000000000000000001b274dbd40480fd3ab8ffbc1dcd9daa4667c76077c88a peer=0\r\n2023-05-20T14:10:14Z UpdateTip: new best=00000000000000000001b274dbd40480fd3ab8ffbc1dcd9daa4667c76077c88a height=790588 version=0x2dfbc000 log2_work=94.190882 tx=840843696 date='2023-05-20T13:59:44Z' progress=0.999998 cache=93.6MiB(696440txo)\r\n2023-05-20T14:10:14Z [net] received block 00000000000000000001e9f4462968ba404af8e9286c197d9ae3650a5165cac6 peer=0\r\n2023-05-20T14:10:14Z UpdateTip: new best=00000000000000000001e9f4462968ba404af8e9286c197d9ae3650a5165cac6 height=790589 version=0x20e8c000 log2_work=94.190895 tx=840848460 date='2023-05-20T14:00:34Z' progress=0.999998 cache=94.5MiB(702207txo)\r\n\r\n2023-05-20T14:11:13Z [net] send version message: version 70016, blocks=790590, them=3.20.y.z:60848, txrelay=1, peer=3072\r\n2023-05-20T14:11:13Z [net] receive version message: /Satoshi:0.19.0.1/: version 70015, blocks=0, us=0.0.0.0:0, txrelay=0, peer=3072, peeraddr=3.20.y.z:60848\r\n2023-05-20T15:08:09Z [net] Requesting block 00000000000000000001cfd7b99787a52f2933f0d73d2d0c4805c2b25b17d166 from  peer=3072\r\n2023-05-20T15:16:40Z [net] received block 00000000000000000001a50acdf7b30c8f1b127ab6c105b69a4f6c24f72ab9eb peer=3072\r\n2023-05-20T15:18:09Z Timeout downloading block 00000000000000000001cfd7b99787a52f2933f0d73d2d0c4805c2b25b17d166 from peer=3072, disconnecting\r\n2023-05-20T15:18:09Z [net] Requesting block 00000000000000000001cfd7b99787a52f2933f0d73d2d0c4805c2b25b17d166 (790595) peer=2136\r\n2023-05-20T15:18:20Z [net] received block 00000000000000000001cfd7b99787a52f2933f0d73d2d0c4805c2b25b17d166 peer=2136\r\n2023-05-20T15:18:20Z UpdateTip: new best=00000000000000000001cfd7b99787a52f2933f0d73d2d0c4805c2b25b17d166 height=790595 version=0x37ffe000 log2_work=94.190977 tx=840874538 date='2023-05-20T15:07:57Z' progress=0.999998 cache=107.4MiB(755884txo)\r\n2023-05-20T15:18:20Z UpdateTip: new best=00000000000000000001a50acdf7b30c8f1b127ab6c105b69a4f6c24f72ab9eb height=790596 version=0x24d10000 log2_work=94.190990 tx=840876894 date='2023-05-20T15:16:19Z' progress=1.000000 cache=108.8MiB(766732txo)\r\n\r\n2023-05-20T15:16:17Z [net] send version message: version 70016, blocks=790594, them=8.28.y.z:58268, txrelay=1, peer=3718\r\n2023-05-20T15:16:17Z [net] receive version message: /Satoshi:24.99.0/: version 70016, blocks=790595, us=x.x.x.x:8333, txrelay=0, peer=3718, peeraddr=8.28.y.z:58268\r\n2023-05-20T15:19:09Z [net] send version message: version 70016, blocks=790597, them=3.20.y.z:52650, txrelay=1, peer=3744\r\n2023-05-20T15:19:09Z [net] receive version message: /Satoshi:0.19.0.1/: version 70015, blocks=0, us=0.0.0.0:0, txrelay=0, peer=3744, peeraddr=3.20.y.z:52650\r\n2023-05-20T15:19:33Z [net] Requesting block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 from  peer=3744\r\n2023-05-20T15:29:33Z Timeout downloading block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 from peer=3744, disconnecting\r\n2023-05-20T15:29:33Z [net] Requesting block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 (790598) peer=3718\r\n2023-05-20T15:39:33Z Timeout downloading block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 from peer=3718, disconnecting\r\n2023-05-20T15:39:33Z [net] Requesting block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 (790598) peer=2547\r\n2023-05-20T15:39:34Z [net] received block 00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 peer=2547\r\n2023-05-20T15:39:34Z UpdateTip: new best=00000000000000000002008400350c042c72251789c6b00dc972e70904ccf994 height=790598 version=0x332ec000 log2_work=94.191018 tx=840884128 date='2023-05-20T15:18:58Z' progress=0.999996 cache=110.8MiB(781253txo)\r\n\r\n2023-05-20T15:30:33Z [net] send version message: version 70016, blocks=790597, them=3.20.y.z:56230, txrelay=1, peer=3854\r\n2023-05-20T15:30:33Z [net] receive version message: /Satoshi:0.19.0.1/: version 70015, blocks=0, us=0.0.0.0:0, txrelay=0, peer=3854, peeraddr=3.20.y.z:56230\r\n2023-05-20T15:51:11Z [net] Requesting block 0000000000000000000035ea85540fe9071a16424a087c1d4f12ee544fb21994 from  peer=3854\r\n2023-05-20T15:53:57Z [net] Requesting block 0000000000000000000266ed1b962d5866ecbd8535fd6aaa51a0dd0b80606ba7 from  peer=3854\r\n2023-05-20T16:01:11Z Timeout downloading block 0000000000000000000035ea85540fe9071a16424a087c1d4f12ee544fb21994 from peer=3854, disconnecting\r\n2023-05-20T16:01:11Z [net] Requesting block 0000000000000000000035ea85540fe9071a16424a087c1d4f12ee544fb21994 (790600) peer=2136\r\n2023-05-20T16:01:11Z [net] Requesting block 0000000000000000000266ed1b962d5866ecbd8535fd6aaa51a0dd0b80606ba7 (790601) peer=2136\r\n2023-05-20T16:01:21Z [net] received block 0000000000000000000035ea85540fe9071a16424a087c1d4f12ee544fb21994 peer=2136\r\n2023-05-20T16:01:21Z UpdateTip: new best=0000000000000000000035ea85540fe9071a16424a087c1d4f12ee544fb21994 height=790600 version=0x20000000 log2_work=94.191045 tx=840891903 date='2023-05-20T15:51:07Z' progress=0.999998 cache=113.7MiB(804127txo)\r\n2023-05-20T16:01:31Z [net] received block 0000000000000000000266ed1b962d5866ecbd8535fd6aaa51a0dd0b80606ba7 peer=2136\r\n2023-05-20T16:01:31Z UpdateTip: new best=0000000000000000000266ed1b962d5866ecbd8535fd6aaa51a0dd0b80606ba7 height=790601 version=0x2667e000 log2_work=94.191058 tx=840895519 date='2023-05-20T15:53:36Z' progress=0.999998 cache=114.5MiB(809732txo)\r\n```",
      "created_at" : "2023-05-20T20:07:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1555986348",
      "id" : 1555986348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585cvnes",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555986348/reactions"
      },
      "updated_at" : "2023-05-20T20:11:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1555986348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73581993?v=4",
         "events_url" : "https://api.github.com/users/ArmchairCryptologist/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ArmchairCryptologist/followers",
         "following_url" : "https://api.github.com/users/ArmchairCryptologist/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ArmchairCryptologist/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ArmchairCryptologist",
         "id" : 73581993,
         "login" : "ArmchairCryptologist",
         "node_id" : "MDQ6VXNlcjczNTgxOTkz",
         "organizations_url" : "https://api.github.com/users/ArmchairCryptologist/orgs",
         "received_events_url" : "https://api.github.com/users/ArmchairCryptologist/received_events",
         "repos_url" : "https://api.github.com/users/ArmchairCryptologist/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ArmchairCryptologist/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ArmchairCryptologist/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ArmchairCryptologist"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Can you block this peer?\r\n\r\nI did block the peer right after I posted the latest logs four days ago, and after that the block timeouts dropped to 2-3 per day, but like I mentioned in the bug report, since Core doesn't normally log the IP of disconnected incoming peers you pretty much have to enable debug=net logging to find the IP of the misbehaving peer. Which on this particular node is ~1GB of logs per 2-3 hours.",
      "created_at" : "2023-05-24T15:10:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1561343514",
      "id" : 1561343514,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dEDYa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561343514/reactions"
      },
      "updated_at" : "2023-05-24T15:10:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561343514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73581993?v=4",
         "events_url" : "https://api.github.com/users/ArmchairCryptologist/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ArmchairCryptologist/followers",
         "following_url" : "https://api.github.com/users/ArmchairCryptologist/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ArmchairCryptologist/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ArmchairCryptologist",
         "id" : 73581993,
         "login" : "ArmchairCryptologist",
         "node_id" : "MDQ6VXNlcjczNTgxOTkz",
         "organizations_url" : "https://api.github.com/users/ArmchairCryptologist/orgs",
         "received_events_url" : "https://api.github.com/users/ArmchairCryptologist/received_events",
         "repos_url" : "https://api.github.com/users/ArmchairCryptologist/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ArmchairCryptologist/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ArmchairCryptologist/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ArmchairCryptologist"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I did block the peer right after I posted the latest logs four days ago, and after that the block timeouts dropped to 2-3 per day, but like I mentioned in the bug report, since Core doesn't normally log the IP of disconnected incoming peers you pretty much have to enable debug=net logging to find the IP of the misbehaving peer. Which on this particular node is ~1GB of logs per 2-3 hours.\r\n\r\nThe reason why connections/disconnections aren't logged for inbound peers is that these events are remotely triggerable at almost no cost. If we'd log these by default, that would make us susceptible to disk-exhaustion attacks where an attacker tries to fill up our logs over time by triggering the log repeatedly. This doesn't apply to special-category logs like `debug=net` because users who activate those are expected to monitor their node more closely.\r\nThere have been mitigations suggested (e.g. #21603) but none of those have made it in so far.\r\nThat being said, I agree that `debug=net` is quite messy and could use different levels of verbosity.",
      "created_at" : "2023-05-24T17:52:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1561696153",
      "id" : 1561696153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dFZeZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561696153/reactions"
      },
      "updated_at" : "2023-05-24T17:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561696153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">The reason why connections/disconnections aren't logged for inbound peers is that these events are remotely triggerable at almost no cost. If we'd log these by default, that would make us susceptible to disk-exhaustion attacks where an attacker tries to fill up our logs over time by triggering the log repeatedly.\r\n\r\nI see, that makes sense in general. But when a connection is closed due to a block download timeout, you already generate a log entry `Timeout downloading block x from peer=y, disconnecting` with the default logging level. As such it shouldn't add any risk of such attacks if the remote address was simply added to this line, something like `peer=x addr=x.x.x.x`?",
      "created_at" : "2023-05-24T18:38:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1561755480",
      "id" : 1561755480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dFn9Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561755480/reactions"
      },
      "updated_at" : "2023-05-24T18:38:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561755480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73581993?v=4",
         "events_url" : "https://api.github.com/users/ArmchairCryptologist/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ArmchairCryptologist/followers",
         "following_url" : "https://api.github.com/users/ArmchairCryptologist/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ArmchairCryptologist/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ArmchairCryptologist",
         "id" : 73581993,
         "login" : "ArmchairCryptologist",
         "node_id" : "MDQ6VXNlcjczNTgxOTkz",
         "organizations_url" : "https://api.github.com/users/ArmchairCryptologist/orgs",
         "received_events_url" : "https://api.github.com/users/ArmchairCryptologist/received_events",
         "repos_url" : "https://api.github.com/users/ArmchairCryptologist/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ArmchairCryptologist/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ArmchairCryptologist/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ArmchairCryptologist"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> As such it shouldn't add any risk of such attacks if the remote address was simply added to this line, something like peer=x addr=x.x.x.x?\r\n\r\nI agree, with  `addr=x.x.x.x` being conditional on `-logips`. That could make sense in some more spots as well, I could open a PR to suggest it unless you want to.",
      "created_at" : "2023-05-24T19:23:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1561807894",
      "id" : 1561807894,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dF0wW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561807894/reactions"
      },
      "updated_at" : "2023-05-24T19:23:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561807894",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I agree, with `addr=x.x.x.x` being conditional on `-logips`. That could make sense in some more spots as well, I could open a PR to suggest it unless you want to.\r\n\r\nBy all means, please do. I expect reworking the block downloading logic would be fair from trivial, but at least with this it will be easy to just block any peers that repeatedly cause the node to stall.",
      "created_at" : "2023-05-24T19:58:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1561850433",
      "id" : 1561850433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dF_JB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561850433/reactions"
      },
      "updated_at" : "2023-05-24T19:59:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1561850433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73581993?v=4",
         "events_url" : "https://api.github.com/users/ArmchairCryptologist/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ArmchairCryptologist/followers",
         "following_url" : "https://api.github.com/users/ArmchairCryptologist/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ArmchairCryptologist/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ArmchairCryptologist",
         "id" : 73581993,
         "login" : "ArmchairCryptologist",
         "node_id" : "MDQ6VXNlcjczNTgxOTkz",
         "organizations_url" : "https://api.github.com/users/ArmchairCryptologist/orgs",
         "received_events_url" : "https://api.github.com/users/ArmchairCryptologist/received_events",
         "repos_url" : "https://api.github.com/users/ArmchairCryptologist/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ArmchairCryptologist/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ArmchairCryptologist/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ArmchairCryptologist"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'd love to see the addition of `addr` too!",
      "created_at" : "2023-05-25T18:33:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1563336061",
      "id" : 1563336061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dLp19",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1563336061/reactions"
      },
      "updated_at" : "2023-05-25T18:33:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1563336061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/99291847?v=4",
         "events_url" : "https://api.github.com/users/darricksee/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darricksee/followers",
         "following_url" : "https://api.github.com/users/darricksee/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darricksee/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darricksee",
         "id" : 99291847,
         "login" : "darricksee",
         "node_id" : "U_kgDOBesSxw",
         "organizations_url" : "https://api.github.com/users/darricksee/orgs",
         "received_events_url" : "https://api.github.com/users/darricksee/received_events",
         "repos_url" : "https://api.github.com/users/darricksee/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darricksee/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darricksee/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darricksee"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> By all means, please do.\r\n\r\nsee #27761\r\n\r\n> I expect reworking the block downloading logic would be fair from trivial\r\n\r\nWhile that's certainly true, #27626 just made it into master and will help a lot with this! (not part of 25.0 though, it will need a bit more testing) ",
      "created_at" : "2023-05-25T19:40:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1563417786",
      "id" : 1563417786,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dL9y6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 1,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1563417786/reactions"
      },
      "updated_at" : "2023-05-25T19:40:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1563417786",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Which on this particular node is ~1GB of logs per 2-3 hours.\r\n\r\nAnother annoying way to find it is detect when node is stalled, then do `getpeerinfo` and see who has a block \"inflight\", then ban them.\r\n\r\nThat said, this should not happen regularly post #27626",
      "created_at" : "2023-05-26T15:09:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1564537951",
      "id" : 1564537951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585dQPRf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1564537951/reactions"
      },
      "updated_at" : "2023-05-26T15:09:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1564537951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I agree, with `addr=x.x.x.x` being conditional on `-logips`. That could make sense in some more spots as well, I could open a PR to suggest it unless you want to.\r\n\r\nI added it in #27826 (to see which peer sent a header).",
      "created_at" : "2023-08-31T08:51:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27705#issuecomment-1700628016",
      "id" : 1700628016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27705",
      "node_id" : "IC_kwDOABII585lXYYw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1700628016/reactions"
      },
      "updated_at" : "2023-08-31T08:51:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1700628016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
