[
   {
      "author_association" : "MEMBER",
      "body" : "Closing for now, because the corresponding pull seemed stale and was just closed as well.\r\n\r\nNot sure why there needs to be a script in this repo at all to download a file, and why it needs to be combined into the verify-binary.py script. It shouldn't matter where the file comes from. You could have it shipped to you on a persistent storage medium.\r\n\r\nIt seems best to keep the download logic in separate scripts for each network (ipv4/6, torrent, tor, ipfs, ...). Also, if there is need to have it (in one script or multiple scripts), it could make more sense to have it in a separate repo?\r\n\r\n",
      "created_at" : "2023-09-15T10:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1721070595",
      "id" : 1721070595,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585mlXQD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721070595/reactions"
      },
      "updated_at" : "2023-09-15T10:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721070595",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The problem is that our Guix builds don't commit to the torrent hash. So the only way to verify if the torrent distribution isn't tampered with, is to download and verify the binaries inside of it.\r\n\r\nWe don't distribute the binaries over IPFS afaik.\r\n\r\nIt would make sense to at least download from the hidden service and see if the downloads match what we provide over .org. For the .org I suppose it could make sense to download both over IPv4 and IPv6 and check that they match.",
      "created_at" : "2023-09-15T16:03:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1721517538",
      "id" : 1721517538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585mnEXi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721517538/reactions"
      },
      "updated_at" : "2023-09-15T16:03:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721517538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> download both over IPv4 and IPv6 and check that they match.\r\n\r\nI don't understand the logic where the source (or transport protocol) of a file is used to verify the file. My understanding is that there is a checksum file included, which can help to catch non-malicious file corruption. Also, the checksum file can be signed by people you trust (or by yourself if you guix-build yourself), which can help to catch malicious file (and checksum file) corruption.\r\n\r\n",
      "created_at" : "2023-09-17T09:44:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1722438075",
      "id" : 1722438075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585mqlG7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1722438075/reactions"
      },
      "updated_at" : "2023-09-17T09:44:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1722438075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There's two forms of checking:\r\n1. By individual users, they can use the signed checksum file\r\n2. By people keeping an eye on `bitcoincore.org` to see if it's compromised.\r\n\r\nI'm talking about (2) here. The easier such a check is, the better.",
      "created_at" : "2023-09-19T10:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1725247217",
      "id" : 1725247217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585m1S7x",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725247217/reactions"
      },
      "updated_at" : "2023-09-19T10:33:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725247217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, I see. Let us know if this issue and/or https://github.com/bitcoin/bitcoin/pull/27762 should be reopened.",
      "created_at" : "2023-09-19T10:57:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1725278485",
      "id" : 1725278485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585m1akV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725278485/reactions"
      },
      "updated_at" : "2023-09-19T10:57:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725278485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll leave it up to @willcl-ark if he wants to reopen the PR, but let's re-open this issue.",
      "created_at" : "2023-09-19T11:08:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1725294083",
      "id" : 1725294083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585m1eYD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725294083/reactions"
      },
      "updated_at" : "2023-09-19T11:08:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725294083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It would make sense to at least download from the hidden service and see if the downloads match what we provide over .org. For the .org I suppose it could make sense to download both over IPv4 and IPv6 and check that they match.\r\n\r\n@Sjors sorry but I don't understand exactly what you mean by this. Are you advocating for including torrent downloading facility inside of this verify script? If so then I still disagree and think this is highly undesirable.\r\n\r\n> <snip> So the only way to verify if the torrent distribution isn't tampered with, is to download and verify the binaries inside of it.\r\n\r\nWhat else are you suggesting should be done, apart from this?",
      "created_at" : "2023-09-26T09:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1735170737",
      "id" : 1735170737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585nbJqx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1735170737/reactions"
      },
      "updated_at" : "2023-09-26T09:29:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1735170737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Are you advocating for including torrent downloading facility inside of this verify \r\n\r\nDepends on what you mean by \"facility\". I think we should download them if there's a torrent download command on the system. Just like we download if wget / curl is on the system. But we should not add a (large) torrent Python dependency.\r\n\r\nFor that to work, we could either add the magnet link to the script or find it on `bitcoincore.org`.\r\n\r\n> What else are you suggesting should be done, apart from this?\r\n\r\nI think (some or all of) the following are useful to check:\r\n1. That `bitcoincore.org` does not link to a malicious torrent (i.e. check that the torrent hash matches what we expect)\r\n2. That the binaries inside that torrent are the ones we expect (just based on the file checksums, since we already check them against guix signatures via the regular download part of the script)",
      "created_at" : "2023-09-27T13:32:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1737407167",
      "id" : 1737407167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585njrq_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737407167/reactions"
      },
      "updated_at" : "2023-09-27T13:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737407167",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Depends on what you mean by \"facility\". I think we should download them if there's a torrent download command on the system. Just like we download if wget / curl is on the system. But we should not add a (large) torrent Python dependency.\r\n\r\nI see, so we would do something like check to see if `rtorrent` or `transmission-cli` are found on PATH, and only proceed with the download and verification if they are? I think I could get behind that.\r\n",
      "created_at" : "2023-09-27T13:37:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1737415176",
      "id" : 1737415176,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585njtoI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737415176/reactions"
      },
      "updated_at" : "2023-09-27T13:37:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737415176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Exactly(and only if the command is run with something like `--torrent`, which should explain that this will happen, since we don't want to accidentally trigger some malware)",
      "created_at" : "2023-09-27T15:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27702#issuecomment-1737604506",
      "id" : 1737604506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27702",
      "node_id" : "IC_kwDOABII585nkb2a",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737604506/reactions"
      },
      "updated_at" : "2023-09-27T15:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1737604506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
