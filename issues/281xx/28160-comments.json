[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27260](https://github.com/bitcoin/bitcoin/pull/27260) (Enhanced error messages for invalid network prefix during address parsing. by russeree)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-07-26T07:53:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28160#issuecomment-1651169945",
      "id" : 1651169945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28160",
      "node_id" : "IC_kwDOABII585iatqZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651169945/reactions"
      },
      "updated_at" : "2023-07-26T14:14:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651169945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The new error_locations looks worse/broken...",
      "created_at" : "2023-08-05T14:51:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28160#issuecomment-1666526030",
      "id" : 1666526030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28160",
      "node_id" : "IC_kwDOABII585jVStO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666526030/reactions"
      },
      "updated_at" : "2023-08-05T14:51:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666526030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "First, Thanks for your feedback and time to look at this.\r\n\r\nThough the error locations for the too short condition are not aesthetically pleasing at longer lengths; it does look nicer at shorter lengths of a too short bech32 string. Adding this condition does increase the accuracy of ```LocateErrors``` by covering a case where when executed currently displays an incorrect error. Ideas and suggestions are very welcome.\r\n\r\n**Example where someone enters only the hrp (3 chars)**\r\n![image](https://github.com/bitcoin/bitcoin/assets/3104223/bdf4b1be-2f62-4348-ae43-e227418d2938)\r\n\r\n### Rationale\r\nThe error_locations for this PR took inspiration from the current error_locations for the too long condition of  ```LocateErrors``` that when triggered will display the positions of any additional characters past the 90th. My thought was to show all character positions that violate the too short condition.  I also chose this method over some of my other alternatives because though uglier at longer lengths it is accurate and there is a limit to the total number of positions displayed at 7. per [BIP173](https://en.bitcoin.it/wiki/BIP_0173).\r\n\r\nExpected outputs for this PR error locations \r\n\r\n- Bc1 [0,1,2] \r\n- Bc1l [0,1,2,3]\r\n- Bc1lu [0,1,2,3,4]\r\n- Bc1luke [0,1,2,3,4,5,6,7]\r\n\r\nBelow is an example of comparing a string that is too short to too long. \r\n![image](https://github.com/bitcoin/bitcoin/assets/3104223/72ff262a-2a45-4466-897c-0da222ec9c8d)\r\n\r\n### Context\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/d096743150fd35578b7ed71ef6bced2341927d43/src/bech32.cpp#L399\r\n\r\n### Alternatives\r\n\r\n- Don't display the error message for a too short condition - I didn't consider this an option because of the fact that the current implementation of locate errors gives an incorrect error (```\"Invalid separator position\" || \"Missing separator\"```)\r\n\r\n- Don't display any error_locations position data at all - This to me would be valid because the error itself conveys enough information for the user to likely fix the problem. This solution is inconsistent with the current implementation. Applying that logic to too long conditions would mean the removal of error_locations positions for the too long condition since that is also quite obvious what happened.\r\n\r\n- Display the start and end positions in the array. This was another solution I had thought about since it would limit the fix number of characters in the array to 2. This didn't seem consistent with the current implementation of LoateErrors and very deliberately defeats the purpose of the locate_errors array of incorrect characters. \r\n\r\n- Display the end position in the array. Mostly the same reason as above.\r\n\r\n\r\n\r\n",
      "created_at" : "2023-08-05T18:03:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28160#issuecomment-1666570008",
      "id" : 1666570008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28160",
      "node_id" : "IC_kwDOABII585jVdcY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666570008/reactions"
      },
      "updated_at" : "2023-08-05T18:35:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666570008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3104223?v=4",
         "events_url" : "https://api.github.com/users/russeree/events{/privacy}",
         "followers_url" : "https://api.github.com/users/russeree/followers",
         "following_url" : "https://api.github.com/users/russeree/following{/other_user}",
         "gists_url" : "https://api.github.com/users/russeree/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/russeree",
         "id" : 3104223,
         "login" : "russeree",
         "node_id" : "MDQ6VXNlcjMxMDQyMjM=",
         "organizations_url" : "https://api.github.com/users/russeree/orgs",
         "received_events_url" : "https://api.github.com/users/russeree/received_events",
         "repos_url" : "https://api.github.com/users/russeree/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/russeree/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/russeree/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/russeree"
      }
   }
]
