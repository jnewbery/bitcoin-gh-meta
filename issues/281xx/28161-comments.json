[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/28161#pullrequestreview-1558764134) |\n| Concept ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1660491860) |\n| Stale ACK | [0xB10C](https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1652061642) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27976](https://github.com/bitcoin/bitcoin/pull/27976) (ci: Start with clean env by MarcoFalke)\n* [#27793](https://github.com/bitcoin/bitcoin/pull/27793) (ci: label docker images and prune dangling images selectively by stickies-v)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-07-26T09:01:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1651281915",
      "id" : 1651281915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585ibI_7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651281915/reactions"
      },
      "updated_at" : "2023-08-02T11:45:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651281915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @0xB10C about the second commit ",
      "created_at" : "2023-07-26T14:53:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1651975910",
      "id" : 1651975910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585idybm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651975910/reactions"
      },
      "updated_at" : "2023-07-26T14:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651975910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK, looks like the tests [are run and pass](https://cirrus-ci.com/task/6074291154845696?logs=ci#L3392).\r\n```\r\ninterface_usdt_coinselection.py                        | â Passed  | 17 s\r\ninterface_usdt_mempool.py                              | â Passed  | 37 s\r\ninterface_usdt_net.py                                  | â Passed  | 14 s\r\ninterface_usdt_utxocache.py                            | â Passed  | 35 s\r\ninterface_usdt_validation.py                           | â Passed  | 8 s\r\n```",
      "created_at" : "2023-07-26T15:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1652061642",
      "id" : 1652061642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585ieHXK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1652061642/reactions"
      },
      "updated_at" : "2023-07-26T15:35:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1652061642",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "(reworked the second commit to only use a single `sed` command, and add documentation for why it is needed)",
      "created_at" : "2023-07-27T09:06:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1653206694",
      "id" : 1653206694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585iie6m",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653206694/reactions"
      },
      "updated_at" : "2023-07-27T17:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653206694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK\r\n\r\nI read the linked cirrus guide about persistent workers, everything makes sense with these changes. Two questions:\r\n1. Is the persistent worker hosted by you? Are there any documented details about it?\r\n2. Why does the `previous releases` task need persistent worker?",
      "created_at" : "2023-08-01T14:53:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1660491860",
      "id" : 1660491860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585i-RhU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660491860/reactions"
      },
      "updated_at" : "2023-08-01T14:53:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660491860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Why does the previous releases task need persistent worker?\r\n\r\nI did that to detect silent merge conflicts without using Cirrus CI resources. (A machine is running this task in a loop on all pull requests, constantly rebased on `master`). Unrelated: See https://github.com/MarcoFalke/DrahtBot/blob/main/rerun_ci/src/main.rs#L30 for the details on how to re-run.\r\n\r\n> Is the persistent worker hosted by you? Are there any documented details about it?\r\n\r\nCurrently it is running on someone's leftover machine, but someone will spin up a proper cluster soon (either before merge or shortly after). I've pushed docs on the requirements of the workers. Let me know if I should document anything else. The other steps are taken from the Cirrus CI docs and are something like:\r\n\r\n* Set up cirrus `curl -L -o cirrus https://github.com/cirruslabs/cirrus-cli/releases/latest/download/cirrus-$(uname | tr '[:upper:]' '[:lower:]')-amd64 && mv cirrus /usr/local/bin/cirrus && chmod +x /usr/local/bin/cirrus`\r\n* Start `screen`\r\n* Connect the worker via `cirrus worker run --labels type=lunar --token todo_get_the_correct_token`",
      "created_at" : "2023-08-01T15:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1660573780",
      "id" : 1660573780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585i-lhU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660573780/reactions"
      },
      "updated_at" : "2023-08-01T15:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660573780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on moving CI tasks outside from Cirrus CI as a response to their new [limits](https://cirrus-ci.org/blog/2023/07/17/limiting-free-usage-of-cirrus-ci/).\r\n\r\nHistorically, the Bitcoin Core project started to use self-hosted CI in [April 2021](https://github.com/bitcoin/bitcoin/pull/21619):\r\n> For testing purposes, a single task will be transformed to run on the DrahtBot infrastructure. If all goes well, the other tasks can be moved, too.\r\n\r\nAt the same time, there were some usage of the bitcoinbuilds.org infrastructure, which was completely independent of any CI provider. During that time, Cirrus CI seemed to be a suitable choice, and we stopped using bitcoinbuilds.org sometime around the end of 2021 or the beginning of 2022.\r\n\r\n> Also, using a persistent worker allows to make use of the docker image cache.\r\n\r\nThis feature is really great.\r\n\r\n> Since it is cheaper...\r\n\r\nTbh, I'd feel much more confident and comfortable knowing that some sponsors publicly pledged to cover all related costs.",
      "created_at" : "2023-08-02T10:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1661972486",
      "id" : 1661972486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585jD7AG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1661972486/reactions"
      },
      "updated_at" : "2023-08-02T10:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1661972486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1281752846"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281752846"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might it be more straightforward to define `BPFCC_PACKAGE` in `ci\\test_imagefile`?\r\n\r\nRunning `FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh` locally skips `interface_usdt_*.py` tests.",
      "commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "created_at" : "2023-08-02T11:05:40Z",
      "diff_hunk" : "@@ -257,22 +273,17 @@ task:\n \n task:\n   name: '[ASan + LSan + UBSan + integer, no depends, USDT] [lunar]'\n+  enable_bpfcc_script:\n+    # In the image build step, no external environment variables are available,\n+    # so any settings will need to be written to the settings env file:\n+    - sed -i \"s|\\${CIRRUS_CI}|true|g\" ./ci/test/00_setup_env_native_asan.sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1281752846",
      "id" : 1281752846,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII585MZf8O",
      "original_commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "original_line" : 279,
      "original_position" : 33,
      "original_start_line" : 276,
      "path" : ".cirrus.yml",
      "position" : 33,
      "pull_request_review_id" : 1558764134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281752846/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 276,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-02T11:45:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281752846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Tbh, I'd feel much more confident and comfortable knowing that some sponsors publicly pledged to cover all related costs.\r\n\r\nOk, I'll try to encourage the sponsor to publicly identify themselves, but I wonder what you worry about? If you are worried about the sponsor walking away, I can assure you that there are currently three (3) willing sponsors in line. Also, while it isn't free, running Linux is extremely cheap compared to Windows/macOS.\r\n\r\nIf you have any alternative ideas, it would be good to share them. The only thing I could come up with would be to use GitHub Actions CI ubuntu-jammy and do a upgrade to Ubuntu Lunar on every CI run. You'd have to increase the task runtime to 3 hours, but that seems unlikely to work and a worse outcome either way, so I am not going to pursue that.",
      "created_at" : "2023-08-02T11:27:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1662036818",
      "id" : 1662036818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585jEKtS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662036818/reactions"
      },
      "updated_at" : "2023-08-02T11:27:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662036818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Tbh, I'd feel much more confident and comfortable knowing that some sponsors publicly pledged to cover all related costs.\r\n> \r\n> Ok, I'll try to encourage the sponsor to publicly identify themselves\r\n\r\nSorry for being misunderstood. I don't want to force current sponsors to any additional actions.\r\n\r\n> ... but I wonder what you worry about?\r\n\r\nSustainability.\r\n\r\n> Also, while it isn't free, running Linux is extremely cheap compared to Windows/macOS.\r\n\r\nI don't think so. In June, total Linux tasks cost was the biggest one followed by Windows.\r\n\r\n> The only thing I could come up with would be to use GitHub Actions CI ubuntu-jammy and do a upgrade to Ubuntu Lunar on every CI run. You'd have to increase the task runtime to 3 hours, but that seems unlikely to work and a worse outcome either way, so I am not going to pursue that.\r\n\r\nThis should definitely be avoided.",
      "created_at" : "2023-08-02T11:42:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1662057512",
      "id" : 1662057512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585jEPwo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662057512/reactions"
      },
      "updated_at" : "2023-08-02T11:42:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662057512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Also, while it isn't free, running Linux is extremely cheap compared to Windows/macOS.\r\n> \r\n> I don't think so. In June, total Linux tasks cost was the biggest one followed by Windows.\r\n\r\nYou are quoting Linux costs that Cirrus CI \"sells\". The goal of this pull request is to use Linux \"sold\" by someone else. (There are many professional companies that offer Linux boxes. If you are unsure, you can use your favourite search engine to get typical competitive pricing on Linux boxes.)",
      "created_at" : "2023-08-02T11:49:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1662066525",
      "id" : 1662066525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585jER9d",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662066525/reactions"
      },
      "updated_at" : "2023-08-02T11:49:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662066525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1281795401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281795401"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Running `FILE_ENV=\"./ci/test/00_setup_env_native_asan.sh\" ./ci/test_run_all.sh` locally skips `interface_usdt_*.py` tests.\r\n\r\nThe goal of this pull request is not to change any behavior locally. If you are interested in changing the behavior, a separate issue or pull request would be good.",
      "commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "created_at" : "2023-08-02T11:51:26Z",
      "diff_hunk" : "@@ -257,22 +273,17 @@ task:\n \n task:\n   name: '[ASan + LSan + UBSan + integer, no depends, USDT] [lunar]'\n+  enable_bpfcc_script:\n+    # In the image build step, no external environment variables are available,\n+    # so any settings will need to be written to the settings env file:\n+    - sed -i \"s|\\${CIRRUS_CI}|true|g\" ./ci/test/00_setup_env_native_asan.sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1281795401",
      "id" : 1281795401,
      "in_reply_to_id" : 1281752846,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII585MZqVJ",
      "original_commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "original_line" : 279,
      "original_position" : 33,
      "original_start_line" : 276,
      "path" : ".cirrus.yml",
      "position" : 33,
      "pull_request_review_id" : 1558833266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281795401/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 276,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-02T11:51:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281795401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > > Also, while it isn't free, running Linux is extremely cheap compared to Windows/macOS.\r\n> > \r\n> > \r\n> > I don't think so. In June, total Linux tasks cost was the biggest one followed by Windows.\r\n> \r\n> You are quoting Linux costs that Cirrus CI \"sells\".\r\n\r\nYes. We have to cope with new Cirrus's offers.\r\n\r\n> The goal of this pull request is to use Linux \"sold\" by someone else.\r\n\r\nUsing someone's else resource equals to not using Cirrus provided resources.\r\n\r\n> (There are many professional companies that offer Linux boxes. If you are unsure, you can use your favourite search engine to get typical competitive pricing on Linux boxes.)\r\n\r\nThank you. I am aware of it :)",
      "created_at" : "2023-08-02T11:57:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#issuecomment-1662076765",
      "id" : 1662076765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28161",
      "node_id" : "IC_kwDOABII585jEUdd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662076765/reactions"
      },
      "updated_at" : "2023-08-02T11:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662076765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1282387190"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282387190"
         }
      },
      "author_association" : "MEMBER",
      "body" : "oh yeah I see this locally too (on master), even though `--cap-add SYS_PTRACE` is in the docker command and `USDT tracing` is set by configure, what's missing?",
      "commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "created_at" : "2023-08-02T20:27:17Z",
      "diff_hunk" : "@@ -257,22 +273,17 @@ task:\n \n task:\n   name: '[ASan + LSan + UBSan + integer, no depends, USDT] [lunar]'\n+  enable_bpfcc_script:\n+    # In the image build step, no external environment variables are available,\n+    # so any settings will need to be written to the settings env file:\n+    - sed -i \"s|\\${CIRRUS_CI}|true|g\" ./ci/test/00_setup_env_native_asan.sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1282387190",
      "id" : 1282387190,
      "in_reply_to_id" : 1281752846,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII585Mb6z2",
      "original_commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "original_line" : 279,
      "original_position" : 33,
      "original_start_line" : 276,
      "path" : ".cirrus.yml",
      "position" : 33,
      "pull_request_review_id" : 1559792846,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282387190/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 276,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-02T20:27:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282387190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1282404122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282404122"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> what's missing?\r\n\r\nThese are the checks to determine if we want to skip the USDT test: https://github.com/bitcoin/bitcoin/blob/2fa60f0b683cefd7956273986dafe3bde00c98fd/test/functional/interface_usdt_net.py#L87-L91\r\n\r\nI haven't looked into this in detail. With which user are the test run in docker locally? Is `--cap-add SYS_PTRACE` enough?",
      "commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "created_at" : "2023-08-02T20:48:04Z",
      "diff_hunk" : "@@ -257,22 +273,17 @@ task:\n \n task:\n   name: '[ASan + LSan + UBSan + integer, no depends, USDT] [lunar]'\n+  enable_bpfcc_script:\n+    # In the image build step, no external environment variables are available,\n+    # so any settings will need to be written to the settings env file:\n+    - sed -i \"s|\\${CIRRUS_CI}|true|g\" ./ci/test/00_setup_env_native_asan.sh",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28161#discussion_r1282404122",
      "id" : 1282404122,
      "in_reply_to_id" : 1281752846,
      "line" : 279,
      "node_id" : "PRRC_kwDOABII585Mb-8a",
      "original_commit_id" : "fa474397b5d4235efdfc5a5ddce2d637234548a7",
      "original_line" : 279,
      "original_position" : 33,
      "original_start_line" : 276,
      "path" : ".cirrus.yml",
      "position" : 33,
      "pull_request_review_id" : 1559819464,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28161",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282404122/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 276,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-02T20:48:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282404122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   }
]
