[
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the detailed report @edilmedeiros !\r\n\r\nI can confirm that I see the same behaviour as you running a custom signet, where even after (allegedly) calibrating to an nbits targetting `--seconds=600`, I get 2m30s blocks:\r\n\r\n```log\r\n2024-05-12 21:59:49 INFO Mined block at height 100; next in -2m58s (mine)\r\n2024-05-12 21:59:50 INFO Mined block at height 101; next in -29s (mine)\r\n2024-05-12 21:59:50 INFO Mined block at height 102; next in 2m0s (mine)\r\n2024-05-12 22:01:51 INFO Mined block at height 103; next in 2m29s (mine)\r\n2024-05-12 22:04:24 INFO Mined block at height 104; next in 2m26s (mine)\r\n2024-05-12 22:06:51 INFO Mined block at height 105; next in 2m29s (mine)\r\n```\r\n\r\nRegarding the wiki updates, you could try joining the [libera chat](https://libera.chat/) `#bitcoin-wiki` and request edit permissions.\r\n\r\nFailing that, it could perhaps be useful to in any case include information on creating a custom signet using descriptor wallets as a new section in `contrib/signet/README.md`, so that approach may also make sense ?\r\n\r\nThanks for finding, reporting and offering to take a look into the root cause :)",
      "created_at" : "2024-05-12T21:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106383337",
      "id" : 2106383337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859jNvp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106383337/reactions"
      },
      "updated_at" : "2024-05-12T21:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106383337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Failing that, it could perhaps be useful to in any case include information on creating a custom signet using descriptor wallets as a new section in `contrib/signet/README.md`, so that approach may also make sense ?\r\n\r\nI'm already documenting so in my site, I can post it here when done. If there's consensus, I can also open a PR for extending this piece of documentation.\r\n\r\n\r\n",
      "created_at" : "2024-05-12T22:05:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106388477",
      "id" : 2106388477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859jO_9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106388477/reactions"
      },
      "updated_at" : "2024-05-12T22:05:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106388477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@edilmedeiros this might be expected behavior although not well documented. If I recall, the signet miner generates the first 100 blocks as fast as possible with 100% CPU (to cross coinbase maturity) so you can start spending signet coins right away. It will *eventually* retarget to your configured difficulty. If you're able to, I'd let your process run at least 2,016 blocks and then check if its acting as expected.",
      "created_at" : "2024-05-12T22:43:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106397970",
      "id" : 2106397970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859jRUS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106397970/reactions"
      },
      "updated_at" : "2024-05-12T22:43:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106397970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For the descriptor wallet question, I ran a custom signet for an educational program earlier this year and wrote a script that created a descriptor wallet in regtest, then spawned signet with that descriptor: https://github.com/chaincodelabs/signet-wallet-project/blob/main/signet-setup.py",
      "created_at" : "2024-05-12T22:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106398197",
      "id" : 2106398197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859jRX1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106398197/reactions"
      },
      "updated_at" : "2024-05-12T22:44:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106398197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @edilmedeiros this might be expected behavior although not well documented. If I recall, the signet miner generates the first 100 blocks as fast as possible with 100% CPU (to cross coinbase maturity) so you can start spending signet coins right away. It will _eventually_ retarget to your configured difficulty. If you're able to, I'd let your process run at least 2,016 blocks and then check if its acting as expected.\r\n\r\nI was running this way after the 100 block threshold when I perceived this behavior, but I'll let it run to see what happens. I spawned a new issuer node to check my config and then another to take the messages to report the issue. \r\n\r\nYet, this doesn't explain the 2m29 interval I and Will are getting, probably in hardware with very different resources. Really seems to me that there's something funky going on with the timing calculation.\r\n\r\n> For the descriptor wallet question, I ran a custom signet for an educational program earlier this year and wrote a script that created a descriptor wallet in regtest, then spawned signet with that descriptor: https://github.com/chaincodelabs/signet-wallet-project/blob/main/signet-setup.py\r\n\r\nI was in the chaincode cohort and studying your script was key to make my setup work. It uses `--min-nbits` and run with the 10m interval from the very beginning (and I recall it running like a swiss clock in the 10m interval).\r\n\r\nAnyway, I think this topic of setting a custom signet up deserves a piece of documentation explaining the process so people could not only make it work but also understand the process. That's what I'm writing here.",
      "created_at" : "2024-05-12T22:57:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106401030",
      "id" : 2106401030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859jSEG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106401030/reactions"
      },
      "updated_at" : "2024-05-12T23:06:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106401030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The `--nbits` value sets the desired difficulty; to reach that desired difficulty when the target difficulty is lower, blocks need to be mined faster than normal. Since the maximum difficulty increase is 4x, the block rate will be at most 4x faster than normal, ie 2m30s instead of 10m. Setting --min-nbits is saying \"I don't need the difficulty to increase\" which implies just mining a block every 10 minutes is fine since the chain starts at a difficulty matching min nbits.\r\n\r\nThe fast mining of the initial 100 blocks is achieved by backdating block number one by 100 times the block interval (so 250 minutes if blocks are 2.5m apart), then mining blocks timestamped at regular intervals until it catches up with the current time.\r\n\r\nYou probably don't want 600s mining time -- you'll be constantly using 100% cpu across all cores in that case. Mining time is how much CPU you use once difficulty has reached your desired level, not how long the time is between blocks.",
      "created_at" : "2024-05-13T06:40:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106767458",
      "id" : 2106767458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859krhi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106767458/reactions"
      },
      "updated_at" : "2024-05-13T06:40:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106767458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "(Signet adopts essentially the same rules as mainnet, so the only way to sustain blocks that are more frequent than once every 10 minutes is to continually raise the difficulty, which results in real costs, or to make use of the timewarp bug)",
      "created_at" : "2024-05-13T06:44:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106772366",
      "id" : 2106772366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859ksuO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106772366/reactions"
      },
      "updated_at" : "2024-05-13T06:44:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106772366",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ah I see!\r\n\r\nSo the 2:30 block times are expected then, and at the first difficulty adjustment I would be expecting the difficulty to increase to such a point that it would take my CPU 600 seconds to generate a block.\r\n\r\nI did discuss this possiblilty with @pinheadmz late last night, but was too impatient to let my signet miner run to an adjustment to find out. Thanks @ajtowns ",
      "created_at" : "2024-05-13T07:54:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2106890826",
      "id" : 2106890826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859lJpK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106890826/reactions"
      },
      "updated_at" : "2024-05-13T07:54:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106890826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> So the 2:30 block times are expected then, and at the first difficulty adjustment I would be expecting the difficulty to increase to such a point that it would take my CPU 600 seconds to generate a block.\r\n\r\nI think you've got NBITS=1d00ac8d, which if my math is correct is ~1300 times more difficult than the min signet difficulty, which should take ~5 retarget periods to achieve. The 6th one would run at about 7m46s per block; for a total of ~28 days to ramp up the difficulty. (If you backdated the first block to be 30 days ago, you'd burn through this as fast as your cpu could handle)\r\n\r\n```python\r\ndef nbits2target(nbits):\r\n    return (nbits & 0xFFFFFF) * 256**((nbits >> 24)-3)\r\n\r\nnbits2target(0x1e0377ae)/nbits2target(0x1d00ac8d)\r\n# 1316.9804179023386\r\n```",
      "created_at" : "2024-05-13T09:22:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2107073436",
      "id" : 2107073436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859l2Oc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107073436/reactions"
      },
      "updated_at" : "2024-05-13T09:22:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107073436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ajtowns Thanks for the explanation, the miner behavior makes a lot more sense now.\r\n\r\nI did a \"quick\" experiment this morning: started a new signet with the first block starting a month ago. My CPU went close to 100% using all available cores.\r\n\r\n<details>\r\n  <summary>At first, it was mining a few blocks a second.</summary>\r\n\r\n```\r\n2024-05-13 13:06:47 INFO Mined block at height 2; next in -717h26m32s (mine)\r\n2024-05-13 13:06:47 INFO Mined block at height 3; next in -717h24m2s (mine)\r\n2024-05-13 13:06:47 INFO Mined block at height 4; next in -717h21m32s (mine)\r\n2024-05-13 13:06:48 INFO Mined block at height 5; next in -717h19m3s (mine)\r\n2024-05-13 13:06:48 INFO Mined block at height 6; next in -717h16m33s (mine)\r\n2024-05-13 13:06:48 INFO Mined block at height 7; next in -717h14m3s (mine)\r\n2024-05-13 13:06:48 INFO Mined block at height 8; next in -717h11m33s (mine)\r\n2024-05-13 13:06:48 INFO Mined block at height 9; next in -717h9m3s (mine)\r\n2024-05-13 13:06:49 INFO Mined block at height 10; next in -717h6m34s (mine)\r\n2024-05-13 13:06:49 INFO Mined block at height 11; next in -717h4m4s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 12; next in -717h1m35s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 13; next in -716h59m5s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 14; next in -716h56m35s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 15; next in -716h54m5s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 16; next in -716h51m35s (mine)\r\n2024-05-13 13:06:50 INFO Mined block at height 17; next in -716h49m5s (mine)\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n  <summary>After 2 difficulty adjustment cycles, it still was at 100% and it was considerably harder to get new blocks, a few seconds per block (instead of a few blocks per second).</summary>\r\n\r\n```\r\n2024-05-13 15:02:52 INFO Mined block at height 6612; next in -443h57m37s (mine)\r\n2024-05-13 15:03:06 INFO Mined block at height 6613; next in -443h55m21s (mine)\r\n2024-05-13 15:03:11 INFO Mined block at height 6614; next in -443h52m56s (mine)\r\n2024-05-13 15:03:15 INFO Mined block at height 6615; next in -443h50m30s (mine)\r\n2024-05-13 15:03:24 INFO Mined block at height 6616; next in -443h48m8s (mine)\r\n2024-05-13 15:03:27 INFO Mined block at height 6617; next in -443h45m42s (mine)\r\n2024-05-13 15:03:36 INFO Mined block at height 6618; next in -443h43m21s (mine)\r\n2024-05-13 15:03:42 INFO Mined block at height 6619; next in -443h40m57s (mine)\r\n2024-05-13 15:03:50 INFO Mined block at height 6620; next in -443h38m35s (mine)\r\n2024-05-13 15:03:51 INFO Mined block at height 6621; next in -443h36m6s (mine)\r\n2024-05-13 15:04:09 INFO Mined block at height 6622; next in -443h33m54s (mine)\r\n2024-05-13 15:04:11 INFO Mined block at height 6623; next in -443h31m25s (mine)\r\n```\r\n\r\n</details>\r\n\r\nSeems that it will eventually converge to the 10 minute average. I'll let it run a little more out of curiosity. \r\n\r\nYet, I feel the documentation could be improved to explain this behavior: the mining time is controlled: \r\n1. by the difficulty + resources available; and \r\n2. by an internal timer the miner script keep.\r\n\r\nThat is:\r\n- If resources abound, the internal timer tries to keep mining at the 10 minute interval;\r\n- If resources constrain, the internal timer gets out of the way as we can see in the above snippets.\r\n- Not only, the timer does its job by trying to mimic the difficulty adjustment rules of the network. \r\n\r\nI'll study the source code and sketch something in a PR.\r\n\r\nAnother thing, it doesn't seem to exist an option to control the miner's internal \"timer\". That is, suppose I want to mine every minute instead of every 10 minutes. Now I see I can set the initial block unix time appropriately and the difficulty accordingly and it will eventually converge to that. But it will use all hardware resources to do so.\r\n\r\nAnother option would be able to use `--min-nbits` to keep resource usage low and have, e.g., `--seconds` (or a new option) to set how long it will delay to mine a new block. \r\n\r\nWhat do you think of this idea? \r\n\r\nI think the timer will eventually break with such a config since the network rules restrict the valid range of new block's times and thus how fast or slow the network can go. Yet, I believe it can be a valuable feature for educational settings like the cohort @pinheadmz helped running, and for research purposes.\r\n",
      "created_at" : "2024-05-13T18:23:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2108523883",
      "id" : 2108523883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859rYVr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108523883/reactions"
      },
      "updated_at" : "2024-05-13T18:34:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108523883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@edilmedeiros I don't think there's anything to do here; `contrib/signet/miner` works as expected. Would you agree this issue can be closed now?\r\n\r\nIf you have some code changes I'd be happy to review them in a future pull request.",
      "created_at" : "2024-05-14T10:59:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30091#issuecomment-2109905916",
      "id" : 2109905916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30091",
      "node_id" : "IC_kwDOABII5859wpv8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109905916/reactions"
      },
      "updated_at" : "2024-05-14T10:59:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109905916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
