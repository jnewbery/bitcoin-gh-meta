[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30047).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [katesalazar](https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2096770530) |\n| Stale ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2105238891) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28201](https://github.com/bitcoin/bitcoin/pull/28201) (Silent Payments: sending by josibake)\n* [#28122](https://github.com/bitcoin/bitcoin/pull/28122) (Silent Payments: Implement BIP352 by josibake)\n* [#27260](https://github.com/bitcoin/bitcoin/pull/27260) (Enhanced error messages for invalid network prefix during address parsing. by russeree)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-05-06T09:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2095548257",
      "id" : 2095548257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII585854dh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2095548257/reactions"
      },
      "updated_at" : "2024-05-10T20:34:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2095548257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1591418368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1591418368"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Aren't these checks broken if limit is `NO_LIMIT` (0) ?",
      "commit_id" : "1cfe953c266475e379010900f278e55d21f10418",
      "created_at" : "2024-05-06T18:46:35Z",
      "diff_hunk" : "@@ -370,11 +370,11 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, CharLimit limit) {\n     std::vector<int> errors;\n     if (!CheckCharacters(str, errors)) return {};\n     size_t pos = str.rfind('1');\n-    if (str.size() > 90 || pos == str.npos || pos == 0 || pos + 7 > str.size()) {\n+    if (str.size() > limit || pos == str.npos || pos == 0 || pos + 7 > str.size()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1591418368",
      "id" : 1591418368,
      "line" : 377,
      "node_id" : "PRRC_kwDOABII585e2x4A",
      "original_commit_id" : "1cfe953c266475e379010900f278e55d21f10418",
      "original_line" : 377,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 10,
      "pull_request_review_id" : 2041444686,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1591418368/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-06T18:49:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1591418368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-05-06T19:37:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2096770530",
      "id" : 2096770530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5858-i3i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2096770530/reactions"
      },
      "updated_at" : "2024-05-06T19:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2096770530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/52637275?v=4",
         "events_url" : "https://api.github.com/users/katesalazar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/katesalazar/followers",
         "following_url" : "https://api.github.com/users/katesalazar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/katesalazar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/katesalazar",
         "id" : 52637275,
         "login" : "katesalazar",
         "node_id" : "MDQ6VXNlcjUyNjM3Mjc1",
         "organizations_url" : "https://api.github.com/users/katesalazar/orgs",
         "received_events_url" : "https://api.github.com/users/katesalazar/received_events",
         "repos_url" : "https://api.github.com/users/katesalazar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/katesalazar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/katesalazar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/katesalazar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1592074394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592074394"
         }
      },
      "author_association" : "MEMBER",
      "body" : ":doh: yes! fixed and added unit tests for the `NO_LIMIT` case.",
      "commit_id" : "7cb6dac0dc3d11b7dc3e338e5773ca5e64e0c58d",
      "created_at" : "2024-05-07T08:59:02Z",
      "diff_hunk" : "@@ -370,11 +370,11 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, CharLimit limit) {\n     std::vector<int> errors;\n     if (!CheckCharacters(str, errors)) return {};\n     size_t pos = str.rfind('1');\n-    if (str.size() > 90 || pos == str.npos || pos == 0 || pos + 7 > str.size()) {\n+    if (str.size() > limit || pos == str.npos || pos == 0 || pos + 7 > str.size()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1592074394",
      "id" : 1592074394,
      "in_reply_to_id" : 1591418368,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e5SCa",
      "original_commit_id" : "1cfe953c266475e379010900f278e55d21f10418",
      "original_line" : 377,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : null,
      "pull_request_review_id" : 2042518236,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592074394/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-07T08:59:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592074394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the original bug here illustrates that the enum is not well suited for this. Definitely not with a value of 0 for NO_LIMIT anyway. Got any other ideas? :)",
      "created_at" : "2024-05-07T14:23:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2098532940",
      "id" : 2098532940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859FRJM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2098532940/reactions"
      },
      "updated_at" : "2024-05-07T14:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2098532940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think the original bug here illustrates that the enum is not well suited for this. Definitely not with a value of 0 for NO_LIMIT anyway. Got any other ideas? :)\r\n\r\nYeah, I was getting an icky feeling while updating the PR for 2 reasons: `NO_LIMIT` of 0 is crappy and also the caller needs to make sure to use the same `CharLimit` for `Decode` and again with `LocateErrors`, which seems foot-gunny.\r\n\r\nMy ideal solution is `Decode`/`LocateErrors` shouldn't have a character limit at all (or use 1024, considering BIP173 mentions that bech32 error detection works reasonably well up to 1024 characters). Then, character limits for specific address types (e.g. bc1, sp1) should be enforced in the Destination Encoder/Decoder in [src/key_io.cpp](https://github.com/bitcoin/bitcoin/blob/master/src/key_io.cpp).\r\n\r\nIIRC, when I first wrote this code a year ago, there wasn't much appetite for moving the charlimit out of `Decode`. If thats still the case, my next best solution would be keep the Enum and remove the `NO_LIMIT` case.",
      "created_at" : "2024-05-07T14:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2098604388",
      "id" : 2098604388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859Filk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2098604388/reactions"
      },
      "updated_at" : "2024-05-07T14:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2098604388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theuni updated to remove `NO_LIMIT`. I also looked at a few alternatives to using an `Enum` but I think given the relatively simple usecase, an `Enum` works here with the benefit of not requiring an expansive refactor.\r\n\r\nI'd be open to a more expansive refactor if there was a) conceptual buy in and b) additional use cases beyond supporting silent payments addresses (e.g. parsing bolt11/12 bech32 strings in Bitcoin Core, mercury layer bech32 addresses, etc).",
      "created_at" : "2024-05-08T10:50:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2100302186",
      "id" : 2100302186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859MBFq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2100302186/reactions"
      },
      "updated_at" : "2024-05-08T10:50:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2100302186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure I see the value in using an enum (and forcing it to be passed in) over simply defining a constant? If there's more than 1 possible value, sure. But for now, why?",
      "created_at" : "2024-05-08T17:06:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2101030451",
      "id" : 2101030451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859Oy4z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2101030451/reactions"
      },
      "updated_at" : "2024-05-08T17:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2101030451",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'm not sure I see the value in using an enum (and forcing it to be passed in) over simply defining a constant? If there's more than 1 possible value, sure. But for now, why?\r\n\r\nThis commit is broken out from #28122 , where we add a new value for silent payment addresses (limit of 1024). Here is the commit that adds a new value for silent payments: https://github.com/bitcoin/bitcoin/commit/622c7a98b9f08177a3cfb601306daabb101af1fd\r\n\r\nMy motivation for this PR is to prep for the silent payments PR, trying to break out smaller bits from that PR to make it more reviewable.\r\n",
      "created_at" : "2024-05-08T18:30:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2101185096",
      "id" : 2101185096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859PYpI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2101185096/reactions"
      },
      "updated_at" : "2024-05-08T18:30:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2101185096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597108664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597108664"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I worked around this 90 in my pr in https://github.com/bitcoin/bitcoin/pull/29607/files#diff-f146300624c06d2e08aadf500952294148a1785edd6ff2e8b50f13b2c08255edL315 (though I'm not sure why it's not replaced here with `limit`) - I will try to review this in more detail next week",
      "commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "created_at" : "2024-05-10T18:52:35Z",
      "diff_hunk" : "@@ -397,12 +398,12 @@ DecodeResult Decode(const std::string& str) {\n }\n \n /** Find index of an incorrect character in a Bech32 string. */\n-std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str) {\n+std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str, CharLimit limit) {\n     std::vector<int> error_locations{};\n \n-    if (str.size() > 90) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597108664",
      "id" : 1597108664,
      "line" : 403,
      "node_id" : "PRRC_kwDOABII585fMfG4",
      "original_commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "original_line" : 403,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 23,
      "pull_request_review_id" : 2050676379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597108664/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-10T18:57:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597108664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597123552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597123552"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah, can't believe I missed that. Nice catch!",
      "commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "created_at" : "2024-05-10T19:00:21Z",
      "diff_hunk" : "@@ -397,12 +398,12 @@ DecodeResult Decode(const std::string& str) {\n }\n \n /** Find index of an incorrect character in a Bech32 string. */\n-std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str) {\n+std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str, CharLimit limit) {\n     std::vector<int> error_locations{};\n \n-    if (str.size() > 90) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597123552",
      "id" : 1597123552,
      "in_reply_to_id" : 1597108664,
      "line" : 403,
      "node_id" : "PRRC_kwDOABII585fMivg",
      "original_commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "original_line" : 403,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 23,
      "pull_request_review_id" : 2050702259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597123552/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-10T19:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597123552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597205866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597205866"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ctrl+f \"90\", whew that's the only one. This is exactly why named constants are so important to name. I think it's fair to call this a nice cleanup (getting rid of the constant) in addition to the new feature.",
      "commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "created_at" : "2024-05-10T20:33:47Z",
      "diff_hunk" : "@@ -397,12 +398,12 @@ DecodeResult Decode(const std::string& str) {\n }\n \n /** Find index of an incorrect character in a Bech32 string. */\n-std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str) {\n+std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str, CharLimit limit) {\n     std::vector<int> error_locations{};\n \n-    if (str.size() > 90) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597205866",
      "id" : 1597205866,
      "in_reply_to_id" : 1597108664,
      "line" : 403,
      "node_id" : "PRRC_kwDOABII585fM21q",
      "original_commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "original_line" : 403,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 23,
      "pull_request_review_id" : 2050840115,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597205866/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-10T20:33:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597205866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK retracted until resolving https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597108664.",
      "created_at" : "2024-05-10T20:34:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2105238891",
      "id" : 2105238891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859e2Vr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105238891/reactions"
      },
      "updated_at" : "2024-05-10T20:34:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105238891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597409852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597409852"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oof, also can't believe I missed this. Thanks for taking a look @paplorinc ! Took a look at your PR and I think this is the most elegant way to solve getting rid of the 90 in ExpandHRP, so I cherry-picked your last commit in (added `CHECKSUM_SIZE` and modified the commit message to fit this PR a bit more). As a nice side benefit, just this last commit improves the benchmark.",
      "commit_id" : "0e431c5a24b418ffd9151c9e734a1c572e790378",
      "created_at" : "2024-05-11T09:33:43Z",
      "diff_hunk" : "@@ -397,12 +398,12 @@ DecodeResult Decode(const std::string& str) {\n }\n \n /** Find index of an incorrect character in a Bech32 string. */\n-std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str) {\n+std::pair<std::string, std::vector<int>> LocateErrors(const std::string& str, CharLimit limit) {\n     std::vector<int> error_locations{};\n \n-    if (str.size() > 90) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597409852",
      "id" : 1597409852,
      "in_reply_to_id" : 1597108664,
      "line" : 403,
      "node_id" : "PRRC_kwDOABII585fNoo8",
      "original_commit_id" : "696e0a5314296ca064192f580de949d5d9d8f9d4",
      "original_line" : 403,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bech32.cpp",
      "position" : 83,
      "pull_request_review_id" : 2051165720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30047",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597409852/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-11T09:33:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597409852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Cherry picked https://github.com/bitcoin/bitcoin/pull/29607/commits/b3b84c3b85c72135ec28904bdb4778024b74bd0d (h/t @paplorinc) to resolve https://github.com/bitcoin/bitcoin/pull/30047#discussion_r1597108664.\r\n\r\nRan the benchmarks and saw an improvement from the last commit, which is a nice side benefit!\r\n\r\n#### Before\r\n\r\n```\r\n|             ns/byte |              byte/s |    err% |        ins/byte |        cyc/byte |    IPC |       bra/byte |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|                5.15 |      194,058,250.69 |    0.5% |           81.62 |           12.86 |  6.348 |          12.63 |    0.0% |      0.01 | `Bech32Decode`\r\n|               11.08 |       90,289,310.89 |    2.3% |          153.69 |           27.64 |  5.559 |          20.00 |    0.1% |      0.01 | `Bech32Encode`\r\n```\r\n\r\n#### After\r\n\r\n```\r\n|             ns/byte |              byte/s |    err% |        ins/byte |        cyc/byte |    IPC |       bra/byte |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|                4.73 |      211,584,025.79 |    0.3% |           67.67 |           11.78 |  5.743 |          10.85 |    0.0% |      0.01 | `Bech32Decode`\r\n|               10.44 |       95,767,220.36 |    2.6% |          138.84 |           26.06 |  5.327 |          17.25 |    0.0% |      0.01 | `Bech32Encode`\r\n```",
      "created_at" : "2024-05-11T09:40:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30047#issuecomment-2105655080",
      "id" : 2105655080,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30047",
      "node_id" : "IC_kwDOABII5859gb8o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105655080/reactions"
      },
      "updated_at" : "2024-05-11T09:40:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105655080",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   }
]
