[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30094).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107608765), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30094#pullrequestreview-2052778427), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/30094#pullrequestreview-2052782996), [theuni](https://github.com/bitcoin/bitcoin/pull/30094#pullrequestreview-2053082236), [hebasto](https://github.com/bitcoin/bitcoin/pull/30094#pullrequestreview-2053302033), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/30094#pullrequestreview-2053443097) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-05-13T13:38:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107605161",
      "id" : 2107605161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n4Cp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107605161/reactions"
      },
      "updated_at" : "2024-05-13T18:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107605161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Before and after of RSS:\r\n\r\n![rest-comparison-27-move](https://github.com/bitcoin/bitcoin/assets/6606587/a4b10ad6-e0e5-46b6-bd11-db7d9931b838)\r\n",
      "created_at" : "2024-05-13T13:39:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107608396",
      "id" : 2107608396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n41M",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107608396/reactions"
      },
      "updated_at" : "2024-05-13T13:39:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107608396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "review ACK b77bad309e92f176f340598eec056eb7bff86f5f\r\n\r\n",
      "created_at" : "2024-05-13T13:39:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107608765",
      "id" : 2107608765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n469",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107608765/reactions"
      },
      "updated_at" : "2024-05-13T13:39:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107608765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also \"fixes\" #30052",
      "created_at" : "2024-05-13T13:48:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107629353",
      "id" : 2107629353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n98p",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107629353/reactions"
      },
      "updated_at" : "2024-05-13T13:48:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107629353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Also \"fixes\" #30052\r\n\r\nAh yes, the actual reason I started investigating this in the first place! Thanks.\r\n\r\nI was slightly unsure whether I should claim that this is fully fixing #24525, but it will fix #30052",
      "created_at" : "2024-05-13T13:50:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107634197",
      "id" : 2107634197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n_IV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107634197/reactions"
      },
      "updated_at" : "2024-05-13T13:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107634197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Unrelated to the blockToJSON changes here, as a follow-up, it may be possible to \"fix\" https://github.com/bitcoin/bitcoin/issues/25229 in the same way?",
      "created_at" : "2024-05-13T13:51:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2107635441",
      "id" : 2107635441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859n_bx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107635441/reactions"
      },
      "updated_at" : "2024-05-13T13:51:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107635441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually, looks like this could use a `txs.reserve(block.vtx.size())` as well.",
      "created_at" : "2024-05-13T17:12:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2108284477",
      "id" : 2108284477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859qd49",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108284477/reactions"
      },
      "updated_at" : "2024-05-13T17:12:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108284477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Unrelated to the blockToJSON changes here, as a follow-up, it may be possible to \"fix\" #25229 in the same way?\r\n\r\nI can push a similar commit here if it's worth merging the two. Or open a separate PR? Perhaps with 3 ACKs a separate PR is preferable? I also am only halfway through making a \"big wallet\" (using achow101's [make-big-wallet](https://gist.github.com/achow101/f24309bba501cc08c9a3a3d55fa6eec6) script, so I have no suitable wallet to test such a commit against currently. \r\n\r\n> Actually, looks like this could use a txs.reserve(block.vtx.size()) as well.\r\n\r\nI don't see `reserve` on `UniValue`. Perhaps I a missing what you mean here?\r\n\r\n> I would be great to check all UniValue::push_back and UniValue::pushKV invocations in the codebase.\r\n\r\nI can check the remainder of the codebase for other occurrences too.",
      "created_at" : "2024-05-13T18:44:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2108560277",
      "id" : 2108560277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859rhOV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108560277/reactions"
      },
      "updated_at" : "2024-05-13T18:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108560277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Actually, looks like this could use a txs.reserve(block.vtx.size()) as well.\r\n> \r\n> I don't see `reserve` on `UniValue`. Perhaps I a missing what you mean here?\r\n\r\nWhoops, of course you're right. It probably should though :)",
      "created_at" : "2024-05-13T18:46:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2108563958",
      "id" : 2108563958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859riH2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108563958/reactions"
      },
      "updated_at" : "2024-05-13T18:46:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108563958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > I would be great to check all UniValue::push_back and UniValue::pushKV invocations in the codebase.\r\n> \r\n> I can check the remainder of the codebase for other occurrences too.\r\n\r\nI was already working on this and... wow. You've opened a big can of worms here @willcl-ark :). But that's a good thing because it should reduce memusage and increase performance I'd assume.\r\n\r\nSee here for my first pass. It's a beast. https://github.com/theuni/bitcoin/commits/less-univalue-copies/\r\n\r\nThe first commit mostly just does the naive thing of adding `std::move` when possible. In a few cases I shuffled code around to avoid a move-after-use. I moved pretty quickly though and might have introduced some bugs. A pass with clang-tidy would be useful.\r\n\r\nThe second commit adds `// TODO` for any copy being made. Most of these are probably legit, but I assume some could be avoided by changing surrounding code/params.\r\n\r\nThese are changes required for bitcoind only. I haven't done tests/fuzz/bench/etc.\r\n\r\nTo flesh them out, I changed the function signatures of the corresponding UniValue functions to accept rvalues only.\r\n\r\nEdit: added 2 more commits to avoid copying strings. @willcl-ark let me know if you've already been working on this some and how you'd like to collaborate on it. There's quite a bit of work to do here :)",
      "created_at" : "2024-05-13T20:33:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2108751842",
      "id" : 2108751842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859sP_i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108751842/reactions"
      },
      "updated_at" : "2024-05-13T22:19:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2108751842",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Backported to 27.x in #30092.",
      "created_at" : "2024-05-14T00:16:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2109040044",
      "id" : 2109040044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859tWWs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109040044/reactions"
      },
      "updated_at" : "2024-05-14T00:16:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109040044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I was already working on this and... wow. You've opened a big can of worms here @willcl-ark :). But that's a good thing because it should reduce memusage and increase performance I'd assume.\r\n> \r\n> See here for my first pass. It's a beast. [theuni/bitcoin@`less-univalue-copies` (commits)](https://github.com/theuni/bitcoin/commits/less-univalue-copies/)\r\n\r\nWow! This looks like a great start! Will begin to review...\r\n\r\n> Edit: added 2 more commits to avoid copying strings. @willcl-ark let me know if you've already been working on this some and how you'd like to collaborate on it. There's quite a bit of work to do here :)\r\n\r\nI have not yet started to look at this so will avoid duplicating the effort! All I had started was a branch to add explicit move semantics (which it turns out is not needed): https://github.com/bitcoin/bitcoin/compare/master...willcl-ark:bitcoin:univalue-move\r\n\r\nHappy to collaborate though if you have any specific things in mind you'd like help with :)\r\n\r\nI do have a somewhat-reproducible benchmark set up for this specifc REST call, it's just querying every 5000th block. I was also using @achow101 's [make-big-wallet](https://gist.github.com/achow101/f24309bba501cc08c9a3a3d55fa6eec6) to make a big wallet last night (wow-- it took 12 hours to generate!) in order to try and benchmark the `listtransactions` callsite from https://github.com/bitcoin/bitcoin/issues/25229\r\n\r\nI don't think it's strictly needed, as moving a large UniValue is almost certainly an improvement over a large copy, but I still like to see for myself.",
      "created_at" : "2024-05-14T10:41:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2109869098",
      "id" : 2109869098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859wgwq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109869098/reactions"
      },
      "updated_at" : "2024-05-14T10:41:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2109869098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theuni FWIW I do see some _increased_ RSS measurements on your current branch vs master (with my one, single test using listtransactions rpc on a large wallet):\r\n\r\n![univalue-move-comparison](https://github.com/bitcoin/bitcoin/assets/6606587/1e68dd1e-7ff9-49fd-8de5-aa71a3a5e6a0)\r\n\r\nThis is also what I saw on my linked \"univalue-move\" branch above. I didn't investigate why exactly this happens, yet. It seems like `move` might not always be advantageous for us...",
      "created_at" : "2024-05-14T12:51:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2110153539",
      "id" : 2110153539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859xmND",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110153539/reactions"
      },
      "updated_at" : "2024-05-14T12:51:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110153539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "backport for 26.x in #29899",
      "created_at" : "2024-05-14T13:33:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2110260609",
      "id" : 2110260609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII5859yAWB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110260609/reactions"
      },
      "updated_at" : "2024-05-14T13:33:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110260609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@willcl-ark Thanks!\r\n\r\nHuh, I can't think of any reason why that would be the case. Saving on copies should be nothing but a win. Odd.\r\n\r\nI think I'll start by opening a PR for the simplest/most obvious moves. Maybe you could help me bench those?",
      "created_at" : "2024-05-14T17:42:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2110785523",
      "id" : 2110785523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII58590Afz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110785523/reactions"
      },
      "updated_at" : "2024-05-14T17:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2110785523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@willcl-ark I added a quick/dirty bench to my branch that shows the difference between copies and moves. It seems correct to me.\r\n\r\nDo you have any interest in doing the same for memory usage, just as a sanity check that nothing funky is happening low-level? Beyond that, I'm not really sure where to start with your graph... it really doesn't make any sense to me :)",
      "created_at" : "2024-05-14T21:13:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2111151797",
      "id" : 2111151797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII58591Z61",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2111151797/reactions"
      },
      "updated_at" : "2024-05-14T21:13:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2111151797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "You benchmark looks good and reports the result I'd expect too!\r\n\r\nI'll investigate my own measurements some more in the mean time...",
      "created_at" : "2024-05-15T15:00:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30094#issuecomment-2112786215",
      "id" : 2112786215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30094",
      "node_id" : "IC_kwDOABII58597o8n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2112786215/reactions"
      },
      "updated_at" : "2024-05-15T15:00:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2112786215",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
