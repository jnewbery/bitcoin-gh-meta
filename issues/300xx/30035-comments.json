[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30035).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [edilmedeiros](https://github.com/bitcoin/bitcoin/pull/30035#pullrequestreview-2043898870) |\n| Stale ACK | [tdb3](https://github.com/bitcoin/bitcoin/pull/30035#pullrequestreview-2039756843) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-05-03T19:42:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#issuecomment-2093659623",
      "id" : 2093659623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30035",
      "node_id" : "IC_kwDOABII5858yrXn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093659623/reactions"
      },
      "updated_at" : "2024-05-07T21:24:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093659623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590372865"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590372865"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:  Probably outside the scope of this PR (this PR is adding tests, so business logic changes are extraneous), but at first glance, seems like these statements could be simplified, since `InsecureRandRange()` can return 0, the `std::string` constructor can handle 0 count, and string operator+ can handle empty string addition.  Maybe I'm missing something?\r\n\r\nFor example:\r\n\r\n```diff\r\ndiff --git a/src/test/base58_tests.cpp b/src/test/base58_tests.cpp\r\nindex 49ef9ff5b5..beb5ef3335 100644\r\n--- a/src/test/base58_tests.cpp\r\n+++ b/src/test/base58_tests.cpp\r\n@@ -92,8 +92,8 @@ BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\r\n         auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\r\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\r\n \r\n-        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\r\n-        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\r\n+        auto leadingSpaces = std::string(InsecureRandRange(10), ' ');\r\n+        auto trailingSpaces = std::string(InsecureRandRange(10), ' ');\r\n         auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\r\n \r\n         std::vector<unsigned char> decoded;\r\n```",
      "commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "created_at" : "2024-05-05T17:51:53Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590372865",
      "id" : 1590372865,
      "line" : 96,
      "node_id" : "PRRC_kwDOABII585eyyoB",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 96,
      "original_position" : 42,
      "original_start_line" : 95,
      "path" : "src/test/base58_tests.cpp",
      "position" : 42,
      "pull_request_review_id" : 2039756843,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590372865/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 95,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-05T17:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590372865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/106488469?v=4",
         "events_url" : "https://api.github.com/users/tdb3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tdb3/followers",
         "following_url" : "https://api.github.com/users/tdb3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tdb3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tdb3",
         "id" : 106488469,
         "login" : "tdb3",
         "node_id" : "U_kgDOBljilQ",
         "organizations_url" : "https://api.github.com/users/tdb3/orgs",
         "received_events_url" : "https://api.github.com/users/tdb3/received_events",
         "repos_url" : "https://api.github.com/users/tdb3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tdb3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tdb3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tdb3"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590380169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590380169"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for checking @tdb3, the results would be similar, but since I assumed the spaces are rare in reality, I gave it different odds.\r\nIn my impl the probability that we won't have any leading (or trailing) spaces was `50% + 50%*10%`, in your impl it's `10%`, so spaces would be in most samples.\r\nI'm fine with both.",
      "commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "created_at" : "2024-05-05T18:23:54Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590380169",
      "id" : 1590380169,
      "in_reply_to_id" : 1590372865,
      "line" : 96,
      "node_id" : "PRRC_kwDOABII585ey0aJ",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 96,
      "original_position" : 42,
      "original_start_line" : 95,
      "path" : "src/test/base58_tests.cpp",
      "position" : 42,
      "pull_request_review_id" : 2039765181,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590380169/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 95,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-05T18:24:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590380169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590383244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590383244"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, that's right (higher probability of no spaces over rand range alone). I don't have a preference, just an observation.",
      "commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "created_at" : "2024-05-05T18:33:25Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1590383244",
      "id" : 1590383244,
      "in_reply_to_id" : 1590372865,
      "line" : 96,
      "node_id" : "PRRC_kwDOABII585ey1KM",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 96,
      "original_position" : 42,
      "original_start_line" : 95,
      "path" : "src/test/base58_tests.cpp",
      "position" : 42,
      "pull_request_review_id" : 2039767733,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590383244/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 95,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-05T18:33:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590383244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/106488469?v=4",
         "events_url" : "https://api.github.com/users/tdb3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tdb3/followers",
         "following_url" : "https://api.github.com/users/tdb3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tdb3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tdb3",
         "id" : 106488469,
         "login" : "tdb3",
         "node_id" : "U_kgDOBljilQ",
         "organizations_url" : "https://api.github.com/users/tdb3/orgs",
         "received_events_url" : "https://api.github.com/users/tdb3/received_events",
         "repos_url" : "https://api.github.com/users/tdb3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tdb3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tdb3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tdb3"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592905348"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592905348"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since you are proposing random input vectors, what do you think about adding a log message with the generated test vector?\r\n\r\n`BOOST_TEST_MESSAGE(\"Test input: '\" << encoded << \"'\");`\r\n\r\nlooks good on my terminal. You probably can figure out a better message.",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T18:31:01Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592905348",
      "id" : 1592905348,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e8c6E",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 101,
      "original_position" : 44,
      "original_start_line" : 97,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2043898870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592905348/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T20:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592905348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592921496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592921496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Something sus happened here: the tests seem to pass, but the message indicates encoding failure. Next is the beginning of the relevant log. It happens for all input vectors.\r\n\r\n```\r\ntest/base58_tests.cpp:21: Entering test suite \"base58_tests\"\r\ntest/base58_tests.cpp:24: Entering test case \"base58_EncodeBase58\"\r\ntest/base58_tests.cpp:40: info: check '[\"\",\"\"]\r\nEncoding failed for test #0: expected , got ' has passed\r\ntest/base58_tests.cpp:40: info: check '[\"61\",\"2g\"]\r\nEncoding failed for test #1: expected 2g, got 2g' has passed\r\ntest/base58_tests.cpp:40: info: check '[\"626262\",\"a3gV\"]\r\nEncoding failed for test #2: expected a3gV, got a3gV' has passed\r\n... \r\n```",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T18:46:17Z",
      "diff_hunk" : "@@ -35,8 +35,9 @@ BOOST_AUTO_TEST_CASE(base58_EncodeBase58)\n         std::vector<unsigned char> sourcedata = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n         BOOST_CHECK_MESSAGE(\n-                    EncodeBase58(sourcedata) == base58string,\n-                    strTest);\n+            EncodeBase58(sourcedata) == base58string,\n+            strTest << \"\\nEncoding failed for test #\" << idx << \": expected \" << base58string << \", got \" << EncodeBase58(sourcedata)\n+        );",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592921496",
      "id" : 1592921496,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e8g2Y",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 40,
      "original_position" : 8,
      "original_start_line" : 38,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2043898870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592921496/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T20:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592921496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592949918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592949918"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I like this change, but the message doesn't seem so good. I greped the repo but couldn't find a `maxRetLen` symbol, thus it sounds very confusing to me.",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T19:14:37Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+\n         std::vector<unsigned char> decoded;\n         auto ok_too_small = DecodeBase58Check(encoded, decoded, InsecureRandRange(len));\n-        BOOST_CHECK(!ok_too_small);\n+        BOOST_CHECK_MESSAGE(!ok_too_small, \"Decoding should fail for smaller maxRetLen\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592949918",
      "id" : 1592949918,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e8nye",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 101,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2043898870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592949918/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-07T20:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592949918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592956103"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592956103"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Same thing as above.\r\n\r\n```\r\ntest/base58_tests.cpp:45: Entering test case \"base58_DecodeBase58\"\r\ntest/base58_tests.cpp:60: info: check '[\"\",\"\"]\r\nDecoding failed for test #0: ' has passed\r\ntest/base58_tests.cpp:64: info: check '[\"\",\"\"]\r\nMismatch for test #0: expected , got ' has passed\r\ntest/base58_tests.cpp:60: info: check '[\"61\",\"2g\"]\r\nDecoding failed for test #1: 2g' has passed\r\ntest/base58_tests.cpp:64: info: check '[\"61\",\"2g\"]\r\nMismatch for test #1: expected 61, got 61' has passed\r\ntest/base58_tests.cpp:60: info: check '[\"626262\",\"a3gV\"]\r\nDecoding failed for test #2: a3gV' has passed\r\ntest/base58_tests.cpp:64: info: check '[\"626262\",\"a3gV\"]\r\nMismatch for test #2: expected 626262, got 626262' has passed\r\n...\r\n```",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T19:21:05Z",
      "diff_hunk" : "@@ -56,8 +57,11 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest << \"\\nDecoding failed for test #\" << idx << \": \" << base58string);\n+        BOOST_CHECK_MESSAGE(\n+            result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()),\n+            strTest << \"\\nMismatch for test #\" << idx << \": expected \" << HexStr(expected) << \", got \" << HexStr(result)\n+        );",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1592956103",
      "id" : 1592956103,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e8pTH",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 66,
      "original_position" : 22,
      "original_start_line" : 60,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2043898870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592956103/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T20:18:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1592956103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nBuilt and ran the unit tests.\r\n\r\nThe new messages seem to be the opposite of what the tests do, tough.",
      "created_at" : "2024-05-07T19:24:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#issuecomment-2099144448",
      "id" : 2099144448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30035",
      "node_id" : "IC_kwDOABII5859HmcA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099144448/reactions"
      },
      "updated_at" : "2024-05-07T19:24:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099144448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review @edilmedeiros, some of the existing BOOST_CHECK_MESSAGE messages are either in [indicative](https://github.com/bitcoin/bitcoin/blob/master/src/test/bloom_tests.cpp#L51) or [subjunctive](https://github.com/bitcoin/bitcoin/blob/master/src/test/bloom_tests.cpp#L31) grammatical moods (even in the same file, as you can see).\r\nI'm fine with both, but if you think the subjunctive is more readable, I'll rephrase.",
      "created_at" : "2024-05-07T20:19:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#issuecomment-2099233436",
      "id" : 2099233436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30035",
      "node_id" : "IC_kwDOABII5859H8Kc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099233436/reactions"
      },
      "updated_at" : "2024-05-07T20:19:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099233436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Thanks for the review @edilmedeiros, some of the existing BOOST_CHECK_MESSAGE messages are either in [indicative](https://github.com/bitcoin/bitcoin/blob/master/src/test/bloom_tests.cpp#L51) or [subjunctive](https://github.com/bitcoin/bitcoin/blob/master/src/test/bloom_tests.cpp#L31) grammatical moods (even in the same file, as you can see). I'm fine with both, but if you think the subjunctive is more readable, I'll rephrase.\r\n\r\nI have no personal preference about it, but this is not my point.\r\n\r\nTake for instance `Mismatch for test #2: expected 626262, got 626262' has passed`.\r\n\r\nHow can (expected) `626262` not match (got) `626262`?",
      "created_at" : "2024-05-07T20:33:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#issuecomment-2099261379",
      "id" : 2099261379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30035",
      "node_id" : "IC_kwDOABII5859IC_D",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099261379/reactions"
      },
      "updated_at" : "2024-05-07T20:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2099261379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593114513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593114513"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, now I get what you meant - I've changed the messages to shoulds, thanks for the hint!\r\nRunning it with `make && src/test/test_bitcoin --run_test=base58_tests --log_level=all  -- -printtoconsole=1` now prints:\r\n```\r\ntest/base58_tests.cpp:108: info: check 'Decoding `111111111111111J4kMuvqbHmtTVvULAvzkZCa3m2n9zHaYBL3KCE5y7phvY7737aYsgLjg5343Awj7jbBuYvioVwvkP4HvWsb3T6F8w3WEax4HkrTx8GXbZc1R1m4BWT48R8d2rU3557aNGpQ5pFyaFHYzTzDiNRTVmoYG7pns87AuFahyrTUNRufZe4gLf5Mb1JhWDCd438qHu8pBFWsVJrGkw` as `0000000000000000000000000000008b34460016ad99c0bc7832c852b1466044ad61e39127e2c55a0de4edf834261031c53bdbe06ab56df531b108229e2a2c9e12b9ebe047f8628407efb6e5d4664072d7c5759037f01cae87c4a15d6bd260dddd678cd9b5ded2202067b0538e572dba1a91d88e86fabfefe8648388af51d3c4c5a2732e66ff5c924f3460cca68bcf336e50b1350d16bc8590456a4e2477a3f2d2` should match `0000000000000000000000000000008b34460016ad99c0bc7832c852b1466044ad61e39127e2c55a0de4edf834261031c53bdbe06ab56df531b108229e2a2c9e12b9ebe047f8628407efb6e5d4664072d7c5759037f01cae87c4a15d6bd260dddd678cd9b5ded2202067b0538e572dba1a91d88e86fabfefe8648388af51d3c4c5a2732e66ff5c924f3460cca68bcf336e50b1350d16bc8590456a4e2477a3f2d2`' has passed\r\n```",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T21:24:15Z",
      "diff_hunk" : "@@ -56,8 +57,11 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest << \"\\nDecoding failed for test #\" << idx << \": \" << base58string);\n+        BOOST_CHECK_MESSAGE(\n+            result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()),\n+            strTest << \"\\nMismatch for test #\" << idx << \": expected \" << HexStr(expected) << \", got \" << HexStr(result)\n+        );",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593114513",
      "id" : 1593114513,
      "in_reply_to_id" : 1592956103,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e9P-R",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 66,
      "original_position" : 22,
      "original_start_line" : 60,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2044228433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593114513/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T21:24:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593114513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593116395"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593116395"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, I've cherry picked this, in the current impl it's called `max_ret_len` - fixed",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T21:25:38Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+\n         std::vector<unsigned char> decoded;\n         auto ok_too_small = DecodeBase58Check(encoded, decoded, InsecureRandRange(len));\n-        BOOST_CHECK(!ok_too_small);\n+        BOOST_CHECK_MESSAGE(!ok_too_small, \"Decoding should fail for smaller maxRetLen\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593116395",
      "id" : 1593116395,
      "in_reply_to_id" : 1592949918,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e9Qbr",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 101,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2044230163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593116395/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-07T21:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593116395",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593117357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117357"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed, thanks!\r\nAdded you as a Co-author, please check that the email is correct.",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T21:26:20Z",
      "diff_hunk" : "@@ -35,8 +35,9 @@ BOOST_AUTO_TEST_CASE(base58_EncodeBase58)\n         std::vector<unsigned char> sourcedata = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n         BOOST_CHECK_MESSAGE(\n-                    EncodeBase58(sourcedata) == base58string,\n-                    strTest);\n+            EncodeBase58(sourcedata) == base58string,\n+            strTest << \"\\nEncoding failed for test #\" << idx << \": expected \" << base58string << \", got \" << EncodeBase58(sourcedata)\n+        );",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593117357",
      "id" : 1593117357,
      "in_reply_to_id" : 1592921496,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e9Qqt",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 40,
      "original_position" : 8,
      "original_start_line" : 38,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2044231027,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117357/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T21:26:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593117445"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117445"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea, done",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-07T21:26:24Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1593117445",
      "id" : 1593117445,
      "in_reply_to_id" : 1592905348,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585e9QsF",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 101,
      "original_position" : 44,
      "original_start_line" : 97,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2044231093,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117445/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-07T21:26:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1593117445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594060918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594060918"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Let's remove this since the messages now bring the test vectors themselves, this is duplicating purpose.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T13:44:49Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594060918",
      "id" : 1594060918,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585fA3B2",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 60,
      "original_position" : 19,
      "original_start_line" : 60,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594060918/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594060918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594063834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594063834"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    BOOST_CHECK(DecodeBase58(\"good\"s, result, 100));\r\n```\r\nI understand the rational of aligning this with surrounding context, but does seem against guidelines and will look like a typo for others.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T13:46:35Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,\n+            strTest << \"\\nDecoding `\" << base58string << \"` as `\" << HexStr(result) << \"` should match `\" << HexStr(expected) << \"`\"\n+        );\n     }\n \n     BOOST_CHECK(!DecodeBase58(\"invalid\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"invalid\\0\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"\\0invalid\"s, result, 100));\n \n-    BOOST_CHECK(DecodeBase58(\"good\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58(\"good\"s, result, 100));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594063834",
      "id" : 1594063834,
      "line" : 72,
      "node_id" : "PRRC_kwDOABII585fA3va",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 72,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 30,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594063834/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594063834",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594064312"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594064312"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n    BOOST_CHECK(DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\r\n```\r\nSame as above.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T13:46:53Z",
      "diff_hunk" : "@@ -75,25 +81,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     std::vector<unsigned char> expected = ParseHex(\"971a55\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n-    BOOST_CHECK(DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594064312",
      "id" : 1594064312,
      "line" : 83,
      "node_id" : "PRRC_kwDOABII585fA324",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 83,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 39,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594064312/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594064312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594190131"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594190131"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            strTest << \": got \\\"\" << EncodeBase58(sourcedata) << \"\\\"\"\r\n```\r\nWhat about a little less verbose and taking advantage of the `strTest` string that has both input and expected outcome?",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T14:59:23Z",
      "diff_hunk" : "@@ -35,8 +35,9 @@ BOOST_AUTO_TEST_CASE(base58_EncodeBase58)\n         std::vector<unsigned char> sourcedata = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n         BOOST_CHECK_MESSAGE(\n-                    EncodeBase58(sourcedata) == base58string,\n-                    strTest);\n+            EncodeBase58(sourcedata) == base58string,\n+            strTest << \"\\nEncoding `\" << HexStr(Span(sourcedata)) << \"` as `\" << EncodeBase58(sourcedata) << \"` should match `\" << base58string << \"`\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594190131",
      "id" : 1594190131,
      "line" : 39,
      "node_id" : "PRRC_kwDOABII585fBWkz",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 39,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 7,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594190131/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594190131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594203045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594203045"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            strTest << \": got \\\"\" << EncodeBase58(sourcedata) << \"\\\"\"\r\n```\r\nSame suggestion as above.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:07:02Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,\n+            strTest << \"\\nDecoding `\" << base58string << \"` as `\" << HexStr(result) << \"` should match `\" << HexStr(expected) << \"`\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594203045",
      "id" : 1594203045,
      "line" : 64,
      "node_id" : "PRRC_kwDOABII585fBZul",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 64,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 21,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594203045/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594203045",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594206244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594206244"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\r\n```\r\nTesting for the same thing as before, but removing the test vector from the message don't seem to be an improvement. Potentially makes debugging more difficult.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:09:20Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594206244",
      "id" : 1594206244,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585fBagk",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 62,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594206244/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594206244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594213673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594213673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was in doubt this would check if the vectors contents are equal, but it does indeed. Nice catch.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:14:47Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594213673",
      "id" : 1594213673,
      "line" : 63,
      "node_id" : "PRRC_kwDOABII585fBcUp",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 63,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 20,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594213673/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594213673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594218804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594218804"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Don't need this since the test messages now bring the input vector.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:18:24Z",
      "diff_hunk" : "@@ -75,25 +81,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     std::vector<unsigned char> expected = ParseHex(\"971a55\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n-    BOOST_CHECK(DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oi\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh0IOl\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << encoded << \"`\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594218804",
      "id" : 1594218804,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585fBdk0",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 100,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594218804/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594218804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594224724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594224724"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I like all this, but it would be better to explain in the PR description why it is important/beneficial to include this change since this increases the test complexity. \r\n\r\nProbably would be even better to have a separate test case to check for leading and trailing spaces. This test case is intended to check for leading zeros and now it checks for three concerns (leading zeros, leading spaces, and trailing spaces) instead of one.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:22:55Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594224724",
      "id" : 1594224724,
      "in_reply_to_id" : 1590372865,
      "line" : 97,
      "node_id" : "PRRC_kwDOABII585fBfBU",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 97,
      "original_position" : 42,
      "original_start_line" : 95,
      "path" : "src/test/base58_tests.cpp",
      "position" : 57,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594224724/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 96,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594224724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594239728"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594239728"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Another place where there's a random parameter that's not reported making potential debugging impossible.\r\n\r\nAlso, the text is no good since `max_ret_len` is the maximum return size. Better something like `Decoding exceeds xxx length.` where xxx prints the random parameter.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:33:56Z",
      "diff_hunk" : "@@ -75,25 +81,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     std::vector<unsigned char> expected = ParseHex(\"971a55\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n-    BOOST_CHECK(DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oi\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh0IOl\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << encoded << \"`\");\n+\n         std::vector<unsigned char> decoded;\n-        auto ok_too_small = DecodeBase58Check(encoded, decoded, InsecureRandRange(len));\n-        BOOST_CHECK(!ok_too_small);\n-        auto ok = DecodeBase58Check(encoded, decoded, len + InsecureRandRange(257 - len));\n-        BOOST_CHECK(ok);\n-        BOOST_CHECK(data == decoded);\n+        BOOST_CHECK_MESSAGE(!DecodeBase58Check(encoded, decoded, InsecureRandRange(len)), \"Decoding should fail for smaller max_ret_len\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594239728",
      "id" : 1594239728,
      "line" : 101,
      "node_id" : "PRRC_kwDOABII585fBirw",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 101,
      "original_position" : 69,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 66,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594239728/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594239728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594240546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594240546"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Same thing about unreported random parameter in the test. This is worse yet since there's a weird logic to get the param. It's good that you submitted this PR, the original test deserved a better look already.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:34:32Z",
      "diff_hunk" : "@@ -75,25 +81,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     std::vector<unsigned char> expected = ParseHex(\"971a55\");\n     BOOST_CHECK_EQUAL_COLLECTIONS(result.begin(), result.end(), expected.begin(), expected.end());\n \n-    BOOST_CHECK(DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oi\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh0IOl\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto encoded = leadingSpaces + EncodeBase58Check(data) + trailingSpaces;\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << encoded << \"`\");\n+\n         std::vector<unsigned char> decoded;\n-        auto ok_too_small = DecodeBase58Check(encoded, decoded, InsecureRandRange(len));\n-        BOOST_CHECK(!ok_too_small);\n-        auto ok = DecodeBase58Check(encoded, decoded, len + InsecureRandRange(257 - len));\n-        BOOST_CHECK(ok);\n-        BOOST_CHECK(data == decoded);\n+        BOOST_CHECK_MESSAGE(!DecodeBase58Check(encoded, decoded, InsecureRandRange(len)), \"Decoding should fail for smaller max_ret_len\");\n+        BOOST_CHECK_MESSAGE( DecodeBase58Check(encoded, decoded, len + InsecureRandRange(257 - len)), \"Decoding should succeed within valid length range\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594240546",
      "id" : 1594240546,
      "line" : 102,
      "node_id" : "PRRC_kwDOABII585fBi4i",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 102,
      "original_position" : 70,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 67,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594240546/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594240546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594244597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594244597"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Please explain in the PR first comment and in the commit message why are you adding these specific test cases, what do they improve in the existing test logic.",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-08T15:37:38Z",
      "diff_hunk" : "",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594244597",
      "id" : 1594244597,
      "line" : 1,
      "node_id" : "PRRC_kwDOABII585fBj31",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 1,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/data/base58_encode_decode.json",
      "position" : 1,
      "pull_request_review_id" : 2045711761,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594244597/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "file",
      "updated_at" : "2024-05-08T15:41:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594244597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594251265"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594251265"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Fixed, thanks! Added you as a Co-author, please check that the email is correct.\r\n\r\nNot needed, but highly appreciated. Thanks.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T15:42:27Z",
      "diff_hunk" : "@@ -35,8 +35,9 @@ BOOST_AUTO_TEST_CASE(base58_EncodeBase58)\n         std::vector<unsigned char> sourcedata = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n         BOOST_CHECK_MESSAGE(\n-                    EncodeBase58(sourcedata) == base58string,\n-                    strTest);\n+            EncodeBase58(sourcedata) == base58string,\n+            strTest << \"\\nEncoding failed for test #\" << idx << \": expected \" << base58string << \", got \" << EncodeBase58(sourcedata)\n+        );",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594251265",
      "id" : 1594251265,
      "in_reply_to_id" : 1592921496,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585fBlgB",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 40,
      "original_position" : 8,
      "original_start_line" : 38,
      "path" : "src/test/base58_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 2046031544,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594251265/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-08T15:42:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594251265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594592389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594592389"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> it checks for three concerns\r\n\r\nThat's a property based test, i.e. for random valid inputs it checks that certain conditions hold - in this case a roundtrip, that decoding an encoded results in the original trimmed value.\r\nIt's meant to find corner cases that we haven't though of, that's its single concern, we have separate tests for each corner case we know about.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T20:32:26Z",
      "diff_hunk" : "@@ -81,19 +85,31 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n     BOOST_CHECK(!DecodeBase58Check(\"3vQB7B6MrGQZaxCuFg4oh\\0\" \"0IOl\"s, result, 100));\n }\n \n-BOOST_AUTO_TEST_CASE(base58_random_encode_decode)\n+BOOST_AUTO_TEST_CASE(base58_random_encode_decode_with_optional_spaces)\n {\n     for (int n = 0; n < 1000; ++n) {\n-        unsigned int len = 1 + InsecureRandBits(8);\n-        unsigned int zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n+        auto len = 1 + InsecureRandBits(8);\n+        auto zeroes = InsecureRandBool() ? InsecureRandRange(len + 1) : 0;\n         auto data = Cat(std::vector<unsigned char>(zeroes, '\\000'), g_insecure_rand_ctx.randbytes(len - zeroes));\n-        auto encoded = EncodeBase58Check(data);\n+\n+        auto leadingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";\n+        auto trailingSpaces = InsecureRandBool() ? std::string(InsecureRandRange(10), ' ') : \"\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594592389",
      "id" : 1594592389,
      "in_reply_to_id" : 1590372865,
      "line" : 97,
      "node_id" : "PRRC_kwDOABII585fC4yF",
      "original_commit_id" : "9431bc94a19837a0b053fbbde9f5367543a7264e",
      "original_line" : 97,
      "original_position" : 42,
      "original_start_line" : 95,
      "path" : "src/test/base58_tests.cpp",
      "position" : 57,
      "pull_request_review_id" : 2046582787,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594592389/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 96,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-05-08T20:32:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594592389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594596029"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594596029"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The file was already using this format: https://github.com/bitcoin/bitcoin/blob/master/src/test/base58_tests.cpp#L74",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T20:36:19Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,\n+            strTest << \"\\nDecoding `\" << base58string << \"` as `\" << HexStr(result) << \"` should match `\" << HexStr(expected) << \"`\"\n+        );\n     }\n \n     BOOST_CHECK(!DecodeBase58(\"invalid\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"invalid\\0\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"\\0invalid\"s, result, 100));\n \n-    BOOST_CHECK(DecodeBase58(\"good\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58(\"good\"s, result, 100));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594596029",
      "id" : 1594596029,
      "in_reply_to_id" : 1594063834,
      "line" : 72,
      "node_id" : "PRRC_kwDOABII585fC5q9",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 72,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 30,
      "pull_request_review_id" : 2046588958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594596029/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T20:36:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594596029",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594600115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594600115"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Valid concern, I also testes it to understand why it was done differently",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T20:39:11Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594600115",
      "id" : 1594600115,
      "in_reply_to_id" : 1594213673,
      "line" : 63,
      "node_id" : "PRRC_kwDOABII585fC6qz",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 63,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 20,
      "pull_request_review_id" : 2046595680,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594600115/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T20:39:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594600115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594602235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594602235"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for your detailed review, will do that this week",
      "commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "created_at" : "2024-05-08T20:40:30Z",
      "diff_hunk" : "",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594602235",
      "id" : 1594602235,
      "in_reply_to_id" : 1594244597,
      "line" : 1,
      "node_id" : "PRRC_kwDOABII585fC7L7",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 1,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/data/base58_encode_decode.json",
      "position" : 1,
      "pull_request_review_id" : 2046599680,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594602235/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "file",
      "updated_at" : "2024-05-08T20:40:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594602235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594704577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594704577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Looks more like a typo, see lines 67 and 78.",
      "commit_id" : "26a775da44a4994aa829afcd2a86b81e7d3f617d",
      "created_at" : "2024-05-08T21:18:24Z",
      "diff_hunk" : "@@ -56,15 +57,20 @@ BOOST_AUTO_TEST_CASE(base58_DecodeBase58)\n         }\n         std::vector<unsigned char> expected = ParseHex(test[0].get_str());\n         std::string base58string = test[1].get_str();\n-        BOOST_CHECK_MESSAGE(DecodeBase58(base58string, result, 256), strTest);\n-        BOOST_CHECK_MESSAGE(result.size() == expected.size() && std::equal(result.begin(), result.end(), expected.begin()), strTest);\n+        BOOST_TEST_MESSAGE(\"Test input: `\" << base58string << \"`\");\n+\n+        BOOST_CHECK(DecodeBase58(base58string, result, 256));\n+        BOOST_CHECK_MESSAGE(\n+            result == expected,\n+            strTest << \"\\nDecoding `\" << base58string << \"` as `\" << HexStr(result) << \"` should match `\" << HexStr(expected) << \"`\"\n+        );\n     }\n \n     BOOST_CHECK(!DecodeBase58(\"invalid\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"invalid\\0\"s, result, 100));\n     BOOST_CHECK(!DecodeBase58(\"\\0invalid\"s, result, 100));\n \n-    BOOST_CHECK(DecodeBase58(\"good\"s, result, 100));\n+    BOOST_CHECK( DecodeBase58(\"good\"s, result, 100));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30035#discussion_r1594704577",
      "id" : 1594704577,
      "in_reply_to_id" : 1594063834,
      "line" : 72,
      "node_id" : "PRRC_kwDOABII585fDULB",
      "original_commit_id" : "fc0cc2dbf9700cb7de5a12700b89b786827a8dd6",
      "original_line" : 72,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/test/base58_tests.cpp",
      "position" : 30,
      "pull_request_review_id" : 2046748727,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30035",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594704577/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-08T21:18:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1594704577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   }
]
