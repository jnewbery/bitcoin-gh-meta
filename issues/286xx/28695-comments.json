[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28695).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/28695#pullrequestreview-1690371059) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-10-20T15:44:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1772980550",
      "id" : 1772980550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585prYlG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772980550/reactions"
      },
      "updated_at" : "2023-10-20T15:53:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772980550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I would greatly appreciate it if someone could write unit tests for this, @vasild @jonatack maybe?",
      "created_at" : "2023-10-20T15:46:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1772983120",
      "id" : 1772983120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585prZNQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772983120/reactions"
      },
      "updated_at" : "2023-10-20T15:46:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772983120",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This should probably be in the 26.0 milestone?",
      "created_at" : "2023-10-23T08:49:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1774716867",
      "id" : 1774716867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pyAfD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774716867/reactions"
      },
      "updated_at" : "2023-10-23T08:49:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774716867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "To what extent is the proxy trusted, and to what extent is it required to validate inputs from it? I think it would be good to first document that and then design unit and fuzz tests based on that design assumption?",
      "created_at" : "2023-10-23T09:03:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1774741614",
      "id" : 1774741614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pyGhu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774741614/reactions"
      },
      "updated_at" : "2023-10-23T09:03:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774741614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "typo-nit: `received`",
      "created_at" : "2023-10-23T09:06:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1774747837",
      "id" : 1774747837,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pyIC9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774747837/reactions"
      },
      "updated_at" : "2023-10-23T09:06:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774747837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> To what extent is the proxy trusted, and to what extent is it required to validate inputs from it?\r\n\r\n@jonatack @vasild @zzzi2p",
      "created_at" : "2023-10-23T09:10:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1774753670",
      "id" : 1774753670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pyJeG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774753670/reactions"
      },
      "updated_at" : "2023-10-23T09:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774753670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "The i2pd crash in OP should be reported to that project and/or @orignal\r\n\r\nJava I2P probably won't crash on bad input and we do some validation of public and private keys but we can't promise to catch everything.\r\n\r\nThe format is a little elaborate, I don't know how far down you want to go. Would you validate the individual key fields? Would you check for pubkey/privkey mismatches? Just basic length checks?\r\n\r\nFrom the SAM spec:\r\n\r\n```\r\nThe $privkey is the base 64 of the concatenation of the [Destination](https://geti2p.net/en/docs/spec/common-structures#type_Destination) \r\nfollowed by the [Private Key](https://geti2p.net/en/docs/spec/common-structures#type_PrivateKey) \r\nfollowed by the [Signing Private Key](https://geti2p.net/en/docs/spec/common-structures#type_SigningPrivateKey),\r\n optionally followed by the [Offline Signature](https://geti2p.net/en/docs/spec/common-structures#struct_OfflineSignature), \r\nwhich is 663 or more bytes in binary and 884 or more bytes in base 64, depending on signature type. \r\nThe binary format is specified in [Private Key File](https://github.com/i2p/i2p.i2p/blob/master/core/java/src/net/i2p/data/PrivateKeyFile.java). \r\nSee additional notes about the [Private Key](https://geti2p.net/en/docs/spec/common-structures#type_PrivateKey)\r\n in the Destination Key Generation section below.\r\n\r\nIf the signing private key is all zeros, \r\nthe [Offline Signature](https://geti2p.net/en/docs/spec/common-structures#struct_OfflineSignature) \r\nsection follows....\r\n```\r\n\r\nAnd there's more near the bottom in the 'Destination Key Generation' section of https://geti2p.net/en/docs/api/samv3\r\n\r\nYou're not using offline signatures so you can skip that part.\r\n\r\nI can't really answer your question about \"trust\" in SAM. It probably won't send you bad input, and in most cases you can treat the private key as an opaque string without \"validation\". So as long as you don't corrupt it when you store and retrieve it, you should be fine. But it's up to you.",
      "created_at" : "2023-10-23T12:16:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1775063452",
      "id" : 1775063452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pzVGc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775063452/reactions"
      },
      "updated_at" : "2023-10-23T12:18:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775063452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ah, correction, OP is a bitcoin crash not a i2pd crash, apologies to @orignal",
      "created_at" : "2023-10-23T12:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28695#issuecomment-1775075623",
      "id" : 1775075623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28695",
      "node_id" : "IC_kwDOABII585pzYEn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775075623/reactions"
      },
      "updated_at" : "2023-10-23T12:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775075623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   }
]
