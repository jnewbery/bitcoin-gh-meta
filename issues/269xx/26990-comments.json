[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/26990).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Approach ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1871186180) |\n| Stale ACK | [andrewtoth](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1761314443), [hernanmarino](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1879030432) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-01-30T05:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1408013154",
      "id" : 1408013154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585T7JNi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408013154/reactions"
      },
      "updated_at" : "2024-04-19T16:30:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1408013154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks @kouloumos for taking the time to review this PR, I agree with your comments and I appreciate you added more context into it so people could bring other thoughts.\r\n\r\nI just wanted to make a small change first and specifically to the `-generate` code block but since, as you said, the confusion applies to any other \"client-side command\" or `[options]` I could move the validation a bit up in the code around the line [where the args variable is set](https://github.com/bitcoin/bitcoin/blob/b5868f4b1f884e8d6612f34ca4005fe3a992053d/src/bitcoin-cli.cpp#L1122), which contains  the [params] of the command (or the args for -generate).\r\n\r\nI got another commit that I could publish that changes ArgsManager in order to accept, for example, `-rpcwallet` as an independent command or `[option]` after `-generate` so `bitcoin-cli -generate 3 4 -rpcwallet=X` works (so order won't matter anymore) and I got something similar to the validation you mentioned in your last sentence, but this approach would change the behaviour of the current parsing and even if we can affirm that's invalid or, as today, it \"ignores\" any [params] with \"-\" (slash) at the front when it's specified after a non-optional argument, I'm not sure (yet) about all the implications this could bring to all the components where the ArgsManager is being used.",
      "created_at" : "2023-01-31T20:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1411046166",
      "id" : 1411046166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585UGtsW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411046166/reactions"
      },
      "updated_at" : "2023-01-31T20:57:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411046166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonatack thanks for reviewing; as you and @kouloumos recommended and as I commented [here](https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1411046166), I've made the validation more generic for any cli-command moving it up in the code.\r\nAs part of this validation, I've added 3 more checks that were not verified before:\r\n- duplication of cli-command (at the moment you can specify -rpcwallet many times, only the last one will be taken into account,\r\n- only 1 cli-command can run at a time (as @kouloumos mentioned [here](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1274911604)),\r\n- no params starting with slash \"-\" will be accepted after a cli-command (this is the case for `bitcoin-cli -generate 3 -rpcwallet=xyz`)\r\n\r\nI've also incorporated @jonatack's recommendation on the error description for `WALLET_NOT_SPECIFIED`.\r\n",
      "created_at" : "2023-02-27T19:19:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1446919139",
      "id" : 1446919139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585WPjvj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446919139/reactions"
      },
      "updated_at" : "2023-02-27T19:19:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1446919139",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The only thing i suggest changing is giving a more descriptive error on the following situation :\r\n> ```\r\n> $ bitcoin-cli -regtest -generate 1 -rpcwallet=tst2\r\n> error: Error: this is not a valid cli-command argument \"-rpcwallet=tst2\", if that is a valid option you might try passing it before -generate\r\n> ```\r\n\r\nThanks, I agree with it, updated it.",
      "created_at" : "2023-03-02T14:23:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1451948439",
      "id" : 1451948439,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585WivmX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1451948439/reactions"
      },
      "updated_at" : "2023-03-02T14:23:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1451948439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127232884"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure if this new message makes it more clear. Specifically, \"For the CLI\" seems like it might confuse users because there's nothing opposed to that in the message.",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:09:21Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127232884",
      "id" : 1127232884,
      "line" : 890,
      "node_id" : "PRRC_kwDOABII585DMDV0",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127232884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Where does `bitcoin-cli -h` show how to solve this problem specifically? Telling users to run that here might not be very helpful. The second part could be useful information though.",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:10:06Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";\n+            strPrint += \" (run \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233443",
      "id" : 1127233443,
      "line" : 891,
      "node_id" : "PRRC_kwDOABII585DMDej",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `Initialize set`",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:10:18Z",
      "diff_hunk" : "@@ -1078,6 +1079,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize array with cli-commands that run exclusively",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127233611",
      "id" : 1127233611,
      "line" : 1089,
      "node_id" : "PRRC_kwDOABII585DMDhL",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 1089,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 21,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127233611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127234775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        \"Multiple wallets are loaded. Specify the wallet by requesting the RPC through /wallet/<filename> URI path.\");\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:11:50Z",
      "diff_hunk" : "@@ -89,7 +89,7 @@ std::shared_ptr<CWallet> GetWalletForJSONRPCRequest(const JSONRPCRequest& reques\n             RPC_WALLET_NOT_FOUND, \"No wallet is loaded. Load a wallet using loadwallet or create a new one with createwallet. (Note: A default wallet is no longer automatically created)\");\n     }\n     throw JSONRPCError(RPC_WALLET_NOT_SPECIFIED,\n-        \"Wallet file not specified (must request wallet RPC through /wallet/<filename> uri-path).\");\n+        \"Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path.\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127234775",
      "id" : 1127234775,
      "line" : 92,
      "node_id" : "PRRC_kwDOABII585DMDzX",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 92,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/util.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127234775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127235671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Again, I don't think \"For the CLI\" message is useful if it doesn't have a \"as opposed to the \".",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:13:02Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127235671",
      "id" : 1127235671,
      "line" : 31,
      "node_id" : "PRRC_kwDOABII585DMEBX",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 31,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 5,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127235671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127236411"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nINVALID_CLI_COMMAND_ARGUMENT = 'Error: \\\"{}\\\" is not a valid cli-command argument. If \\\"{}\\\" is a valid option try passing it before the \\\"{}\\\" command.'\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:14:01Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127236411",
      "id" : 1127236411,
      "line" : 32,
      "node_id" : "PRRC_kwDOABII585DMEM7",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 6,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127236411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127237286"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\nMULTIPLE_CLI_COMMAND_ERROR = \"Error: you can only run one cli-command at a time, either {} or {}\"\r\n```",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T01:15:06Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'\n+DUPLICATE_COMMAND_ERROR = 'Error: duplicate command line argument {}'\n+MULTIPLE_CLI_COMMAND_ERROR = \"Error: you can run only one cli-command at a time, please choose one: {} or {}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127237286",
      "id" : 1127237286,
      "line" : 34,
      "node_id" : "PRRC_kwDOABII585DMEam",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 34,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : 8,
      "pull_request_review_id" : 1327472532,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T01:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127237286",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127275368"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Where does `bitcoin-cli -h` show how to solve this problem specifically?\r\n\r\n`./src/bitcoin-cli -h | grep -A4 rpcwallet`\r\n",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T02:27:23Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";\n+            strPrint += \" (run \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127275368",
      "id" : 1127275368,
      "in_reply_to_id" : 1127233443,
      "line" : 891,
      "node_id" : "PRRC_kwDOABII585DMNto",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1327538842,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T02:27:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127275368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127282385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The alternative is provided in the preceding sentence:\r\n\r\n`Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path. Or for the CLI, specify the \"-rpcwallet=<filename>\" option before the command (run \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded).`\r\n\r\nThe functional test could make that more clear if the full message is used.\r\n\r\n```diff\r\nindex 0f2e076fe8b..58f6c593175 100755\r\n--- a/test/functional/interface_bitcoin_cli.py\r\n+++ b/test/functional/interface_bitcoin_cli.py\r\n@@ -28,7 +28,7 @@ JSON_PARSING_ERROR = 'error: Error parsing JSON: foo'\r\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\r\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\r\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\r\n-WALLET_NOT_SPECIFIED = 'for the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\r\n+WALLET_NOT_SPECIFIED = 'Multiple wallets are loaded. Please select which wallet to use by requesting the RPC through the /wallet/<filename> URI path. Or for the CLI, specify the \"-rpcwallet=<filename>\" option before the command (run \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded).'\r\n```\r\n",
      "commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "created_at" : "2023-03-07T02:42:03Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127282385",
      "id" : 1127282385,
      "in_reply_to_id" : 1127232884,
      "line" : 890,
      "node_id" : "PRRC_kwDOABII585DMPbR",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 1327548531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T02:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1127282385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130071627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071627"
         }
      },
      "author_association" : "NONE",
      "body" : "done",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-08T21:52:35Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130071627",
      "id" : 1130071627,
      "in_reply_to_id" : 1127236411,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DW4ZL",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : null,
      "pull_request_review_id" : 1331532692,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071627/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-08T21:52:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130071906"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071906"
         }
      },
      "author_association" : "NONE",
      "body" : "done",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-08T21:52:44Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'\n+DUPLICATE_COMMAND_ERROR = 'Error: duplicate command line argument {}'\n+MULTIPLE_CLI_COMMAND_ERROR = \"Error: you can run only one cli-command at a time, please choose one: {} or {}\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130071906",
      "id" : 1130071906,
      "in_reply_to_id" : 1127237286,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DW4di",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 34,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : null,
      "pull_request_review_id" : 1331532915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071906/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-08T21:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130071906",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130104615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130104615"
         }
      },
      "author_association" : "NONE",
      "body" : "On this one, when I raise the error or when I have to pass the strings for the insertion into the chain, it doesn't look right to pass twice the same variable (e.g.: `INVALID_CLI_COMMAND_ARGUMENT.format(rpcwallet3, rpcwallet3, \"-generate\"`).\r\n\r\nWould you accept:\r\n\r\n`INVALID_CLI_COMMAND_ARGUMENT = 'Error: invalid cli-command argument. If \\\"{}\\\" is a valid option try passing it before the \\\"{}\\\" command.'`",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-08T22:09:09Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'\n+INVALID_CLI_COMMAND_ARGUMENT = 'Error: this is not a valid cli-command argument \\\"{}\\\", if that is a valid option you might try passing it before \\\"{}\\\" command.'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130104615",
      "id" : 1130104615,
      "in_reply_to_id" : 1127236411,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DXAcn",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 32,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : null,
      "pull_request_review_id" : 1331561454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130104615/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-08T22:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130104615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130114475"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130114475"
         }
      },
      "author_association" : "NONE",
      "body" : "fixed",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-08T22:12:43Z",
      "diff_hunk" : "@@ -1078,6 +1079,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize array with cli-commands that run exclusively",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1130114475",
      "id" : 1130114475,
      "in_reply_to_id" : 1127233611,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DXC2r",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 1089,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1331572866,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130114475/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-08T22:12:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1130114475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131669863"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131669863"
         }
      },
      "author_association" : "NONE",
      "body" : "I've updated the test with the full error message, also I've changed the text a bit:\r\n \r\n`Multiple wallets are loaded. Please specify a wallet by requesting the RPC through the /wallet/<filename> URI path. Using \"bitcoin-cli\", add the \"-rpcwallet=<filename>\" option before the command (run \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded).`",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-09T22:09:18Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131669863",
      "id" : 1131669863,
      "in_reply_to_id" : 1127232884,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dc-ln",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1333888471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131669863/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-09T22:09:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131669863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131676111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131676111"
         }
      },
      "author_association" : "NONE",
      "body" : "I've updated the error message as I've commented it [here](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131669863).",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-09T22:16:04Z",
      "diff_hunk" : "@@ -28,7 +28,10 @@\n BLOCKS_VALUE_OF_ZERO = 'error: the first argument (number of blocks to generate, default: 1) must be an integer value greater than zero'\n TOO_MANY_ARGS = 'error: too many arguments (maximum 2 for nblocks and maxtries)'\n WALLET_NOT_LOADED = 'Requested wallet does not exist or is not loaded'\n-WALLET_NOT_SPECIFIED = 'Wallet file not specified'\n+WALLET_NOT_SPECIFIED = 'For the CLI, specify the \"-rpcwallet=<filename>\" option before the command'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131676111",
      "id" : 1131676111,
      "in_reply_to_id" : 1127235671,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DdAHP",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 31,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "test/functional/interface_bitcoin_cli.py",
      "position" : null,
      "pull_request_review_id" : 1333895470,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131676111/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-09T22:16:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131676111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131702758"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131702758"
         }
      },
      "author_association" : "NONE",
      "body" : "@andrewtoth I've updated the error message, check if that looks better for you.",
      "commit_id" : "8b7c194f29a905ea806ea36bf0013808f5adf57f",
      "created_at" : "2023-03-09T22:42:45Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";\n+            strPrint += \" (run \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1131702758",
      "id" : 1131702758,
      "in_reply_to_id" : 1127233443,
      "line" : 891,
      "node_id" : "PRRC_kwDOABII585DdGnm",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1333921755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131702758/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-09T22:42:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131702758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1133339434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1133339434"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've re-tweaked it a bit, added a `\\n` as current implementation and just set the error message that comes from the `utils` in the test's constant:\r\n```\r\nMultiple wallets are loaded. Please specify a wallet to use by requesting the RPC through the /wallet/<filename> URI path.\r\nUsing \"bitcoin-cli\", add the \"-rpcwallet=<filename>\" option before the command.\r\nRun \"bitcoin-cli -h\" for help or \"bitcoin-cli listwallets\" to see which wallets are currently loaded.\r\n````\r\nWALLET_NOT_SPECIFIED = 'Multiple wallets are loaded. Please select a wallet to use'`",
      "commit_id" : "0fe610deba336f0370d68c130dc9a223b7db964e",
      "created_at" : "2023-03-12T23:12:29Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \" For the CLI, specify the \\\"-rpcwallet=<filename>\\\" option before the command\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1133339434",
      "id" : 1133339434,
      "in_reply_to_id" : 1127232884,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DjWMq",
      "original_commit_id" : "7f5fd1e6999b955dbb0b382bbfdce90a02e1cd8e",
      "original_line" : 890,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1336101134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1133339434/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-12T23:12:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1133339434",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1135699239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135699239"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            strPrint += \"\\nRun \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded.\";\r\n```",
      "commit_id" : "28694ecb848a753ebef9de33201947439125affb",
      "created_at" : "2023-03-14T15:02:32Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";\n+            strPrint += \"\\nRun \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1135699239",
      "id" : 1135699239,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DsWUn",
      "original_commit_id" : "0fe610deba336f0370d68c130dc9a223b7db964e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1339517491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135699239/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-14T15:02:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135699239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 0fe610deba336f0370d68c130dc9a223b7db964e modulo the dangling closing parenthesis in the error message.\r\nAlso, the first line of the commit message should be at most 80 chars.",
      "created_at" : "2023-03-14T15:08:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1468285386",
      "id" : 1468285386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585XhEHK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468285386/reactions"
      },
      "updated_at" : "2023-03-14T15:08:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468285386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1135879724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135879724"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fixed",
      "commit_id" : "28694ecb848a753ebef9de33201947439125affb",
      "created_at" : "2023-03-14T16:40:48Z",
      "diff_hunk" : "@@ -887,7 +887,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";\n+            strPrint += \"\\nRun \\\"bitcoin-cli -h\\\" for help or \\\"bitcoin-cli listwallets\\\" to see which wallets are currently loaded).\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1135879724",
      "id" : 1135879724,
      "in_reply_to_id" : 1135699239,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DtCYs",
      "original_commit_id" : "0fe610deba336f0370d68c130dc9a223b7db964e",
      "original_line" : 891,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1339767489,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135879724/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-14T16:40:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135879724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> ACK [0fe610d](https://github.com/bitcoin/bitcoin/commit/0fe610deba336f0370d68c130dc9a223b7db964e) modulo the dangling closing parenthesis in the error message. \r\n> Also, the first line of the commit message should be at most 80 chars.\r\n\r\nI've corrected them both. Thanks!",
      "created_at" : "2023-03-14T16:41:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1468452555",
      "id" : 1468452555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585Xhs7L",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468452555/reactions"
      },
      "updated_at" : "2023-03-14T16:41:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1468452555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1275685570"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275685570"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a reason we shouldn't just support this? Normally it is okay to pass switch options in any order.",
      "commit_id" : "a870f5affcfb85f91afe989db0824313985158d8",
      "created_at" : "2023-07-27T03:14:32Z",
      "diff_hunk" : "@@ -1078,6 +1079,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    std::set<std::string> cliCommands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (cliCommands.find(cliCommand) != cliCommands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands\n+ *  3. unrecognised cli-command or any other argument starting with a slash\n+ * and throws an exception if any of the conditions are met.\n+ * @throws std::runtime_error if there are invalid args.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string> commands;\n+    std::string exclusivelyCliCommand;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find(\"=\");\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.count(command) > 0) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (exclusivelyCliCommand != \"\") {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusivelyCliCommand, command));\n+                }\n+                exclusivelyCliCommand = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(command) && exclusivelyCliCommand != \"\") {\n+                throw std::runtime_error(strprintf(\"Error: invalid cli-command argument. If \\\"%s\\\" is a valid option try passing it before the \\\"%s\\\" command.\", argv[i], exclusivelyCliCommand));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1275685570",
      "id" : 1275685570,
      "line" : 1136,
      "node_id" : "PRRC_kwDOABII585MCWrC",
      "original_commit_id" : "a870f5affcfb85f91afe989db0824313985158d8",
      "original_line" : 1136,
      "original_position" : 68,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 68,
      "pull_request_review_id" : 1548931927,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275685570/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-27T03:14:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275685570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1349779447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349779447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Perhaps we should, this issue has been here for a while it seems (#1044). I'll ping you with an alternative I've mentioned in a [comment](https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1411046166) above (3rd paragraph).",
      "commit_id" : "a870f5affcfb85f91afe989db0824313985158d8",
      "created_at" : "2023-10-08T21:27:30Z",
      "diff_hunk" : "@@ -1078,6 +1079,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    std::set<std::string> cliCommands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (cliCommands.find(cliCommand) != cliCommands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands\n+ *  3. unrecognised cli-command or any other argument starting with a slash\n+ * and throws an exception if any of the conditions are met.\n+ * @throws std::runtime_error if there are invalid args.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string> commands;\n+    std::string exclusivelyCliCommand;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find(\"=\");\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.count(command) > 0) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (exclusivelyCliCommand != \"\") {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusivelyCliCommand, command));\n+                }\n+                exclusivelyCliCommand = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(command) && exclusivelyCliCommand != \"\") {\n+                throw std::runtime_error(strprintf(\"Error: invalid cli-command argument. If \\\"%s\\\" is a valid option try passing it before the \\\"%s\\\" command.\", argv[i], exclusivelyCliCommand));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1349779447",
      "id" : 1349779447,
      "in_reply_to_id" : 1275685570,
      "line" : 1136,
      "node_id" : "PRRC_kwDOABII585Qc__3",
      "original_commit_id" : "a870f5affcfb85f91afe989db0824313985158d8",
      "original_line" : 1136,
      "original_position" : 68,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 68,
      "pull_request_review_id" : 1663603211,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349779447/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-08T21:27:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349779447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.\r\n\r\nSplit the changes into 2 commits: 1. improve current message error; 2. New validation.\r\n\r\nUpdated PR description accordingly.",
      "created_at" : "2023-10-09T14:38:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1753138638",
      "id" : 1753138638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585ofsXO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1753138638/reactions"
      },
      "updated_at" : "2023-10-09T14:38:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1753138638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383787269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383787269"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here we are using `std::set::find` and below on line 1141 we are using `std::set::count` to determine if an element already exists. We should use a consistent method for each. I'm not sure if C++20 is supported in this codebase yet, but we should use `std::set::contains` if it is.",
      "commit_id" : "11e0a80b19a98b79adaa25a06f14d564da3ba85b",
      "created_at" : "2023-11-06T18:27:29Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> cliCommands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (cliCommands.find(cliCommand) != cliCommands.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383787269",
      "id" : 1383787269,
      "line" : 1115,
      "node_id" : "PRRC_kwDOABII585SeusF",
      "original_commit_id" : "11e0a80b19a98b79adaa25a06f14d564da3ba85b",
      "original_line" : 1115,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 15,
      "pull_request_review_id" : 1715911067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383787269/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T18:28:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383787269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> style-nit: all variable and function names should be snake_case https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c.\r\n\r\nThanks for checking that, you are right, I'll fix them all ASAP.",
      "created_at" : "2023-11-06T18:49:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1795922777",
      "id" : 1795922777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585rC5tZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1795922777/reactions"
      },
      "updated_at" : "2023-11-06T18:49:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1795922777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383818109"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383818109"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It makes sense, I'll use `std::set::find` instead of `std::set::count` (L#1141).\r\n\r\nRegarding C++20. it's [not enabled](https://github.com/bitcoin/bitcoin/blob/master/configure.ac#L99) yet but perhaps will be soon (#28349). If this PR doesn't get merged first I'll update the code as you suggested so I'm leaving this conversation as unresolved, otherwise I'll do a follow-up.",
      "commit_id" : "11e0a80b19a98b79adaa25a06f14d564da3ba85b",
      "created_at" : "2023-11-06T18:55:16Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> cliCommands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (cliCommands.find(cliCommand) != cliCommands.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383818109",
      "id" : 1383818109,
      "in_reply_to_id" : 1383787269,
      "line" : 1115,
      "node_id" : "PRRC_kwDOABII585Se2N9",
      "original_commit_id" : "11e0a80b19a98b79adaa25a06f14d564da3ba85b",
      "original_line" : 1115,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 15,
      "pull_request_review_id" : 1715976458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383818109/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T18:55:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383818109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've addressed feedback from @andrewtoth - thank you!",
      "created_at" : "2023-11-09T18:17:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1804327607",
      "id" : 1804327607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585ri9q3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804327607/reactions"
      },
      "updated_at" : "2023-11-09T18:17:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804327607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159420"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159420"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: This parameter is not a reference. It is being passed by value. This comment could be more descriptive eg:\r\n```\r\n@param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\r\n```",
      "commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "created_at" : "2023-12-03T17:28:19Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159420",
      "id" : 1413159420,
      "line" : 1106,
      "node_id" : "PRRC_kwDOABII585UOxn8",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1106,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 6,
      "pull_request_review_id" : 1761314443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159420/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T17:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159532"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159532"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```\r\n* @returns true if cli_command is included in the set of the exclusively_commands.\r\n```",
      "commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "created_at" : "2023-12-03T17:29:30Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159532",
      "id" : 1413159532,
      "line" : 1107,
      "node_id" : "PRRC_kwDOABII585UOxps",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1107,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 7,
      "pull_request_review_id" : 1761314443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159532/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T17:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159552"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: could be `static`.",
      "commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "created_at" : "2023-12-03T17:29:42Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413159552",
      "id" : 1413159552,
      "line" : 1112,
      "node_id" : "PRRC_kwDOABII585UOxqA",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1112,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 1761314443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T17:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413159552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413160472"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160472"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `2. multiple bitcoin-cli commands that need to run exclusively`",
      "commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "created_at" : "2023-12-03T17:35:59Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands allowance",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413160472",
      "id" : 1413160472,
      "line" : 1121,
      "node_id" : "PRRC_kwDOABII585UOx4Y",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1121,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 21,
      "pull_request_review_id" : 1761314443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160472/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T17:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413160578"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160578"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `3. unrecognized cli-commands or other arguments starting with a slash`",
      "commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "created_at" : "2023-12-03T17:36:51Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands allowance\n+ *  3. unrecognised cli-command or any other argument starting with a slash",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413160578",
      "id" : 1413160578,
      "line" : 1122,
      "node_id" : "PRRC_kwDOABII585UOx6C",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1122,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 22,
      "pull_request_review_id" : 1761314443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160578/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T17:44:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413160578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211901"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, there was an extra space as well.",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:37:21Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211901",
      "id" : 1413211901,
      "in_reply_to_id" : 1413159420,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UO-b9",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1106,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1761371433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211901/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:37:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211918"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Right, thanks!",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:37:33Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211918",
      "id" : 1413211918,
      "in_reply_to_id" : 1413159532,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UO-cO",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1107,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1761371467,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211918/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:37:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211927"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd prefer to keep the definition as is since the function is called only once, thanks for the suggestion.",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:37:40Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211927",
      "id" : 1413211927,
      "in_reply_to_id" : 1413159552,
      "line" : 1112,
      "node_id" : "PRRC_kwDOABII585UO-cX",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1112,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 22,
      "pull_request_review_id" : 1761371478,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211927/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:37:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211937"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211937"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, your version is clearer. Thanks!",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:37:46Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands allowance",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211937",
      "id" : 1413211937,
      "in_reply_to_id" : 1413160472,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UO-ch",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1121,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1761371495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211937/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:37:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, also removed the following line and tweaked the return statement.",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:37:52Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. no multiple bitcoin-cli side commands allowance\n+ *  3. unrecognised cli-command or any other argument starting with a slash",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413211947",
      "id" : 1413211947,
      "in_reply_to_id" : 1413160578,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UO-cr",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1122,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1761371509,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:37:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413211947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updates: addressed @andrewtoth's feedback, thanks again! ",
      "created_at" : "2023-12-03T21:48:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1837610357",
      "id" : 1837610357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585th7V1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1837610357/reactions"
      },
      "updated_at" : "2023-12-03T21:48:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1837610357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413214496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413214496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry, not sure what you mean here. It looks to me like this function is called for every argument passed to bitcoin-cli, and therefore this set will be initialized for every argument instead of just once.",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T21:55:48Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413214496",
      "id" : 1413214496,
      "in_reply_to_id" : 1413159552,
      "line" : 1112,
      "node_id" : "PRRC_kwDOABII585UO_Eg",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1112,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 22,
      "pull_request_review_id" : 1761373929,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413214496/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T21:55:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413214496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413216635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413216635"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Right, sorry, I haven't expressed myself correctly, I meant that the validation was only \"used\" once but you are right, the `IsExclusivelyCliCommand` function is called for every argument passed to `bitcoin-cli`, still, `static` would keep the set  throughout the lifetime of the program.",
      "commit_id" : "4cf728617faf79bd5a6e92c70a56803375f529ef",
      "created_at" : "2023-12-03T22:09:42Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command  Reference to const string cli-command.\n+ * @returns true if cli_command it's included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1413216635",
      "id" : 1413216635,
      "in_reply_to_id" : 1413159552,
      "line" : 1112,
      "node_id" : "PRRC_kwDOABII585UO_l7",
      "original_commit_id" : "755320f75f2141909e84b62f420462c1c5b193e6",
      "original_line" : 1112,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 22,
      "pull_request_review_id" : 1761376074,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413216635/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-03T22:09:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1413216635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It looks safe to me to replace all uses of `std::string` with `std::string_view` in this PR.",
      "created_at" : "2024-01-05T16:55:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1878979055",
      "id" : 1878979055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585v_vHv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1878979055/reactions"
      },
      "updated_at" : "2024-01-05T16:55:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1878979055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/237213?v=4",
         "events_url" : "https://api.github.com/users/andrewtoth/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andrewtoth/followers",
         "following_url" : "https://api.github.com/users/andrewtoth/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andrewtoth/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andrewtoth",
         "id" : 237213,
         "login" : "andrewtoth",
         "node_id" : "MDQ6VXNlcjIzNzIxMw==",
         "organizations_url" : "https://api.github.com/users/andrewtoth/orgs",
         "received_events_url" : "https://api.github.com/users/andrewtoth/received_events",
         "repos_url" : "https://api.github.com/users/andrewtoth/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andrewtoth/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andrewtoth/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andrewtoth"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It looks safe to me to replace all uses of `std::string` with `std::string_view` in this PR.\r\n\r\n~Addressed most, except for `exclusively_command` which involves dynamic changes with different string values on each cycle, making it unsuitable for a `std::string_view`. Therefore, `std::string` is retained for `exclusively_command`.~\r\n\r\nedited: \r\n- Addressed all (on `exclusively_command`, once it is copied from `command`, the new std::string_view references the same underlying data, not owning it).\r\n- Since I was there, I've replaced `exclusively_command != \"\"` by `!exclusively_command.empty()`. Thanks!",
      "created_at" : "2024-01-08T18:38:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1881626022",
      "id" : 1881626022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585wJ1Wm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1881626022/reactions"
      },
      "updated_at" : "2024-01-08T19:02:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1881626022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476751537"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476751537"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fa48d460334beef43fa73455aa9e30971d33c1b2 This would output `error: Error:` and the duplicate element would be the bitcoin-cli command.\r\n\r\n```suggestion\r\n                throw std::runtime_error(strprintf(\"duplicate bitcoin-cli command %s\", command));\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:31:14Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476751537",
      "id" : 1476751537,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBXCx",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1141,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476751537/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476751537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476752815"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476752815"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fa48d460334beef43fa73455aa9e30971d33c1b2 This would output `error: Error:` and would be clearer as `bitcoin-cli command`.\r\n\r\n```suggestion\r\n                    throw std::runtime_error(strprintf(\"you can only run one bitcoin-cli command at a time, either %s or %s\", exclusively_command, command));\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:33:09Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476752815",
      "id" : 1476752815,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBXWv",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1149,
      "original_position" : 49,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476752815/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476752815",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476753642"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476753642"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fa48d460334beef43fa73455aa9e30971d33c1b2 This would output `error: Error:` and would be clearer as `bitcoin-cli command`.\r\n\r\n```suggestion\r\n                throw std::runtime_error(strprintf(\"invalid bitcoin-cli argument; if \\\"%s\\\" is a valid option, try passing it before the \\\"%s\\\" command\", argv[i], exclusively_command));\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:34:27Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));\n+                }\n+                exclusively_command = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(std::string(command)) && !exclusively_command.empty()) {\n+                throw std::runtime_error(strprintf(\"Error: invalid cli-command argument. If \\\"%s\\\" is a valid option try passing it before the \\\"%s\\\" command.\", argv[i], exclusively_command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476753642",
      "id" : 1476753642,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBXjq",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1157,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476753642/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476753642",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476755003"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476755003"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2 Can now use C++20 `std::set#contains` method.\r\n\r\n```suggestion\r\n            if (commands.contains(command)) {\r\n```",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:36:44Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476755003",
      "id" : 1476755003,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBX47",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1140,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476755003/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476755003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476756492"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476756492"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2 `continue` here would be more idiomatic C++ and avoid indenting the next 30 lines.\r\n\r\n```suggestion\r\n        if (!IsSwitchChar(argv[i][0])) continue;\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:39:11Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476756492",
      "id" : 1476756492,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBYQM",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1130,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476756492/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476756492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476759727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476759727"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2 These two lines could be reduced to the following to keep `pos` scoped to the conditional only (and use `string_view::npos` and the faster `find_first_of` that can stop at the first found result).\r\n\r\n```diff\r\n-            std::size_t pos = command.find('=');\r\n-            if (pos != std::string::npos) {\r\n+            if (const auto pos{command.find_first_of('=')}; pos != std::string_view::npos) {\r\n                 command = command.substr(0, pos);\r\n             }\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:43:50Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476759727",
      "id" : 1476759727,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBZCv",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1135,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476759727/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T22:08:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476759727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476781372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476781372"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2 This seems like a lot of code for what could be 2 lines instead, and you could make the commands data structure an `constexpr` array constant and have it run in O(n) instead of O(log n) (and order the commands by probable frequency of invocation). The resulting code is self-explanatory, so could drop the comments too.\r\n\r\n<details><summary>Suggested diff</summary><p>\r\n\r\n```diff\r\n@@ -53,6 +53,7 @@ using CliClock = std::chrono::system_clock;\r\n \r\n+constexpr std::array<std::string_view, 4> CLI_COMMANDS{\"-netinfo\", \"-getinfo\", \"-addrinfo\", \"-generate\"};\r\n static const char DEFAULT_RPCCONNECT[] = \"127.0.0.1\";\r\n\r\n@@ -1105,20 +1106,6 @@ static UniValue GetNewAddress()\r\n \r\n-/**\r\n- * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\r\n- * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\r\n- * @returns true if cli_command is included in the set of the exclusively_commands.\r\n- */\r\n-bool IsExclusivelyCliCommand(const std::string_view cli_command)\r\n-{\r\n-    // Initialize set with cli-commands that run exclusively\r\n-    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\r\n-\r\n-    // return if element was found or not\r\n-    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\r\n-}\r\n-\r\n\r\n@@ -1131,38 +1118,26 @@ static void ValidateCliCommand(int argc, char *argv[])\r\n-            // Check if it's a cli-command that runs exclusively e.g. a user could run:\r\n-            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\r\n-            // only the last one will be executed so we make sure the user specify only one\r\n-            if (IsExclusivelyCliCommand(command)) {\r\n+            if (std::find(std::begin(CLI_COMMANDS), std::end(CLI_COMMANDS), command) != std::end(CLI_COMMANDS)) {\r\n```\r\n</p></details>\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:54:48Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476781372",
      "id" : 1476781372,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBeU8",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1116,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476781372/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476781372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476783931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476783931"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2 could do the cheaper check first\r\n\r\n```suggestion\r\n            if (!exclusively_command.empty() && !gArgs.IsArgSet(std::string(command))) {\r\n```\r\n",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T21:56:11Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));\n+                }\n+                exclusively_command = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(std::string(command)) && !exclusively_command.empty()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476783931",
      "id" : 1476783931,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBe87",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1156,
      "original_position" : 56,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860423961,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476783931/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T21:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476783931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476798503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476798503"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Using an unordered set instead of a set, `find`/`contains` complexity can be reduced from O(log n) to O(1) - O(n) (constant on average, worst case linear to the size of the container). Remember to add the `#include <unordered_set>` header in this case.",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-02T22:18:36Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476798503",
      "id" : 1476798503,
      "in_reply_to_id" : 1476755003,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YBign",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1140,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1860491542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476798503/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-02T22:21:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1476798503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1483546926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483546926"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit bf48c40c0ee62e, I suggest the documentation in https://github.com/jonatack/bitcoin/commit/610397665795b702e380f879db43a000ed81aad3 (have updated it to use the best elements of both bf48c40c0ee62e and https://github.com/jonatack/bitcoin/commit/135395c885e72444d9e90b495b101525da827650).",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-02-08T20:19:22Z",
      "diff_hunk" : "@@ -908,7 +908,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1483546926",
      "id" : 1483546926,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YbSEu",
      "original_commit_id" : "bf48c40c0ee62eb6343f8aff06a88322a33f2dd6",
      "original_line" : 911,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1871186180,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483546926/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-08T20:34:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483546926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> re ACK [fa48d46](https://github.com/bitcoin/bitcoin/commit/fa48d460334beef43fa73455aa9e30971d33c1b2) Just a nit (only if you update) : your second commit title seems to suggest that it's gui related, instead of cli. \r\n\r\nYeah, there was an unconscious typo somewhere since the beginning and I think it's what @jonatack meant on his [latest review](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1860423961) as well.\r\n\r\n> Also, and although not invalidating for me , I think that @jonatack 's suggestions are worth following.\r\n\r\nThat's the plan, cheers.\r\n",
      "created_at" : "2024-02-13T22:39:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-1942756439",
      "id" : 1942756439,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII585zzBxX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942756439/reactions"
      },
      "updated_at" : "2024-02-13T22:39:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942756439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Are you still working on this?",
      "created_at" : "2024-04-17T18:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-2061931410",
      "id" : 2061931410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII58565pOS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061931410/reactions"
      },
      "updated_at" : "2024-04-17T18:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061931410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Are you still working on this?\r\n\r\nI'm about to continue, sorry for the delay!",
      "created_at" : "2024-04-17T18:57:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-2061999792",
      "id" : 2061999792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII5856556w",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061999792/reactions"
      },
      "updated_at" : "2024-04-17T18:57:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061999792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updates:\r\n- I've been working on @jonatack's latest feedback, I'm performing some tests at the moment and will update the code soon.",
      "created_at" : "2024-04-19T13:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-2066644693",
      "id" : 2066644693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII5857Ln7V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066644693/reactions"
      },
      "updated_at" : "2024-04-19T13:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2066644693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464319"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've made a combination of current state (`master`) and your improvements, based on the feedback provided by @andrewtoth ([1](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127232884), [2](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127235671)). Please let me know what you think.",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-20T23:51:52Z",
      "diff_hunk" : "@@ -908,7 +908,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464319",
      "id" : 1573464319,
      "in_reply_to_id" : 1483546926,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dySj_",
      "original_commit_id" : "bf48c40c0ee62eb6343f8aff06a88322a33f2dd6",
      "original_line" : 911,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013192462,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-20T23:52:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464459"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It makes sense. Thanks!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-20T23:52:59Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464459",
      "id" : 1573464459,
      "in_reply_to_id" : 1476751537,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dySmL",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1141,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013192530,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-20T23:52:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464506"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Same](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464459). Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-20T23:53:24Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464506",
      "id" : 1573464506,
      "in_reply_to_id" : 1476752815,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dySm6",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1149,
      "original_position" : 49,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013192551,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464506/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-20T23:53:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464506",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464538"
         }
      },
      "author_association" : "MEMBER",
      "body" : "[Same](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464459). Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-20T23:53:55Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));\n+                }\n+                exclusively_command = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(std::string(command)) && !exclusively_command.empty()) {\n+                throw std::runtime_error(strprintf(\"Error: invalid cli-command argument. If \\\"%s\\\" is a valid option try passing it before the \\\"%s\\\" command.\", argv[i], exclusively_command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464538",
      "id" : 1573464538,
      "in_reply_to_id" : 1476753642,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dySna",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1157,
      "original_position" : 57,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013192573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464538/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-20T23:53:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464782"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464782"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@andrewtoth, now I've included `std::set::contains` as [you](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383787269) and @jonatack [recommended](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1476755003).",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-20T23:56:23Z",
      "diff_hunk" : "@@ -1101,6 +1101,68 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cliCommand  Reference to const string cli-command.\n+ * @returns true if cliCommand it's included in the set of the cli-commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string cliCommand)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string> cliCommands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (cliCommands.find(cliCommand) != cliCommands.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464782",
      "id" : 1573464782,
      "in_reply_to_id" : 1383787269,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dySrO",
      "original_commit_id" : "11e0a80b19a98b79adaa25a06f14d564da3ba85b",
      "original_line" : 1115,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013192737,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464782/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-20T23:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573464782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465383"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It was also [suggested](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1383787269) by @andrewtoth, but C++20 wasn't supported at that time. Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-21T00:01:26Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465383",
      "id" : 1573465383,
      "in_reply_to_id" : 1476755003,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dyS0n",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1140,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013193484,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465383/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-21T00:01:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465430"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465430"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It makes more sense, thanks! Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-21T00:02:08Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465430",
      "id" : 1573465430,
      "in_reply_to_id" : 1476781372,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dyS1W",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1116,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013193557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465430/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-21T00:02:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465501"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465501"
         }
      },
      "author_association" : "MEMBER",
      "body" : "True. Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-21T00:02:25Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {\n+                command = command.substr(0, pos);\n+            }\n+\n+            // Check if this command has already been seen\n+            if (commands.find(command) != commands.end()) {\n+                throw std::runtime_error(strprintf(\"Error: duplicate command line argument %s\", command));\n+            }\n+\n+            // Check if it's a cli-command that runs exclusively e.g. a user could run:\n+            // \"bitcoin-cli -regtest -generate -netinfo -addrinfo -getinfo\" but it's confusing,\n+            // only the last one will be executed so we make sure the user specify only one\n+            if (IsExclusivelyCliCommand(command)) {\n+                if (!exclusively_command.empty()) {\n+                    throw std::runtime_error(strprintf(\"Error: you can only run one cli-command at a time, either %s or %s\", exclusively_command, command));\n+                }\n+                exclusively_command = command;\n+            }\n+\n+            // Check if the \"-\" command was recognised by the ArgsManager or interpreted as a parameter\n+            // e.g.: bitcoin-cli -generate 1 -rpcwallet=xxx, is an invalid call\n+            if (!gArgs.IsArgSet(std::string(command)) && !exclusively_command.empty()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465501",
      "id" : 1573465501,
      "in_reply_to_id" : 1476783931,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dyS2d",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1156,
      "original_position" : 56,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013193574,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465501/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-21T00:02:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465552"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465552"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I like it. Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-21T00:02:51Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {\n+            std::string_view command(argv[i]);\n+            // Check if the command line argument has an =, in that case, ignore what's after;\n+            // e.g.: -color=never; we just want to check \"-color\"\n+            std::size_t pos = command.find('=');\n+            if (pos != std::string::npos) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465552",
      "id" : 1573465552,
      "in_reply_to_id" : 1476759727,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dyS3Q",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1135,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013193610,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465552/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-21T00:02:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465667"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465667"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice. Done!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-04-21T00:04:03Z",
      "diff_hunk" : "@@ -1101,6 +1101,67 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * IsExclusivelyCliCommand checks if a string is a cli-command that needs to run exclusively\n+ * @param[in] cli_command The string to check if it is a cli-command that needs to run exclusively.\n+ * @returns true if cli_command is included in the set of the exclusively_commands.\n+ */\n+bool IsExclusivelyCliCommand(const std::string_view cli_command)\n+{\n+    // Initialize set with cli-commands that run exclusively\n+    const std::set<std::string_view> exclusively_commands{\"-generate\", \"-netinfo\", \"-addrinfo\", \"-getinfo\"};\n+\n+    // return if element was found or not\n+    return (exclusively_commands.find(cli_command) != exclusively_commands.end());\n+}\n+\n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized cli-commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (IsSwitchChar(argv[i][0])) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573465667",
      "id" : 1573465667,
      "in_reply_to_id" : 1476756492,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585dyS5D",
      "original_commit_id" : "fa48d460334beef43fa73455aa9e30971d33c1b2",
      "original_line" : 1130,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2013193773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465667/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-21T00:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573465667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updates:\r\n- Addressed [feedback](https://github.com/bitcoin/bitcoin/pull/26990#pullrequestreview-1860423961) provided by @jonatack regarding first commit 6898219043f42ae42e4703c549e656f56d276d13.\r\n- Updated second commit cf7dd3564a3ace4153a32930f36bd78432b59097 following some directions [given](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1483546926) by @jonatack and [discussed](https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1573464319) with @andrewtoth.\r\n  - Fixed incorrect commit title prefix (~~`gui:`~~ => `cli:`).\r\n",
      "created_at" : "2024-04-21T00:14:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#issuecomment-2067822211",
      "id" : 2067822211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26990",
      "node_id" : "IC_kwDOABII5857QHaD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067822211/reactions"
      },
      "updated_at" : "2024-04-21T00:14:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067822211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1614026697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614026697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I prefer the documentation in https://github.com/jonatack/bitcoin/commit/610397665795b702e380f879db43a000ed81aad3 because it makes clear that for the CLI a different method is needed (`-rpcwallet`).\r\n\r\n(Please see also https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1127282385. The CLI error message is appended to the RPC error and isn't in isolation. The functional tests should verify that.)",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-05-24T21:13:14Z",
      "diff_hunk" : "@@ -908,7 +908,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1614026697",
      "id" : 1614026697,
      "in_reply_to_id" : 1483546926,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585gNBfJ",
      "original_commit_id" : "bf48c40c0ee62eb6343f8aff06a88322a33f2dd6",
      "original_line" : 911,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2078061922,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614026697/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-24T21:26:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614026697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1614031474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614031474"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit, here and lines 1141 and 1149, can drop the trailing `.` as the other CLI error messages don't have one\r\n\r\n```suggestion\r\n            throw std::runtime_error(strprintf(\"duplicate bitcoin-cli command %s\", command));\r\n```",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-05-24T21:16:27Z",
      "diff_hunk" : "@@ -1107,6 +1111,48 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized bitcoin-cli commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::unordered_set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (!IsSwitchChar(argv[i][0])) continue;\n+        std::string_view command(argv[i]);\n+        // Check if the command line argument has an =, in that case, ignore what's after;\n+        // e.g.: -color=never; we just want to check \"-color\"\n+        if (const auto pos{command.find_first_of('=')}; pos != std::string_view::npos) {\n+            command = command.substr(0, pos);\n+        }\n+\n+        // Check if this command has already been seen\n+        if (commands.contains(command)) {\n+            throw std::runtime_error(strprintf(\"duplicate bitcoin-cli command %s.\", command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1614031474",
      "id" : 1614031474,
      "line" : 1136,
      "node_id" : "PRRC_kwDOABII585gNCpy",
      "original_commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "original_line" : 1136,
      "original_position" : 53,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 53,
      "pull_request_review_id" : 2078068185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614031474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-24T21:16:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1614031474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1660756564"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660756564"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, thanks, will do.",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-07-01T09:31:54Z",
      "diff_hunk" : "@@ -1107,6 +1111,48 @@ static UniValue GetNewAddress()\n     return ConnectAndCallRPC(&rh, \"getnewaddress\", /* args=*/{}, wallet_name);\n }\n \n+/**\n+ * ValidateCliCommand checks for:\n+ *  1. duplicate command line arguments\n+ *  2. multiple bitcoin-cli commands that need to run exclusively\n+ *  3. unrecognized bitcoin-cli commands or other arguments starting with a slash\n+ * @throws std::runtime_error if any of the conditions above are met.\n+ */\n+static void ValidateCliCommand(int argc, char *argv[])\n+{\n+    std::unordered_set<std::string_view> commands;\n+    std::string_view exclusively_command;\n+    for (int i = 1; i < argc; ++i) {\n+        if (!IsSwitchChar(argv[i][0])) continue;\n+        std::string_view command(argv[i]);\n+        // Check if the command line argument has an =, in that case, ignore what's after;\n+        // e.g.: -color=never; we just want to check \"-color\"\n+        if (const auto pos{command.find_first_of('=')}; pos != std::string_view::npos) {\n+            command = command.substr(0, pos);\n+        }\n+\n+        // Check if this command has already been seen\n+        if (commands.contains(command)) {\n+            throw std::runtime_error(strprintf(\"duplicate bitcoin-cli command %s.\", command));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1660756564",
      "id" : 1660756564,
      "in_reply_to_id" : 1614031474,
      "line" : 1136,
      "node_id" : "PRRC_kwDOABII585i_SJU",
      "original_commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "original_line" : 1136,
      "original_position" : 53,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 53,
      "pull_request_review_id" : 2150894797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660756564/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-07-01T09:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660756564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1660761271"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660761271"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok, I'll work on the full error message verification in the test and will consider your preference on the error documentation. Thanks again!",
      "commit_id" : "cf7dd3564a3ace4153a32930f36bd78432b59097",
      "created_at" : "2024-07-01T09:35:31Z",
      "diff_hunk" : "@@ -908,7 +908,8 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n             strPrint += (\"error message:\\n\" + err_msg.get_str());\n         }\n         if (err_code.isNum() && err_code.getInt<int>() == RPC_WALLET_NOT_SPECIFIED) {\n-            strPrint += \"\\nTry adding \\\"-rpcwallet=<filename>\\\" option to bitcoin-cli command line.\";\n+            strPrint += \"\\nUsing \\\"bitcoin-cli\\\", add the \\\"-rpcwallet=<filename>\\\" option before the command.\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26990#discussion_r1660761271",
      "id" : 1660761271,
      "in_reply_to_id" : 1483546926,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585i_TS3",
      "original_commit_id" : "bf48c40c0ee62eb6343f8aff06a88322a33f2dd6",
      "original_line" : 911,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 2150902397,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26990",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660761271/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-07-01T09:35:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1660761271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/110166421?v=4",
         "events_url" : "https://api.github.com/users/pablomartin4btc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pablomartin4btc/followers",
         "following_url" : "https://api.github.com/users/pablomartin4btc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pablomartin4btc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pablomartin4btc",
         "id" : 110166421,
         "login" : "pablomartin4btc",
         "node_id" : "U_kgDOBpEBlQ",
         "organizations_url" : "https://api.github.com/users/pablomartin4btc/orgs",
         "received_events_url" : "https://api.github.com/users/pablomartin4btc/received_events",
         "repos_url" : "https://api.github.com/users/pablomartin4btc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pablomartin4btc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pablomartin4btc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pablomartin4btc"
      }
   }
]
