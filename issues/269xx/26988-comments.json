[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/26988#pullrequestreview-1276026900), [brunoerg](https://github.com/bitcoin/bitcoin/pull/26988#pullrequestreview-1309089351) |\n| Stale ACK | [amitiuttarwar](https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1462609621) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27511](https://github.com/bitcoin/bitcoin/pull/27511) (rpc: Add test-only RPC getaddrmaninfo for new/tried table address count by stratospher)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-01-29T21:25:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1407773836",
      "id" : 1407773836,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585T6OyM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1407773836/reactions"
      },
      "updated_at" : "2023-08-27T23:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1407773836",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1091145647"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1091145647"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think that this can fail intermittently, because of a small chance that the second address conflicts with the existing one, and then the counts don't match. Since the `nKey` of AddrMan is randomly chosen in each run, it will only fail once in a while - see also #23084 with the same problem. Maybe just check the counts of the existing addresses for now.\r\n\r\nThis whole thing is really unfortunate, but unless we add a config option to bitcoind to make `AddrMan` deterministic it seems that we are quite limited in what we can do with `AddrMan` in functional tests.",
      "commit_id" : "c645fb68b4a279921b5e26ecf2a35ec29763f603",
      "created_at" : "2023-01-30T20:57:57Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1091145647",
      "id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585BCY-v",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1276026900,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1091145647/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-30T21:02:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1091145647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "obvious concept ack considering I proposed #26907 ",
      "created_at" : "2023-02-06T18:54:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1419585647",
      "id" : 1419585647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585UnShv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419585647/reactions"
      },
      "updated_at" : "2023-02-06T18:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1419585647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097948081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097948081"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: space before \"(\"",
      "commit_id" : "c645fb68b4a279921b5e26ecf2a35ec29763f603",
      "created_at" : "2023-02-06T21:38:14Z",
      "diff_hunk" : "@@ -974,6 +974,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan addrmaninfo()\n+{\n+    return RPCHelpMan{\"addrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks(or a given network). This RPC is for testing only.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097948081",
      "id" : 1097948081,
      "line" : 980,
      "node_id" : "PRRC_kwDOABII585BcVux",
      "original_commit_id" : "418f8118534727fc2a325264fa4f61cdbd7ca7a3",
      "original_line" : 980,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 7,
      "pull_request_review_id" : 1286061667,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097948081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-06T22:35:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097948081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097971532"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097971532"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'd prefer a different name (maybe `addr_counts` or `addrman_counts`) to avoid confusion that the object isn't addrman, but the result of a query to addrman.",
      "commit_id" : "c645fb68b4a279921b5e26ecf2a35ec29763f603",
      "created_at" : "2023-02-06T22:08:33Z",
      "diff_hunk" : "@@ -252,46 +252,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"addrmaninfo\", NullUniValue, 1);\n     }\n \n     UniValue ProcessReply(const UniValue& reply) override\n     {\n         if (!reply[\"error\"].isNull()) return reply;\n-        const std::vector<UniValue>& nodes{reply[\"result\"].getValues()};\n-        if (!nodes.empty() && nodes.at(0)[\"network\"].isNull()) {\n+        const std::vector<UniValue>& addrman{reply[\"result\"].getValues()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097971532",
      "id" : 1097971532,
      "line" : 267,
      "node_id" : "PRRC_kwDOABII585BcbdM",
      "original_commit_id" : "c098f1c5a9071f8fa8f52acbd60d94039bf1cf95",
      "original_line" : 267,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 38,
      "pull_request_review_id" : 1286061667,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097971532/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-06T22:33:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097971532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097989653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097989653"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe it would actually make sense to add the possibility of a deterministic addrman as, it e.g. we could possibly extend the existing `-addrmantest` test-only RPC. But no need to do it in this PR.",
      "commit_id" : "c645fb68b4a279921b5e26ecf2a35ec29763f603",
      "created_at" : "2023-02-06T22:34:38Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1097989653",
      "id" : 1097989653,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Bcf4V",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1286123797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097989653/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-06T22:35:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1097989653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366626"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366626"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "interesting, thanks! so that's why the ci was failing. i've updated the PR to reflect this.",
      "commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "created_at" : "2023-02-07T09:00:09Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366626",
      "id" : 1098366626,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Bd76i",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1286668142,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366626/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-07T09:00:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366792"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366792"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "created_at" : "2023-02-07T09:00:17Z",
      "diff_hunk" : "@@ -974,6 +974,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan addrmaninfo()\n+{\n+    return RPCHelpMan{\"addrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks(or a given network). This RPC is for testing only.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366792",
      "id" : 1098366792,
      "in_reply_to_id" : 1097948081,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Bd79I",
      "original_commit_id" : "418f8118534727fc2a325264fa4f61cdbd7ca7a3",
      "original_line" : 980,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1286668356,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366792/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-07T09:00:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366933"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366933"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "that's true. i've updated the PR.",
      "commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "created_at" : "2023-02-07T09:00:24Z",
      "diff_hunk" : "@@ -252,46 +252,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"addrmaninfo\", NullUniValue, 1);\n     }\n \n     UniValue ProcessReply(const UniValue& reply) override\n     {\n         if (!reply[\"error\"].isNull()) return reply;\n-        const std::vector<UniValue>& nodes{reply[\"result\"].getValues()};\n-        if (!nodes.empty() && nodes.at(0)[\"network\"].isNull()) {\n+        const std::vector<UniValue>& addrman{reply[\"result\"].getValues()};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1098366933",
      "id" : 1098366933,
      "in_reply_to_id" : 1097971532,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Bd7_V",
      "original_commit_id" : "c098f1c5a9071f8fa8f52acbd60d94039bf1cf95",
      "original_line" : 267,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 1286668558,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366933/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-07T09:00:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1098366933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1099650840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1099650840"
         }
      },
      "author_association" : "MEMBER",
      "body" : "realized it probably makes more sense to call it `getaddrmaninfo` to be consistent with other RPC messages",
      "commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "created_at" : "2023-02-08T04:57:53Z",
      "diff_hunk" : "@@ -974,6 +974,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan addrmaninfo()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1099650840",
      "id" : 1099650840,
      "line" : 977,
      "node_id" : "PRRC_kwDOABII585Bi1cY",
      "original_commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "original_line" : 977,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 1288461491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1099650840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-08T04:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1099650840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-02-15T08:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1430940278",
      "id" : 1430940278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585VSmp2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1430940278/reactions"
      },
      "updated_at" : "2023-02-15T08:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1430940278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1114100137"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114100137"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "true, i've updated the PR to call it `getaddrmaninfo`.",
      "commit_id" : "a04bfa375b164412804390a85a68afb03d96c50f",
      "created_at" : "2023-02-22T10:03:37Z",
      "diff_hunk" : "@@ -974,6 +974,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan addrmaninfo()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1114100137",
      "id" : 1114100137,
      "in_reply_to_id" : 1099650840,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585CZ9Gp",
      "original_commit_id" : "35bd55c378a39ef9d25171fdbe56f8f2640d6981",
      "original_line" : 977,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1308903454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114100137/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-22T10:03:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114100137",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1114224820"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114224820"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You could cover this error in the functional test\r\n\r\ne.g.:\r\n```diff\r\ndiff --git a/test/functional/rpc_net.py b/test/functional/rpc_net.py\r\nindex 68833fb85..90a9d9a17 100755\r\n--- a/test/functional/rpc_net.py\r\n+++ b/test/functional/rpc_net.py\r\n@@ -337,5 +337,8 @@ class NetTest(BitcoinTestFramework):\r\n         assert_equal(res[0][\"new\"], 1)\r\n         assert_equal(res[0][\"tried\"], 1)\r\n \r\n+        self.log.debug(\"Test that getaddrman with an invalid network throws an error\")\r\n+        assert_raises_rpc_error(-8, \"Network not recognized: ipv8\", self.nodes[1].getaddrmaninfo, \"ipv8\")\r\n+\r\n if __name__ == '__main__':\r\n     NetTest().main()\r\n```",
      "commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "created_at" : "2023-02-22T11:57:03Z",
      "diff_hunk" : "@@ -966,6 +966,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan getaddrmaninfo()\n+{\n+    return RPCHelpMan{\"getaddrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks (or a given network). This RPC is for testing only.\\n\",\n+                      {\n+                              {\"network\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"Network type (\" + Join(GetNetworkNames(), \", \") + \")\"},\n+                      },\n+                      RPCResult{\n+                              RPCResult::Type::ARR, \"\", \"\",\n+                              {\n+                                      {RPCResult::Type::OBJ, \"\", \"\",\n+                                       {\n+                                               {RPCResult::Type::STR, \"network\",  \"The network (\" + Join(GetNetworkNames(), \", \") + \")\"},\n+                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in new table\"},\n+                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in tried table\"},\n+                                       }},\n+                              }\n+                      },\n+                      RPCExamples{\n+                              HelpExampleCli(\"getaddrmaninfo\", \"\\\"ipv4\\\"\")\n+                              + HelpExampleRpc(\"getaddrmaninfo\", \"\\\"ipv4\\\"\")\n+                      },\n+                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+                      {\n+                          NodeContext& node = EnsureAnyNodeContext(request.context);\n+                          if (!node.addrman) {\n+                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n+                          }\n+\n+                          const std::optional<Network> network{request.params[0].isNull() ? std::nullopt : std::optional<Network>{ParseNetwork(request.params[0].get_str())}};\n+                          if (network == NET_UNROUTABLE) {\n+                              throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Network not recognized: %s\", request.params[0].get_str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1114224820",
      "id" : 1114224820,
      "line" : 1000,
      "node_id" : "PRRC_kwDOABII585Cabi0",
      "original_commit_id" : "a04bfa375b164412804390a85a68afb03d96c50f",
      "original_line" : 1000,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 35,
      "pull_request_review_id" : 1309091065,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114224820/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-02-22T13:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1114224820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "```sh\r\n\"network\" : \"str\",    (string) The network (ipv4, ipv6, onion, i2p, cjdns)\r\n```\r\n\r\nInstead of being a string, wouldn't make sense it to be an array? E.g. I want to get new/tried table address count for ipv4 and ipv6 together.",
      "created_at" : "2023-02-22T13:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1440011972",
      "id" : 1440011972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585V1NbE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1440011972/reactions"
      },
      "updated_at" : "2023-03-09T14:10:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1440011972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1128463603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128463603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks! done.",
      "commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "created_at" : "2023-03-07T19:35:11Z",
      "diff_hunk" : "@@ -966,6 +966,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan getaddrmaninfo()\n+{\n+    return RPCHelpMan{\"getaddrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks (or a given network). This RPC is for testing only.\\n\",\n+                      {\n+                              {\"network\", RPCArg::Type::STR, RPCArg::Optional::OMITTED, \"Network type (\" + Join(GetNetworkNames(), \", \") + \")\"},\n+                      },\n+                      RPCResult{\n+                              RPCResult::Type::ARR, \"\", \"\",\n+                              {\n+                                      {RPCResult::Type::OBJ, \"\", \"\",\n+                                       {\n+                                               {RPCResult::Type::STR, \"network\",  \"The network (\" + Join(GetNetworkNames(), \", \") + \")\"},\n+                                               {RPCResult::Type::NUM, \"new\", \"number of addresses in new table\"},\n+                                               {RPCResult::Type::NUM, \"tried\", \"number of addresses in tried table\"},\n+                                       }},\n+                              }\n+                      },\n+                      RPCExamples{\n+                              HelpExampleCli(\"getaddrmaninfo\", \"\\\"ipv4\\\"\")\n+                              + HelpExampleRpc(\"getaddrmaninfo\", \"\\\"ipv4\\\"\")\n+                      },\n+                      [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n+                      {\n+                          NodeContext& node = EnsureAnyNodeContext(request.context);\n+                          if (!node.addrman) {\n+                              throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Address manager functionality missing or disabled\");\n+                          }\n+\n+                          const std::optional<Network> network{request.params[0].isNull() ? std::nullopt : std::optional<Network>{ParseNetwork(request.params[0].get_str())}};\n+                          if (network == NET_UNROUTABLE) {\n+                              throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Network not recognized: %s\", request.params[0].get_str()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1128463603",
      "id" : 1128463603,
      "in_reply_to_id" : 1114224820,
      "line" : 1000,
      "node_id" : "PRRC_kwDOABII585DQvzz",
      "original_commit_id" : "a04bfa375b164412804390a85a68afb03d96c50f",
      "original_line" : 1000,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 35,
      "pull_request_review_id" : 1329375645,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128463603/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-07T19:35:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1128463603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : ">Instead of being a string, wouldn't make sense it to be an array? E.g. I want to get new/tried table address count for ipv5 and ipv6 together.\r\n\r\ni'm confused about this since making it into `RPCArg::Type::ARR` would make the RPC harder to type and use? \r\n `$ bitcoin-cli getaddrmaninfo \"[\\\"ipv4\\\", \\\"ipv6\\\"]\"`\r\n\r\nand there are only few network types. would be interested in what others think.",
      "created_at" : "2023-03-07T19:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1458734131",
      "id" : 1458734131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585W8oQz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1458734131/reactions"
      },
      "updated_at" : "2023-03-07T19:45:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1458734131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "to minimize the complexity that we need to maintain over time, we try to reduce the amount of client-side niftiness that we offer. it seems to me that the string would offer all the information needed for a client to write a simple query if they wanted the sum of multiple. agreed that the syntax is another challenge of the array type\r\n\r\nso I am +1 to leaving as is ",
      "created_at" : "2023-03-09T03:50:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1461229059",
      "id" : 1461229059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XGJYD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1461229059/reactions"
      },
      "updated_at" : "2023-03-09T03:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1461229059",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "that was just a question, thinking about complexity I agree on leaving it as is.\r\n\r\ngoing to review in depth soon.",
      "created_at" : "2023-03-09T14:11:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1462131721",
      "id" : 1462131721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XJlwJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462131721/reactions"
      },
      "updated_at" : "2023-03-09T14:11:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462131721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1131449772"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131449772"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "you could add coverage for `getaddrmaninfo` with a network arg passed through ",
      "commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "created_at" : "2023-03-09T18:40:42Z",
      "diff_hunk" : "@@ -328,6 +329,15 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_getaddrmaninfo(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1131449772",
      "id" : 1131449772,
      "line" : 332,
      "node_id" : "PRRC_kwDOABII585DcI2s",
      "original_commit_id" : "7c34c35b4751c81b3ceb64d46e811d8f9cadfe8a",
      "original_line" : 332,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : 21,
      "pull_request_review_id" : 1333509371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131449772/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-09T19:02:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1131449772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "light code review ACK 7c34c35b47. tested that the RPC and cli endpoints make sense & handle errors reasonably. these changes will require release notes, which can be done here or in a separate PR. ",
      "created_at" : "2023-03-09T19:01:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1462609621",
      "id" : 1462609621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XLabV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462609621/reactions"
      },
      "updated_at" : "2023-03-09T19:01:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1462609621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree on having test coverage for it with a network arg, something like:\r\n```diff\r\ndiff --git a/test/functional/rpc_net.py b/test/functional/rpc_net.py\r\nindex 3d39fb47d..6928c1211 100755\r\n--- a/test/functional/rpc_net.py\r\n+++ b/test/functional/rpc_net.py\r\n@@ -331,11 +331,23 @@ class NetTest(BitcoinTestFramework):\r\n \r\n     def test_getaddrmaninfo(self):\r\n         self.log.info(\"Test getaddrmaninfo\")\r\n-        # current ipv4 count in node 1's Addrman: new 1, tried 1\r\n         self.log.debug(\"Test that getaddrmaninfo provides correct new/tried table address count\")\r\n+\r\n+        ipv6_addr = \"1233:3432:2434:2343:3234:2345:6546:4534\"\r\n+        self.nodes[1].addpeeraddress(address=ipv6_addr, port=8333)\r\n+\r\n+        network_count = {\r\n+            '': { 'new': 2, 'tried': 1 },\r\n+            'ipv6': { 'new': 1, 'tried': 0},\r\n+            'ipv4': { 'new': 1, 'tried': 1}\r\n+        }\r\n+\r\n         res = self.nodes[1].getaddrmaninfo()\r\n-        assert_equal(res[0][\"new\"], 1)\r\n-        assert_equal(res[0][\"tried\"], 1)\r\n+        for network, count in network_count.items():\r\n+            res = self.nodes[1].getaddrmaninfo(network=network) if network else self.nodes[1].getaddrmaninfo()\r\n+            assert_equal(sum(map(lambda x: int(x['new']), res)), count[\"new\"])\r\n+            assert_equal(sum(map(lambda x: int(x['tried']), res)), count[\"tried\"])\r\n+\r\n         self.log.debug(\"Test that getaddrmaninfo with an invalid network throws an error\")\r\n         assert_raises_rpc_error(-8, \"Network not recognized: ipv8\", self.nodes[1].getaddrmaninfo, \"ipv8\")\r\n```\r\n\r\ncould also test other networks but I am not sure if `addpeeraddress` works well with that.",
      "created_at" : "2023-03-10T14:05:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1463851769",
      "id" : 1463851769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XQJr5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1463851769/reactions"
      },
      "updated_at" : "2023-03-10T14:05:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1463851769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "perhaps we could also check this is a hidden RPC like `addpeerinfo`?\r\n\r\n```py\r\nself.log.debug(\"Test that addpeerinfo is a hidden RPC\")\r\n# It is hidden from general help, but its detailed help may be called directly.\r\nassert \"addpeerinfo\" not in node.help()\r\nassert \"addpeerinfo\" in node.help(\"addpeerinfo\")\r\n```",
      "created_at" : "2023-03-10T16:11:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1464036406",
      "id" : 1464036406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XQ2w2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464036406/reactions"
      },
      "updated_at" : "2023-03-10T16:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1464036406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thank you @amitiuttarwar and @brunoerg! I've updated the PR to include your suggestions:\r\n- added release notes\r\n- test coverage for different networks\r\n- hidden RPC check",
      "created_at" : "2023-03-13T16:14:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1466454098",
      "id" : 1466454098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585XaFBS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1466454098/reactions"
      },
      "updated_at" : "2023-03-13T16:14:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1466454098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134245231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134245231"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "created_at" : "2023-03-13T16:15:52Z",
      "diff_hunk" : "@@ -328,6 +329,15 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_getaddrmaninfo(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134245231",
      "id" : 1134245231,
      "in_reply_to_id" : 1131449772,
      "line" : 332,
      "node_id" : "PRRC_kwDOABII585DmzVv",
      "original_commit_id" : "7c34c35b4751c81b3ceb64d46e811d8f9cadfe8a",
      "original_line" : 332,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : 21,
      "pull_request_review_id" : 1337452021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134245231/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-13T16:15:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134245231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134253991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134253991"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "adding addresses from different networks wouldn't cause these kind of collisions because [`GetGroup()`](https://github.com/bitcoin/bitcoin/blob/b5868f4b1f884e8d6612f34ca4005fe3a992053d/src/netgroup.cpp#L17) would differ right?",
      "commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "created_at" : "2023-03-13T16:21:22Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134253991",
      "id" : 1134253991,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dm1en",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1337462421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134253991/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-13T16:21:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134253991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134455743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134455743"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think so - even with the guarantee that `GetGroup()` is different, there is still a small chance that two addresses happen to hash to the same bucket in `GetNewBucket()`.",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-13T18:23:17Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134455743",
      "id" : 1134455743,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dnmu_",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1337704184,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134455743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-13T18:23:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134455743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134684312"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134684312"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "to add a second address, the test could do something like...\r\n\r\n```\r\nwhile (len(node.getnodeaddresses(count=0)) < 2) {\r\n\tnode.addpeeraddress(...)\r\n}\r\n```",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-13T22:34:17Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134684312",
      "id" : 1134684312,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DoeiY",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1338058072,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134684312/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-13T22:34:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134684312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134703332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134703332"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "adding these addresses would be subject to the same sporadic failures that we've been discussing elsewhere. although `GetGroup` would return different values, they aren't isolated so will still occasionally hash to the same positions. \r\n\r\nyou have to add a while loop or something to keep trying until success to prevent sporadic failures ",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-13T23:06:32Z",
      "diff_hunk" : "@@ -328,6 +329,37 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_getaddrmaninfo(self):\n+        self.log.info(\"Test getaddrmaninfo\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getaddrmaninfo is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getaddrmaninfo\" not in node.help()\n+        assert \"getaddrmaninfo\" in node.help(\"getaddrmaninfo\")\n+\n+        # current count of ipv4 addresses in addrman is {'new':1, 'tried':1}\n+        node.addpeeraddress(address=\"pg6mmjiyjmcrsslvykfwnntlaru7p5svn6y2ymmju6nubxndf4pscryd.onion\", tried=True, port=8333) # onion address\n+        node.addpeeraddress(address=\"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\", tried=False, port=8333)  # i2p address\n+        node.addpeeraddress(address=\"1233:3432:2434:2343:3234:2345:6546:4534\", tried=False, port=8333)                       # ipv6 address\n+        node.addpeeraddress(address=\"fc00:1:2:3:4:5:6:7\", tried=False, port=8333)                                            # cjdns address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134703332",
      "id" : 1134703332,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DojLk",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 345,
      "original_position" : 34,
      "original_start_line" : 341,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1338084003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134703332/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-13T23:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134703332",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134705887"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134705887"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "hm, seems a little low-level for release notes. maybe something like\r\n\r\n\r\n```suggestion\r\n- CLI -addrinfo previously only returned a subset of addresses known to the node. It has been reworked to use the new `getaddrmaninfo` RPC and returns information about the entirety of the node's addrman. (#26988)\r\n```",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-13T23:10:56Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134705887",
      "id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dojzf",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1338087709,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134705887/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-13T23:10:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1134705887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1135688193"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135688193"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "As far as I know, test-only RPCs, similar to debug-only bitcoind options, aren't usually mentioned in  release notes - the target group for release notes are regular users, while test-only options are meant for devs and may not be stable. Related test-only RPCs such as `addpeeraddress` weren't introduced in release notes either. So maybe only describe the changed behavior of cli -addrinfo and don't mention `getaddrmaninfo`?",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-14T14:56:26Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1135688193",
      "id" : 1135688193,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DsToB",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1339501173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135688193/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-14T14:56:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135688193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1135857860"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135857860"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ah that makes sense. thanks ",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-14T16:27:51Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1135857860",
      "id" : 1135857860,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ds9DE",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1339738173,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135857860/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-14T16:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135857860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137596851"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137596851"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "discussed this more with @amitiuttarwar and understood that `nKey` would remain the [same](https://github.com/bitcoin/bitcoin/blob/8c4958bd4c06026dc108bc7f5f063d1f389d279b/src/addrman.cpp#L109) for a node's addrman and hence same bucket position.\r\n\r\ni tried generating random ipv6 addresses and inserting into addrman:\r\n```\r\nwhile len(node.getnodeaddresses(count=0)) < 3:\r\n            ipv6_address = \":\".join(format(randint(0, 0xffff), '04x') for _ in range(8))\r\n            node.addpeeraddress(address=ipv6_address, tried=False, port=8333)\r\n```\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/26988#discussion_r1134455743 would still be a concern since there's a small chance that an ipv6 address could hash to the same bucket as an ipv4 address. this would cause the assertions which  check the count of different network addresses in the test to fail.\r\n\r\nso leaving out the network coverage tests for now.",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T18:45:54Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137596851",
      "id" : 1137596851,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dzlmz",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1342163307,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137596851/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-15T19:09:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137596851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137601762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137601762"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> hm, seems a little low-level for release notes. maybe something like\r\n\r\nsounds much better! thank you!\r\n\r\n>  the target group for release notes are regular users, while test-only options are meant for devs and may not be stable.\r\n\r\ninteresting, thanks! i've updated it.",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T18:48:28Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137601762",
      "id" : 1137601762,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dzmzi",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1342169782,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137601762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-15T18:48:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137601762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137605901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137605901"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "makes sense, sporadic failures do happen in that commit (reverted that change now).\r\ncontinued this discussion here - https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137596851",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T18:52:47Z",
      "diff_hunk" : "@@ -328,6 +329,37 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_getaddrmaninfo(self):\n+        self.log.info(\"Test getaddrmaninfo\")\n+        node = self.nodes[1]\n+\n+        self.log.debug(\"Test that getaddrmaninfo is a hidden RPC\")\n+        # It is hidden from general help, but its detailed help may be called directly.\n+        assert \"getaddrmaninfo\" not in node.help()\n+        assert \"getaddrmaninfo\" in node.help(\"getaddrmaninfo\")\n+\n+        # current count of ipv4 addresses in addrman is {'new':1, 'tried':1}\n+        node.addpeeraddress(address=\"pg6mmjiyjmcrsslvykfwnntlaru7p5svn6y2ymmju6nubxndf4pscryd.onion\", tried=True, port=8333) # onion address\n+        node.addpeeraddress(address=\"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\", tried=False, port=8333)  # i2p address\n+        node.addpeeraddress(address=\"1233:3432:2434:2343:3234:2345:6546:4534\", tried=False, port=8333)                       # ipv6 address\n+        node.addpeeraddress(address=\"fc00:1:2:3:4:5:6:7\", tried=False, port=8333)                                            # cjdns address",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137605901",
      "id" : 1137605901,
      "in_reply_to_id" : 1134703332,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dzn0N",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 345,
      "original_position" : 34,
      "original_start_line" : 341,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1342176029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137605901/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-15T18:53:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137605901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137608018"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137608018"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What's the reason for `-cjdnsreachable` here?",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T18:55:02Z",
      "diff_hunk" : "@@ -290,7 +291,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"\n         self.log.info(\"Test addpeeraddress\")\n-        self.restart_node(1, [\"-checkaddrman=1\"])\n+        self.restart_node(1, [\"-checkaddrman=1\", \"-cjdnsreachable\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137608018",
      "id" : 1137608018,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DzoVS",
      "original_commit_id" : "81ad8c60a96422a8312bb986d98bf74fb441b5e1",
      "original_line" : 294,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1342179242,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137608018/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-15T18:55:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137608018",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137617169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137617169"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "oops, forgot to revert that. thanks!",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T19:04:18Z",
      "diff_hunk" : "@@ -290,7 +291,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"\n         self.log.info(\"Test addpeeraddress\")\n-        self.restart_node(1, [\"-checkaddrman=1\"])\n+        self.restart_node(1, [\"-checkaddrman=1\", \"-cjdnsreachable\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137617169",
      "id" : 1137617169,
      "in_reply_to_id" : 1137608018,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585DzqkR",
      "original_commit_id" : "81ad8c60a96422a8312bb986d98bf74fb441b5e1",
      "original_line" : 294,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1342192844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137617169/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-15T19:04:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137617169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137621405"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137621405"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ohh, got it! thank you!",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-15T19:09:08Z",
      "diff_hunk" : "@@ -290,7 +291,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"\n         self.log.info(\"Test addpeeraddress\")\n-        self.restart_node(1, [\"-checkaddrman=1\"])\n+        self.restart_node(1, [\"-checkaddrman=1\", \"-cjdnsreachable\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1137621405",
      "id" : 1137621405,
      "in_reply_to_id" : 1137608018,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Dzrmd",
      "original_commit_id" : "81ad8c60a96422a8312bb986d98bf74fb441b5e1",
      "original_line" : 294,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1342199377,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137621405/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-15T19:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1137621405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145326660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145326660"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "2fa935b389ac05c35 As `getaddrmaninfo` would be a new RPC, this code would break `-addrinfo` for clients using this code to call to long-running nodes running earlier versions of bitcoind starting from v22 (#21595). Please maintain compatibility (not in output, just the call still working) with these versions in your approach.",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-22T19:44:26Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145326660",
      "id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585ERExE",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1353367902,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145326660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-22T19:44:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145326660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145335359"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145335359"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`CLI -addrinfo previously only returned a subset of addresses` and referring to a hidden RPC might raise more questions than it answers here for users trying to figure out what's going on.\r\n\r\nMaybe borrow from the current -addrinfo help, along the lines of `CLI -addrinfo previously returned addresses known to the node after filtering for quality and recency. It now returns all of the addresses known to the node.`\r\n\r\n(I agree the note was too low-level originally.)",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-22T19:52:23Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145335359",
      "id" : 1145335359,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ERG4_",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1353378269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145335359/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-22T20:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145335359",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> ping @jonatack, could you have a look, especially at the changes to bitcoin-cli?\r\n\r\nThanks! Sorry for missing the ping and not looking sooner.\r\n\r\n(@stratospher please ping me when you update to address https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145326660)",
      "created_at" : "2023-03-22T20:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1480193552",
      "id" : 1480193552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585YOfYQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1480193552/reactions"
      },
      "updated_at" : "2023-03-22T20:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1480193552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145385658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145385658"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Testing the output of this RPC and -addrinfo side-by-side to check their output, I found myself mentally summing the RPC values to compare with the -addrinfo totals and thinking that it would be handy to have the sum returned by the RPC as well, i.e. new/tried/total.\r\n\r\n```suggestion\r\n                      \"\\nReturns the number of addresses in the `new` and `tried` tables and their sum for all networks (default) or a given network. This RPC is for testing only.\\n\",\r\n```\r\n\r\n```\r\n$ ./src/bitcoin-cli -signet -addrinfo                 \r\n{\r\n  \"addresses_known\": {\r\n    \"ipv4\": 2730,\r\n    \"ipv6\": 1011,\r\n    \"onion\": 167,\r\n    \"i2p\": 32,\r\n    \"cjdns\": 0,\r\n    \"total\": 3940\r\n  }\r\n}\r\n$ ./src/bitcoin-cli -signet getaddrmaninfo           \r\n[\r\n  {\r\n    \"network\": \"ipv4\",\r\n    \"new\": 2673,\r\n    \"tried\": 57\r\n  },\r\n  {\r\n    \"network\": \"ipv6\",\r\n    \"new\": 981,\r\n    \"tried\": 30\r\n  },\r\n  {\r\n    \"network\": \"onion\",\r\n    \"new\": 101,\r\n    \"tried\": 66\r\n  },\r\n  {\r\n    \"network\": \"i2p\",\r\n    \"new\": 20,\r\n    \"tried\": 12\r\n  },\r\n  {\r\n    \"network\": \"cjdns\",\r\n    \"new\": 0,\r\n    \"tried\": 0\r\n  }\r\n]\r\n```\r\n",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-22T20:40:21Z",
      "diff_hunk" : "@@ -966,6 +966,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan getaddrmaninfo()\n+{\n+    return RPCHelpMan{\"getaddrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks (or a given network). This RPC is for testing only.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145385658",
      "id" : 1145385658,
      "line" : 972,
      "node_id" : "PRRC_kwDOABII585ERTK6",
      "original_commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "original_line" : 972,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : 7,
      "pull_request_review_id" : 1353443584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145385658/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-22T20:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1145385658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146040976"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146040976"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems kind of weird to change the CLI to use a \"test-only\" RPC in any case",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T11:24:57Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146040976",
      "id" : 1146040976,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ETzKQ",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1354380959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146040976/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-23T11:24:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146040976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146954107"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146954107"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Seems kind of weird to change the CLI to use a \"test-only\" RPC in any case\r\n\r\nhm, that's a good point. I originally suggested having the RPC as hidden since I imagine this feature to mostly be used by bitcoin contributors or super-users. but I'd imagine `-addrinfo` to be more accessible. so the two obvious options are to either (1) make the RPC public (2) leave `-addrinfo` as is. \r\n\r\nI think I'd lean towards (1) because since it improves the results of `-addrinfo` , but also depends on the outcome of https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1145326660. \r\n\r\ncurious to hear what other reviewers think / prefer ",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T22:53:16Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146954107",
      "id" : 1146954107,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EXSF7",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1355775155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146954107/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-23T22:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146954107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146956058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146956058"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "that's interesting. are you talking about the use case where clients would upgrade their bitcoin-cli but not their bitcoind? \r\n\r\nI'm curious to learn more about this, do you have additional context you can share? eg. is this a frequent use case? are there other circumstances / PRs where something similar was handled? are cli updates then versioned, or the expectation is to maintain backward compatibility from the point in time that the new interface is exposed? \r\n\r\nI'm not very familiar with the cli history, so appreciate any context you can share in advance ! ",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T22:56:21Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146956058",
      "id" : 1146956058,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EXSka",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1355778881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146956058/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-23T22:56:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146956058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146964856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146964856"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, for -netinfo we've needed to pay attention to this after feedback from affected users, including colleagues here, who were running nodes on previous, supported versions of Bitcoin Core, either as the nodes were long-running or for benchmarking or other reasons and requested we avoid breaking user space.\r\n\r\nOne solution could be to do a server version check (there is one for -netinfo) to decide which RPC to call.  Another would be to leave -addrinfo as-is and (maybe, just an idea) add the new functionality instead to -getinfo in a human-friendly way as a follow-up, as presumably the new RPC would run faster (I didn't think to check its relative performance yet).\r\n\r\nFurther thoughts: how important are IsTerrible addresses, and would it be interesting to have the breakdown with/without that filtering.",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T23:11:11Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146964856",
      "id" : 1146964856,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EXUt4",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1355791930,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146964856/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-23T23:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146964856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146968261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146968261"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "(For -netinfo, as it continued to call the same endpoints, maintaining compatibility meant adding `IsNull()` checks on some getpeerinfo fields that were newer or that changed from always returned to optional.)",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T23:17:18Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146968261",
      "id" : 1146968261,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EXVjF",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1355796611,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146968261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-23T23:17:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146968261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146970653"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146970653"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> since it improves the results of `-addrinfo`\r\n\r\n> how important are IsTerrible addresses, and would it be interesting to have the breakdown with/without that filtering.\r\n\r\nIt might be interesting to have both with and without IsTerrible() filtering to maintain the current info returned and to be able to compare over time, either by returning a breakdown in the new RPC or by leaving -addrinfo unchanged to compare the two. Edit: a third alternative proposed in https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147473618.\r\n",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T23:22:24Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146970653",
      "id" : 1146970653,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EXWId",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1355799791,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146970653/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-24T11:55:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146970653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146972607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146972607"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "For example, I've been tweeting a bit about the recent increase in Tor and I2P peers known to my node based on -addrinfo output and mentioning that these were also recently active peer counts (active in the last month).",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-23T23:26:26Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1146972607",
      "id" : 1146972607,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585EXWm_",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1355802347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146972607/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-03-23T23:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1146972607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147473618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147473618"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here's another idea. If the server version is less than current master, return the current -addrinfo, and otherwise return something like the following.  This adds the new data without the signal loss of removing the existing data, while maintaining the call operational for servers running earlier versions (from v22).\r\n\r\n```\r\n{\r\n  \"addresses known, after quality/recency filtering (original -addrinfo)\": {\r\n    \"ipv4\": 1,\r\n    \"ipv6\": 0,\r\n    \"onion\": 14673,\r\n    \"i2p\": 1129,\r\n    \"cjdns\": 7,\r\n    \"total\": 15810\r\n  },\r\n  \"all addresses known (no filtering)\": {\r\n    \"ipv4\": 1,\r\n    \"ipv6\": 0,\r\n    \"onion\": 14673,\r\n    \"i2p\": 1129,\r\n    \"cjdns\": 7,\r\n    \"total\": 15810\r\n  }\r\n}\r\n```",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-24T11:44:18Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147473618",
      "id" : 1147473618,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EZQ7S",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1356539714,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147473618/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-24T11:57:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147473618",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147725684"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147725684"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> how important are IsTerrible addresses, and would it be interesting to have the breakdown with/without that filtering.\r\n\r\n`IsTerrible` is used for two things outside of RPCs:\r\n1.) Terrible addresses are not included in answers to GETADDR requests from peers\r\n2.) In case of a conflict (two addrs would go to the same bucket and position in the new tables) the old addr is only overwritten if it's terrible.\r\n\r\nNotably, `IsTerrible` isn't used as a filter while making outbound connections, which is the primary function of addrman and the thing users would be most concerned about. That's why I think that the total number of addresses is the better number to report in RPCs.\r\n\r\n",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-24T15:14:59Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147725684",
      "id" : 1147725684,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EaOd0",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1356924461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147725684/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-24T15:14:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147725684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147763611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147763611"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Since we need to maintain compat with v22-v24 not to break user space, it seems helpful to return both so as not to disrupt signal/context as well for those who have been using -addrinfo (no need to break what wasn't broken), thus the idea in https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147473618. This would also allow more insight for users as to how much is filtered (and possibly to us regarding its usage in making connections).",
      "commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "created_at" : "2023-03-24T15:44:36Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147763611",
      "id" : 1147763611,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585EaXub",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1356981382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147763611/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-03-24T15:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1147763611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My opinion only, but it seems like it would be simpler to have the RPC not take any arguments and always output an object:\r\n\r\n```\r\n$ bitcoin-cli getaddrinfo\r\n{\r\n    \"ipv4\": {\r\n        \"new\": 5,\r\n        \"tried\": 3\r\n    },\r\n    ...\r\n}\r\n```\r\n\r\nIf you want a specific network, you can use jq: `bitcoin-cli getaddrinfo | jq .ipv4` ? You can also do sums this way if desired: `| jq .ipv4.new + ipv6.new`. (Having an object rather than an array makes it easy to get at the values rather than an array and having to select by one of the fields)",
      "created_at" : "2023-03-30T02:18:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1489587649",
      "id" : 1489587649,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585YyU3B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1489587649/reactions"
      },
      "updated_at" : "2023-03-30T02:18:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1489587649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173964808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173964808"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ">  Seems kind of weird to change the CLI to use a \"test-only\" RPC in any case\r\n\r\n@fanquake, @amitiuttarwar `-generate` CLI currently [uses](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/bitcoin-cli.cpp#L1178) a [hidden RPC](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/rpc/mining.cpp#L1055) (`generatetoaddress`) too. \r\ni don't think a normal user would be interested in the new/tried table breakdown of addresses. so hopefully it's ok to keep it hidden.\r\n",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T16:27:55Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173964808",
      "id" : 1173964808,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585F-UgI",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1396072390,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173964808/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-04-21T16:27:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173964808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173965885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173965885"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Maybe borrow from the current -addrinfo help, along the lines of CLI -addrinfo previously returned addresses known to the node after filtering for quality and recency. It now returns all of the addresses known to the node.\r\n\r\nthanks @jonatack! this sounds much better.\r\n\r\n> It might be interesting to have both with and without IsTerrible() filtering to maintain the current info returned and to be able to compare over time, either by returning a breakdown in the new RPC or by leaving -addrinfo unchanged to compare the two.\r\n\r\ntrue! decided to keep the RPC/CLI in a separate PRs.",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T16:29:17Z",
      "diff_hunk" : "@@ -0,0 +1,11 @@\n+New RPCs\n+--------\n+\n+- A new test-only RPC `getaddrmaninfo` has been added, which returns count of \n+  addresses in new/tried table of all networks (or a given network). (#26988)\n+\n+Tools and Utilities\n+--------\n+\n+- CLI -addrinfo would return known addresses including `isTerrrible` addresses\n+  now since it has been reworked to utilise `getaddrmaninfo` RPC. (#26988)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173965885",
      "id" : 1173965885,
      "in_reply_to_id" : 1134705887,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585F-Uw9",
      "original_commit_id" : "bca0e427755a20ae064e380a011836e2ce1542cc",
      "original_line" : 11,
      "original_position" : 11,
      "original_start_line" : 10,
      "path" : "doc/release-notes/release-notes-26988.md",
      "position" : null,
      "pull_request_review_id" : 1396074054,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173965885/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-04-21T16:29:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173965885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173966799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173966799"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Getting stats on filtered/unfiltered addresses is interesting data! \r\n\r\nBut also feeling confused about what to do here - so haven't changed anything yet. (updated the PR to just discuss CLI changes, opened https://github.com/bitcoin/bitcoin/pull/27511 for getaddrmaninfo RPC)\r\n\r\n1. what happens in the long run? In the long run, wouldn't ordinary users find it better if the CLI has a simple display of just breakdown of addresses by network? they wouldn't care much about filtering. I'd imagine we'd eventually switch over to displaying just filtered/unfiltered addresses.\r\n\r\n2. should that client-side complexity be handled in the code? Users are free to run whichever client version they like. The code would look really messy if we try preserving backward compatibility when the situation mentioned in 1 happens.\r\n\r\n",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T16:30:25Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173966799",
      "id" : 1173966799,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585F-U_P",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1396075449,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173966799/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-21T16:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173966799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173967154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173967154"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "you're right! I've updated `getaddrmaninfo` taking both these suggestions.",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T16:30:52Z",
      "diff_hunk" : "@@ -966,6 +966,60 @@ static RPCHelpMan addpeeraddress()\n     };\n }\n \n+static RPCHelpMan getaddrmaninfo()\n+{\n+    return RPCHelpMan{\"getaddrmaninfo\",\n+                      \"\\nReturns count of addresses in new/tried table of all networks (or a given network). This RPC is for testing only.\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173967154",
      "id" : 1173967154,
      "in_reply_to_id" : 1145385658,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585F-VEy",
      "original_commit_id" : "1bddd77cbc2410917027fcfeb71b3179fbd48c25",
      "original_line" : 972,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1396076016,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173967154/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-21T16:30:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173967154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thank you for the useful feedback! Splitting this into 2 separate PRs since itâd be easier to think about RPC and CLI parts separately. Iâve opened https://github.com/bitcoin/bitcoin/pull/27511 for getaddrmaninfo RPC and updated this PR to reflect just the CLI changes.\r\n\r\n- I liked returning objects as output and displaying total addresses per network ideas. Updated getaddrmaninfo in https://github.com/bitcoin/bitcoin/pull/27511 to use these.\r\n- Haven't changed the previous CLI approach because of https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173966799.",
      "created_at" : "2023-04-21T16:33:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1518075524",
      "id" : 1518075524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585ae_6E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518075524/reactions"
      },
      "updated_at" : "2023-04-21T16:33:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518075524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173977053"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173977053"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Please don't break user space in terms of the call not working or no longer returning data users have been depending on. Long-term, `-addrinfo` has been around for a while, and ordinary users may want to continue knowing how many good peers their node has seen recently (I do -- sure, add a total count as well, provided the usual data is still available).  Again suggest https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1147473618 or displaying both values on each line in a human-readable way.",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T16:43:18Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173977053",
      "id" : 1173977053,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585F-Xfd",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1396094550,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173977053/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-21T17:55:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1173977053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1174004892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1174004892"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "(See https://github.com/bitcoin/bitcoin/pull/27511#issuecomment-1518117272 for a current example on mainnet of how different the data can be.)",
      "commit_id" : "d4f62f93157bcef549a6c3dbbce8b33450626590",
      "created_at" : "2023-04-21T17:16:20Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1174004892",
      "id" : 1174004892,
      "in_reply_to_id" : 1145326660,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585F-eSc",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 264,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1396137219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1174004892/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-04-21T17:16:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1174004892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1194105588"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194105588"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "noted. not convinced how desirable the additional code complexity is. would like to hear how other people think about code complexity too before deciding what to do next.",
      "commit_id" : "c70d1c9cbf41c03e026374f0cc7356332604affc",
      "created_at" : "2023-05-15T16:57:16Z",
      "diff_hunk" : "@@ -255,46 +255,30 @@ class BaseRequestHandler\n /** Process addrinfo requests */\n class AddrinfoRequestHandler : public BaseRequestHandler\n {\n-private:\n-    int8_t NetworkStringToId(const std::string& str) const\n-    {\n-        for (size_t i = 0; i < NETWORKS.size(); ++i) {\n-            if (str == NETWORKS[i]) return i;\n-        }\n-        return UNKNOWN_NETWORK;\n-    }\n-\n public:\n     UniValue PrepareRequest(const std::string& method, const std::vector<std::string>& args) override\n     {\n         if (!args.empty()) {\n             throw std::runtime_error(\"-addrinfo takes no arguments\");\n         }\n-        UniValue params{RPCConvertValues(\"getnodeaddresses\", std::vector<std::string>{{\"0\"}})};\n-        return JSONRPCRequestObj(\"getnodeaddresses\", params, 1);\n+        return JSONRPCRequestObj(\"getaddrmaninfo\", NullUniValue, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1194105588",
      "id" : 1194105588,
      "in_reply_to_id" : 1145326660,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585HLJr0",
      "original_commit_id" : "2fa935b389ac05c35a7f54e6cfd5dcb2640678d1",
      "original_line" : 268,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 30,
      "pull_request_review_id" : 1426984654,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194105588/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-15T16:57:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194105588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased. Looking for feedback on [this comment](https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173966799) - whether it is desirable to have additional code complexity and maintain user space/backward compatability in the bitcoin-cli when client upgrades bitcoind but not bitcoin-cli. (personally don't like the code complexity this introduces for a less common scenario)",
      "created_at" : "2023-05-15T16:57:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1548215577",
      "id" : 1548215577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585cR-UZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1548215577/reactions"
      },
      "updated_at" : "2023-05-17T09:58:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1548215577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Rework of -addrinfo CLI is done using getaddrmaninfo RPC proposed in https://github.com/bitcoin/bitcoin/pull/27511.\r\n\r\nIf it's going to be used for this, it shouldn't be hidden/test-only...",
      "created_at" : "2023-07-27T03:09:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1652845994",
      "id" : 1652845994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585ihG2q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1652845994/reactions"
      },
      "updated_at" : "2023-07-27T03:09:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1652845994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this PR should be in draft right now since it builds on top of #27511 & has some outdated changes / the two commits are represented as a \"merge\" commit here instead of separately. I would either put it into draft or keep it up-to-date in a form that would be ready for master assuming sufficient review. ",
      "created_at" : "2023-07-30T06:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1657055010",
      "id" : 1657055010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585ixKci",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657055010/reactions"
      },
      "updated_at" : "2023-07-30T06:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657055010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr there was discussion [here](https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1173964808) regarding whether to keep the RPC hidden/public.\r\n\r\nit was kept as a hidden RPC because:\r\n1. a normal user wouldn't be interested in the new/tried table breakdown of addresses. \r\n2. `-generate CLI` currently [uses](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/bitcoin-cli.cpp#L1178) a [hidden RPC](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/rpc/mining.cpp#L1055) (generatetoaddress) too.\r\n\r\nwhat do you think?\r\n\r\n> I think this PR should be in draft right now since it builds on top of https://github.com/bitcoin/bitcoin/pull/27511 & has some outdated changes / the two commits are represented as a \"merge\" commit here instead of separately. I would either put it into draft or keep it up-to-date in a form that would be ready for master assuming sufficient review.\r\n\r\n@amitiuttarwar, makes sense. I've converted the PR to a draft and removed the merge commit.",
      "created_at" : "2023-08-11T03:32:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1674171648",
      "id" : 1674171648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585jydUA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674171648/reactions"
      },
      "updated_at" : "2023-08-11T06:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674171648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-08-24T23:05:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1692524249",
      "id" : 1692524249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585k4d7Z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692524249/reactions"
      },
      "updated_at" : "2023-08-24T23:05:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692524249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-09-20T13:07:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1727693533",
      "id" : 1727693533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585m-oLd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1727693533/reactions"
      },
      "updated_at" : "2023-09-20T13:07:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1727693533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1334997195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1334997195"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fyi: `addpeeraddress` returns `success` indicating if inserting was successful. I'm using this to retry inserting in case there was a collision.\r\n\r\n```\r\nadded = False\r\nwhile not added:\r\n    result = node.addpeeraddress(address=\"..\", tried=to_tried, port=port)\r\n    added = result[\"success\"]\r\n```",
      "commit_id" : "c70d1c9cbf41c03e026374f0cc7356332604affc",
      "created_at" : "2023-09-23T12:37:31Z",
      "diff_hunk" : "@@ -333,6 +334,20 @@ def test_addpeeraddress(self):\n             addrs = node.getnodeaddresses(count=0)  # getnodeaddresses re-runs the addrman checks\n             assert_equal(len(addrs), 2)\n \n+    def test_addrmaninfo(self):\n+        self.log.info(\"Test addrmaninfo\")\n+        node = self.nodes[1]\n+\n+        # current ipv4 count in node's Addrman: new 1, tried 1\n+        self.log.debug(\"Test that addrmaninfo provides correct new/tried table address count\")\n+        node.addpeeraddress(address=\"3.1.1.1\", tried=True, port=8333)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#discussion_r1334997195",
      "id" : 1334997195,
      "in_reply_to_id" : 1091145647,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585PknDL",
      "original_commit_id" : "caab2131d65acd915c4735ab2af5de6b8363cbfa",
      "original_line" : 343,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1640898371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26988",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1334997195/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-09-23T12:37:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1334997195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> it was kept as a hidden RPC because:\r\n> \r\n>     1. a normal user wouldn't be interested in the new/tried table breakdown of addresses.\r\n> \r\n>     2. `-generate CLI` currently [uses](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/bitcoin-cli.cpp#L1178) a [hidden RPC](https://github.com/bitcoin/bitcoin/blob/467fa8943801911c233cb96d45282b1de10bfa90/src/rpc/mining.cpp#L1055) (generatetoaddress) too.\r\n\r\nI think it makes sense to unhide this RPC; we have plenty of `get*info` functions that are only really useful experts, and that's fine. It makes sense to hide rpcs that are only useful for development (generate, setmocktime, echo) or that might cause the node to not work as expected (invalidateblock, sendmsgtopeer), but this is likely useful for some regular users and doesn't do anything potentially harmful, so there shouldn't be any reason to hide it IMO.",
      "created_at" : "2023-09-28T03:07:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1738371584",
      "id" : 1738371584,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585nnXIA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738371584/reactions"
      },
      "updated_at" : "2023-09-28T03:07:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738371584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.\r\n\r\n> I think it makes sense to unhide this RPC; we have plenty of get*info functions that are only really useful experts, and that's fine. It makes sense to hide rpcs that are only useful for development (generate, setmocktime, echo) or that might cause the node to not work as expected (invalidateblock, sendmsgtopeer), but this is likely useful for some regular users and doesn't do anything potentially harmful, so there shouldn't be any reason to hide it IMO.\r\n\r\nThat sounds reasonable. Done in #28565.",
      "created_at" : "2023-10-03T05:33:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26988#issuecomment-1744240546",
      "id" : 1744240546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26988",
      "node_id" : "IC_kwDOABII585n9v-i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744240546/reactions"
      },
      "updated_at" : "2023-10-03T05:33:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744240546",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   }
]
