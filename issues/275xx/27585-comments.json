[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/27585#pullrequestreview-1592371281), [murchandamus](https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1691795103), [achow101](https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1692333358) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-05-05T17:54:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1536587665",
      "id" : 1536587665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585blneR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1536587665/reactions"
      },
      "updated_at" : "2023-08-24T20:04:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1536587665",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @achow101 @Xekyo @furszy ",
      "created_at" : "2023-05-08T14:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1538483661",
      "id" : 1538483661,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585bs2XN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538483661/reactions"
      },
      "updated_at" : "2023-05-08T14:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538483661",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187594094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187594094"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If `CreateCoins` generates a coin that is already inside any of the results, `AddInputs` will throw a runtime error, which the fuzzing framework will detect as a failure when it is not. It is part of the class boundaries.\r\n\r\nSame apply for the fuzz `Merge` function commit.",
      "commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "created_at" : "2023-05-08T15:38:08Z",
      "diff_hunk" : "@@ -114,6 +114,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187594094",
      "id" : 1187594094,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585GyT9u",
      "original_commit_id" : "6151b914ffa40dc9de829b292a6df37ee7bf54ee",
      "original_line" : 129,
      "original_position" : 25,
      "original_start_line" : 119,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 97,
      "pull_request_review_id" : 1417041371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187594094/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 131,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:38:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187594094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187606760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187606760"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> If CreateCoins generates a coin that is already inside any of the results, AddInputs will throw a runtime error, which the fuzzing framework will detect as a failure when it is not. It is part of the class boundaries.\r\n\r\nYes, that's why it calls `CreateCoins` twice and with different \"utxos pool\". Is there any risk yet?",
      "commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "created_at" : "2023-05-08T15:50:52Z",
      "diff_hunk" : "@@ -114,6 +114,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187606760",
      "id" : 1187606760,
      "in_reply_to_id" : 1187594094,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585GyXDo",
      "original_commit_id" : "6151b914ffa40dc9de829b292a6df37ee7bf54ee",
      "original_line" : 129,
      "original_position" : 25,
      "original_start_line" : 119,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 97,
      "pull_request_review_id" : 1417060957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187606760/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 131,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:50:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187606760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187625261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187625261"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No ok. The reason why this doesn't fails is the test global increasing `next_locktime` which ensures that all UTXOs receive a different hash even when the fuzzer provided the same data for them.\r\nSo, nvm. A comment wouldn't hurt but nothing serious.",
      "commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "created_at" : "2023-05-08T16:09:33Z",
      "diff_hunk" : "@@ -114,6 +114,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187625261",
      "id" : 1187625261,
      "in_reply_to_id" : 1187594094,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585Gybkt",
      "original_commit_id" : "6151b914ffa40dc9de829b292a6df37ee7bf54ee",
      "original_line" : 129,
      "original_position" : 25,
      "original_start_line" : 119,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 97,
      "pull_request_review_id" : 1417091211,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187625261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 131,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-05-08T16:10:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187625261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187734637"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187734637"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Got it, thanks.",
      "commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "created_at" : "2023-05-08T18:05:02Z",
      "diff_hunk" : "@@ -114,6 +114,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1187734637",
      "id" : 1187734637,
      "in_reply_to_id" : 1187594094,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585Gy2Rt",
      "original_commit_id" : "6151b914ffa40dc9de829b292a6df37ee7bf54ee",
      "original_line" : 129,
      "original_position" : 25,
      "original_start_line" : 119,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 97,
      "pull_request_review_id" : 1417261688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187734637/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 131,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-05-08T18:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187734637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213479178"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213479178"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Letâs allow the lower bound of whatâs possible:\r\n\r\n```suggestion\r\n        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(41, 10000)};\r\n```",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-01T17:37:59Z",
      "diff_hunk" : "@@ -45,6 +45,25 @@ static void GroupCoins(FuzzedDataProvider& fuzzed_data_provider, const std::vect\n     if (valid_outputgroup) output_groups.push_back(output_group);\n }\n \n+static CAmount CreateCoins(FuzzedDataProvider& fuzzed_data_provider, std::vector<COutput>& utxo_pool, CoinSelectionParams& coin_params) {\n+    // Create some coins\n+    CAmount total_balance{0};\n+    int next_locktime{0};\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n+        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213479178",
      "id" : 1213479178,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585IVDkK",
      "original_commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "original_line" : 55,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1455990639,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213479178/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-01T18:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213479178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213485109"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213485109"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Itâs not clear to me why the `ComputeAndSetWaste()` is called with these parameters. The first should be `min_viable_change` which should be bigger than `change_fee` but not really related to `cost_of_change`. I guess thatâs fine for this test. Itâs also not clear to me, though why the `change_fee` is set to 0 here. Wouldnât it be better to have it derive from the current `coin_params`?\r\n\r\n`coin_params.m_change_fee = coin_params.m_effective_feerate.GetFee(coin_params.change_output_size);`\r\n\r\nNot sure if it adds interesting test coverage here, but I could see some `ComputeAndSetWaste()` come to different conclusions occasionally when a fee is considered.",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-01T17:44:09Z",
      "diff_hunk" : "@@ -68,40 +87,65 @@ FUZZ_TARGET(coinselection)\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\n \n     // Create some coins\n-    CAmount total_balance{0};\n-    int next_locktime{0};\n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n-    {\n-        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n-        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};\n-        const CAmount amount{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n-        if (total_balance + amount >= MAX_MONEY) {\n-            break;\n-        }\n-        AddCoin(amount, n_input, n_input_bytes, ++next_locktime, utxo_pool, coin_params.m_effective_feerate);\n-        total_balance += amount;\n-    }\n+    CAmount total_balance{CreateCoins(fuzzed_data_provider, utxo_pool, coin_params)};\n \n     std::vector<OutputGroup> group_pos;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/true, group_pos);\n     std::vector<OutputGroup> group_all;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/false, group_all);\n \n+    for (const OutputGroup& group : group_all) {\n+        const CoinEligibilityFilter filter(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>());\n+        (void)group.EligibleForSpending(filter);\n+    }\n+\n     // Run coinselection algorithms\n-    const auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+        (void)result_bnb->GetInputSet();\n+    }\n \n     auto result_srd = SelectCoinsSRD(group_pos, target, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n-    if (result_srd) result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);\n+    if (result_srd) {\n+        result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213485109",
      "id" : 1213485109,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585IVFA1",
      "original_commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "original_line" : 111,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1455990639,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213485109/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-01T18:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213485109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213654672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213654672"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Great, done!",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-01T20:37:26Z",
      "diff_hunk" : "@@ -45,6 +45,25 @@ static void GroupCoins(FuzzedDataProvider& fuzzed_data_provider, const std::vect\n     if (valid_outputgroup) output_groups.push_back(output_group);\n }\n \n+static CAmount CreateCoins(FuzzedDataProvider& fuzzed_data_provider, std::vector<COutput>& utxo_pool, CoinSelectionParams& coin_params) {\n+    // Create some coins\n+    CAmount total_balance{0};\n+    int next_locktime{0};\n+    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n+    {\n+        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n+        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213654672",
      "id" : 1213654672,
      "in_reply_to_id" : 1213479178,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585IVuaQ",
      "original_commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "original_line" : 55,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1456269751,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213654672/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-01T20:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213654672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213672054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213672054"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I didn't touch `ComputeAndSetWaste` parameters value, perhaps who did it copied (?) from: https://github.com/bitcoin/bitcoin/blob/34ac3f438a268e83af6cd11e2981e5bc07f699c9/src/wallet/coinselection.cpp#L179\r\n\r\nI'm going to change it to make it more \"realistic\"/robust.",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-01T20:56:20Z",
      "diff_hunk" : "@@ -68,40 +87,65 @@ FUZZ_TARGET(coinselection)\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\n \n     // Create some coins\n-    CAmount total_balance{0};\n-    int next_locktime{0};\n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n-    {\n-        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n-        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};\n-        const CAmount amount{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n-        if (total_balance + amount >= MAX_MONEY) {\n-            break;\n-        }\n-        AddCoin(amount, n_input, n_input_bytes, ++next_locktime, utxo_pool, coin_params.m_effective_feerate);\n-        total_balance += amount;\n-    }\n+    CAmount total_balance{CreateCoins(fuzzed_data_provider, utxo_pool, coin_params)};\n \n     std::vector<OutputGroup> group_pos;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/true, group_pos);\n     std::vector<OutputGroup> group_all;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/false, group_all);\n \n+    for (const OutputGroup& group : group_all) {\n+        const CoinEligibilityFilter filter(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>());\n+        (void)group.EligibleForSpending(filter);\n+    }\n+\n     // Run coinselection algorithms\n-    const auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+        (void)result_bnb->GetInputSet();\n+    }\n \n     auto result_srd = SelectCoinsSRD(group_pos, target, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n-    if (result_srd) result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);\n+    if (result_srd) {\n+        result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213672054",
      "id" : 1213672054,
      "in_reply_to_id" : 1213485109,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585IVyp2",
      "original_commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "original_line" : 111,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1456299335,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213672054/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-01T20:56:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213672054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213710664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213710664"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-01T21:39:30Z",
      "diff_hunk" : "@@ -68,40 +87,65 @@ FUZZ_TARGET(coinselection)\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\n \n     // Create some coins\n-    CAmount total_balance{0};\n-    int next_locktime{0};\n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n-    {\n-        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n-        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};\n-        const CAmount amount{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n-        if (total_balance + amount >= MAX_MONEY) {\n-            break;\n-        }\n-        AddCoin(amount, n_input, n_input_bytes, ++next_locktime, utxo_pool, coin_params.m_effective_feerate);\n-        total_balance += amount;\n-    }\n+    CAmount total_balance{CreateCoins(fuzzed_data_provider, utxo_pool, coin_params)};\n \n     std::vector<OutputGroup> group_pos;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/true, group_pos);\n     std::vector<OutputGroup> group_all;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/false, group_all);\n \n+    for (const OutputGroup& group : group_all) {\n+        const CoinEligibilityFilter filter(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>());\n+        (void)group.EligibleForSpending(filter);\n+    }\n+\n     // Run coinselection algorithms\n-    const auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+        (void)result_bnb->GetInputSet();\n+    }\n \n     auto result_srd = SelectCoinsSRD(group_pos, target, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n-    if (result_srd) result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);\n+    if (result_srd) {\n+        result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213710664",
      "id" : 1213710664,
      "in_reply_to_id" : 1213485109,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585IV8FI",
      "original_commit_id" : "d5282a45bd452844dc815181825e3dd46133ac51",
      "original_line" : 111,
      "original_position" : 66,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1456355626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213710664/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-01T21:39:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1213710664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213485109 and https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1213479178",
      "created_at" : "2023-06-01T21:40:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1572825952",
      "id" : 1572825952,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585dv2tg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572825952/reactions"
      },
      "updated_at" : "2023-06-01T21:40:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572825952",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1224612164"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1224612164"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think you might get some funny behavior here, if `min_viable_change` is smaller than `m_change_fee` as mentioned above, also see https://github.com/bitcoin/bitcoin/pull/27846",
      "commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "created_at" : "2023-06-09T18:14:59Z",
      "diff_hunk" : "@@ -64,44 +84,71 @@ FUZZ_TARGET(coinselection)\n     coin_params.m_subtract_fee_outputs = subtract_fee_outputs;\n     coin_params.m_long_term_feerate = long_term_fee_rate;\n     coin_params.m_effective_feerate = effective_fee_rate;\n+    coin_params.min_viable_change = min_viable_change;\n+    coin_params.m_cost_of_change = cost_of_change;\n     coin_params.change_output_size = fuzzed_data_provider.ConsumeIntegralInRange<int>(10, 1000);\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\n \n     // Create some coins\n-    CAmount total_balance{0};\n-    int next_locktime{0};\n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n-    {\n-        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n-        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};\n-        const CAmount amount{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n-        if (total_balance + amount >= MAX_MONEY) {\n-            break;\n-        }\n-        AddCoin(amount, n_input, n_input_bytes, ++next_locktime, utxo_pool, coin_params.m_effective_feerate);\n-        total_balance += amount;\n-    }\n+    CAmount total_balance{CreateCoins(fuzzed_data_provider, utxo_pool, coin_params)};\n \n     std::vector<OutputGroup> group_pos;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/true, group_pos);\n     std::vector<OutputGroup> group_all;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/false, group_all);\n \n+    for (const OutputGroup& group : group_all) {\n+        const CoinEligibilityFilter filter(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>());\n+        (void)group.EligibleForSpending(filter);\n+    }\n+\n     // Run coinselection algorithms\n-    const auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    auto result_bnb = SelectCoinsBnB(group_pos, target, coin_params.m_cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+        (void)result_bnb->GetInputSet();\n+    }\n \n     auto result_srd = SelectCoinsSRD(group_pos, target, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n-    if (result_srd) result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);\n+    if (result_srd) {\n+        result_srd->ComputeAndSetWaste(coin_params.min_viable_change, coin_params.m_cost_of_change, coin_params.m_change_fee);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1224612164",
      "id" : 1224612164,
      "line" : 114,
      "node_id" : "PRRC_kwDOABII585I_hlE",
      "original_commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "original_line" : 114,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 80,
      "pull_request_review_id" : 1472846678,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1224612164/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-09T18:14:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1224612164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1228387547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228387547"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nevermind that. I ran about 500k executions on the coinselection fuzz test and could not substantiate my concern.",
      "commit_id" : "bd6315a2a75d2891a8d3476c492d6b53309b7296",
      "created_at" : "2023-06-13T16:12:23Z",
      "diff_hunk" : "@@ -64,44 +84,71 @@ FUZZ_TARGET(coinselection)\n     coin_params.m_subtract_fee_outputs = subtract_fee_outputs;\n     coin_params.m_long_term_feerate = long_term_fee_rate;\n     coin_params.m_effective_feerate = effective_fee_rate;\n+    coin_params.min_viable_change = min_viable_change;\n+    coin_params.m_cost_of_change = cost_of_change;\n     coin_params.change_output_size = fuzzed_data_provider.ConsumeIntegralInRange<int>(10, 1000);\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\n \n     // Create some coins\n-    CAmount total_balance{0};\n-    int next_locktime{0};\n-    LIMITED_WHILE(fuzzed_data_provider.ConsumeBool(), 10000)\n-    {\n-        const int n_input{fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 10)};\n-        const int n_input_bytes{fuzzed_data_provider.ConsumeIntegralInRange<int>(100, 10000)};\n-        const CAmount amount{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n-        if (total_balance + amount >= MAX_MONEY) {\n-            break;\n-        }\n-        AddCoin(amount, n_input, n_input_bytes, ++next_locktime, utxo_pool, coin_params.m_effective_feerate);\n-        total_balance += amount;\n-    }\n+    CAmount total_balance{CreateCoins(fuzzed_data_provider, utxo_pool, coin_params)};\n \n     std::vector<OutputGroup> group_pos;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/true, group_pos);\n     std::vector<OutputGroup> group_all;\n     GroupCoins(fuzzed_data_provider, utxo_pool, coin_params, /*positive_only=*/false, group_all);\n \n+    for (const OutputGroup& group : group_all) {\n+        const CoinEligibilityFilter filter(fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<int>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>());\n+        (void)group.EligibleForSpending(filter);\n+    }\n+\n     // Run coinselection algorithms\n-    const auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    auto result_bnb = SelectCoinsBnB(group_pos, target, coin_params.m_cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+        (void)result_bnb->GetInputSet();\n+    }\n \n     auto result_srd = SelectCoinsSRD(group_pos, target, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n-    if (result_srd) result_srd->ComputeAndSetWaste(cost_of_change, cost_of_change, 0);\n+    if (result_srd) {\n+        result_srd->ComputeAndSetWaste(coin_params.min_viable_change, coin_params.m_cost_of_change, coin_params.m_change_fee);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1228387547",
      "id" : 1228387547,
      "in_reply_to_id" : 1224612164,
      "line" : 115,
      "node_id" : "PRRC_kwDOABII585JN7Tb",
      "original_commit_id" : "2d739a425c92e2dd409c45273e8e376d39ead1cc",
      "original_line" : 115,
      "original_position" : 80,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 81,
      "pull_request_review_id" : 1477583153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228387547/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-13T16:19:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1228387547",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-06-23T22:04:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1605036655",
      "id" : 1605036655,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585fqupv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605036655/reactions"
      },
      "updated_at" : "2023-06-23T22:04:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605036655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2023-06-26T20:20:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1608188265",
      "id" : 1608188265,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585f2wFp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1608188265/reactions"
      },
      "updated_at" : "2023-06-26T20:20:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1608188265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272359281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272359281"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: To not have to do the transformation, could move all the `std::vector<COutput>` to `std::vector<std::shared_ptr<COutput>>`",
      "commit_id" : "bd6315a2a75d2891a8d3476c492d6b53309b7296",
      "created_at" : "2023-07-24T14:38:46Z",
      "diff_hunk" : "@@ -117,6 +117,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272359281",
      "id" : 1272359281,
      "line" : 141,
      "node_id" : "PRRC_kwDOABII585L1qlx",
      "original_commit_id" : "df15464a9c8c03b865be36d4d6956e27f04258cf",
      "original_line" : 128,
      "original_position" : 21,
      "original_start_line" : 121,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 108,
      "pull_request_review_id" : 1543641018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272359281/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 134,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-24T14:57:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272359281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272364737"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272364737"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Couldn't we assert that BnB `GetChange()` is always 0?",
      "commit_id" : "bd6315a2a75d2891a8d3476c492d6b53309b7296",
      "created_at" : "2023-07-24T14:42:44Z",
      "diff_hunk" : "@@ -101,16 +101,23 @@ FUZZ_TARGET(coinselection)\n \n     // Run coinselection algorithms\n     auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272364737",
      "id" : 1272364737,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585L1r7B",
      "original_commit_id" : "34f6fd228730d9974b8b8b288bfbdbc1bbd9ee0f",
      "original_line" : 106,
      "original_position" : 6,
      "original_start_line" : 103,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1543641018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272364737/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-24T14:57:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272364737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272371310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272371310"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In d72c0926:\r\n\r\nShould check the `Merge` outcome. e.g. the result target and weight need to be the sum of the two merged targets and weights. Moreover, if one result uses the effective value and the other one not, the `use_effective` field must be updated.",
      "commit_id" : "bd6315a2a75d2891a8d3476c492d6b53309b7296",
      "created_at" : "2023-07-24T14:47:42Z",
      "diff_hunk" : "@@ -140,6 +140,13 @@ FUZZ_TARGET(coinselection)\n     if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);\n+\n+    std::vector<OutputGroup> new_group_pos;\n+    GroupCoins(fuzzed_data_provider, utxos, coin_params, /*positive_only=*/true, new_group_pos);\n+    auto new_srd = SelectCoinsSRD(new_group_pos, target, coin_params.m_change_fee, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n+    if (new_srd && result_srd) {\n+        new_srd->Merge(result_srd.value());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272371310",
      "id" : 1272371310,
      "line" : 152,
      "node_id" : "PRRC_kwDOABII585L1thu",
      "original_commit_id" : "d72c092640bf90f2e71b95721c57b0edad94b724",
      "original_line" : 149,
      "original_position" : 10,
      "original_start_line" : 147,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 119,
      "pull_request_review_id" : 1543641018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272371310/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 150,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-24T14:57:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1272371310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283703466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703466"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "created_at" : "2023-08-03T20:46:47Z",
      "diff_hunk" : "@@ -140,6 +140,13 @@ FUZZ_TARGET(coinselection)\n     if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);\n+\n+    std::vector<OutputGroup> new_group_pos;\n+    GroupCoins(fuzzed_data_provider, utxos, coin_params, /*positive_only=*/true, new_group_pos);\n+    auto new_srd = SelectCoinsSRD(new_group_pos, target, coin_params.m_change_fee, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n+    if (new_srd && result_srd) {\n+        new_srd->Merge(result_srd.value());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283703466",
      "id" : 1283703466,
      "in_reply_to_id" : 1272371310,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mg8Kq",
      "original_commit_id" : "d72c092640bf90f2e71b95721c57b0edad94b724",
      "original_line" : 158,
      "original_position" : 10,
      "original_start_line" : 147,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1561838443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703466/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-03T20:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283703631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703631"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "created_at" : "2023-08-03T20:46:56Z",
      "diff_hunk" : "@@ -117,6 +117,19 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    std::transform(utxos.begin(), utxos.end(),\n+                 std::inserter(utxos_set, utxos_set.begin()),\n+                 [](const COutput& output) {\n+                   return std::make_shared<COutput>(output);\n+                 });",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283703631",
      "id" : 1283703631,
      "in_reply_to_id" : 1272359281,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mg8NP",
      "original_commit_id" : "df15464a9c8c03b865be36d4d6956e27f04258cf",
      "original_line" : 128,
      "original_position" : 21,
      "original_start_line" : 121,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1561838654,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703631/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-03T20:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283703631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed:\r\n\r\nAddressed:\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272359281\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1272371310\r\n\r\nAlso, I added support for `GetSelectedValue()`, asserting that its value is always greater or equal than `target` in a valid result. ",
      "created_at" : "2023-08-03T20:50:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1664631599",
      "id" : 1664631599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585jOEMv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664631599/reactions"
      },
      "updated_at" : "2023-08-03T20:50:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664631599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283710640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283710640"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Does it worth? BnB internally calls `ComputeSetAndWaste` which checks change. Any unexpected action regarding it would affect the assertion - `assert(best_waste == result.GetWaste());`.",
      "commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "created_at" : "2023-08-03T20:54:52Z",
      "diff_hunk" : "@@ -101,16 +101,23 @@ FUZZ_TARGET(coinselection)\n \n     // Run coinselection algorithms\n     auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1283710640",
      "id" : 1283710640,
      "in_reply_to_id" : 1272364737,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mg96w",
      "original_commit_id" : "34f6fd228730d9974b8b8b288bfbdbc1bbd9ee0f",
      "original_line" : 112,
      "original_position" : 6,
      "original_start_line" : 103,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1561848456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283710640/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-03T20:54:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283710640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284431053"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284431053"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think that it worth. One of fuzzing goals is to assert expected behavior externally. Black-box style. So if the internal implementation changes by mistake (or if there is a way to by-pass the expected behavior that we aren't aware of), the fuzzer catches it.\r\n\r\nAlso, the internal BnB `ComputeSetAndWaste` call checks that the final selection is within a certain range: `target <= value <  target + change cost`. It is indirectly checking `GetChange()` result but I don't think that we should rely on that. If `change_cost` is also 0, the `GetChange` result doesn't really matter, the same code will be executed in both branches of the `ComputeAndSetWaste` function.",
      "commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "created_at" : "2023-08-04T13:32:10Z",
      "diff_hunk" : "@@ -101,16 +101,23 @@ FUZZ_TARGET(coinselection)\n \n     // Run coinselection algorithms\n     auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284431053",
      "id" : 1284431053,
      "in_reply_to_id" : 1272364737,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjtzN",
      "original_commit_id" : "34f6fd228730d9974b8b8b288bfbdbc1bbd9ee0f",
      "original_line" : 112,
      "original_position" : 6,
      "original_start_line" : 103,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1562876652,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284431053/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-04T13:45:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284431053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284434687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284434687"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fair enough, gonna address it.",
      "commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "created_at" : "2023-08-04T13:35:33Z",
      "diff_hunk" : "@@ -101,16 +101,23 @@ FUZZ_TARGET(coinselection)\n \n     // Run coinselection algorithms\n     auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284434687",
      "id" : 1284434687,
      "in_reply_to_id" : 1272364737,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mjur_",
      "original_commit_id" : "34f6fd228730d9974b8b8b288bfbdbc1bbd9ee0f",
      "original_line" : 112,
      "original_position" : 6,
      "original_start_line" : 103,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1562889065,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284434687/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-04T13:35:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284434687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284796940"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284796940"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done!",
      "commit_id" : "8c76af1eefbd23d8ec9a4968628bc55a5f753f39",
      "created_at" : "2023-08-04T19:48:04Z",
      "diff_hunk" : "@@ -101,16 +101,23 @@ FUZZ_TARGET(coinselection)\n \n     // Run coinselection algorithms\n     auto result_bnb = SelectCoinsBnB(group_pos, target, cost_of_change, MAX_STANDARD_TX_WEIGHT);\n+    if (result_bnb) {\n+        (void)result_bnb->GetShuffledInputVector();\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1284796940",
      "id" : 1284796940,
      "in_reply_to_id" : 1272364737,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MlHIM",
      "original_commit_id" : "34f6fd228730d9974b8b8b288bfbdbc1bbd9ee0f",
      "original_line" : 112,
      "original_position" : 6,
      "original_start_line" : 103,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1563478159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284796940/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-04T19:48:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284796940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @furszy's suggestion to check whether `GetChange` is always 0 for any BnB result.",
      "created_at" : "2023-08-04T19:49:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1666096855",
      "id" : 1666096855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585jTp7X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666096855/reactions"
      },
      "updated_at" : "2023-08-04T19:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1666096855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1286505964"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286505964"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could also check the resulting inputs size and the `use_effective_fee` field.\r\n\r\nAlso, we only use of the `Merge` function in the sources to combine a `MANUAL` selection with one of the automatic selections. We never combine two srd solutions.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-08T01:20:59Z",
      "diff_hunk" : "@@ -139,6 +139,17 @@ FUZZ_TARGET(coinselection)\n     if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);\n+\n+    std::vector<OutputGroup> new_group_pos;\n+    GroupCoins(fuzzed_data_provider, utxos, coin_params, /*positive_only=*/true, new_group_pos);\n+    auto new_srd = SelectCoinsSRD(new_group_pos, target, coin_params.m_change_fee, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n+    if (new_srd && result_srd) {\n+        const CAmount old_target{new_srd->GetTarget()};\n+        const int old_weight{new_srd->GetWeight()};\n+        new_srd->Merge(result_srd.value());\n+        assert(new_srd->GetTarget() == old_target + result_srd->GetTarget());\n+        assert(new_srd->GetWeight() == old_weight + result_srd->GetWeight());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1286505964",
      "id" : 1286505964,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MroXs",
      "original_commit_id" : "d402ca1bb68b43e8959d82e0e4009aed57b1167b",
      "original_line" : 179,
      "original_position" : 14,
      "original_start_line" : 146,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1566336739,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286505964/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-09T23:37:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286505964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1287502527"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287502527"
         }
      },
      "author_association" : "MEMBER",
      "body" : "what about asserting that the inputs are actually added and checking the total weight?",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-08T18:26:37Z",
      "diff_hunk" : "@@ -118,6 +118,17 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    for (const auto& utxo : utxos) {\n+        utxos_set.insert(std::make_shared<COutput>(utxo));\n+    }\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1287502527",
      "id" : 1287502527,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mvbq_",
      "original_commit_id" : "da3b3b3deedc4213c9bd7c95550aa784cb5d87c7",
      "original_line" : 131,
      "original_position" : 23,
      "original_start_line" : 129,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1566336739,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287502527/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-08T18:30:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287502527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1287503891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287503891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "what was the reason behind this change?",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-08T18:28:08Z",
      "diff_hunk" : "@@ -77,7 +77,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n+    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(50000, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1287503891",
      "id" : 1287503891,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MvcAT",
      "original_commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "original_line" : 80,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1566336739,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287503891/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-08T18:29:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287503891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289335082"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335082"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just changed it to not use two srd solutions and I created a function to \"simulate\" a manual selection. Also, added more asserts, including checking the input set.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-09T22:56:51Z",
      "diff_hunk" : "@@ -139,6 +139,17 @@ FUZZ_TARGET(coinselection)\n     if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n     if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);\n+\n+    std::vector<OutputGroup> new_group_pos;\n+    GroupCoins(fuzzed_data_provider, utxos, coin_params, /*positive_only=*/true, new_group_pos);\n+    auto new_srd = SelectCoinsSRD(new_group_pos, target, coin_params.m_change_fee, fast_random_context, MAX_STANDARD_TX_WEIGHT);\n+    if (new_srd && result_srd) {\n+        const CAmount old_target{new_srd->GetTarget()};\n+        const int old_weight{new_srd->GetWeight()};\n+        new_srd->Merge(result_srd.value());\n+        assert(new_srd->GetTarget() == old_target + result_srd->GetTarget());\n+        assert(new_srd->GetWeight() == old_weight + result_srd->GetWeight());\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289335082",
      "id" : 1289335082,
      "in_reply_to_id" : 1286505964,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M2bEq",
      "original_commit_id" : "d402ca1bb68b43e8959d82e0e4009aed57b1167b",
      "original_line" : 179,
      "original_position" : 14,
      "original_start_line" : 146,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570741450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335082/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-09T22:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289335245"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335245"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds good. Just did it.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-09T22:57:11Z",
      "diff_hunk" : "@@ -118,6 +118,17 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    CreateCoins(fuzzed_data_provider, utxos, coin_params);\n+    for (const auto& utxo : utxos) {\n+        utxos_set.insert(std::make_shared<COutput>(utxo));\n+    }\n+\n+    if (result_srd) result_srd->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_knapsack) result_knapsack->AddInputs(utxos_set, subtract_fee_outputs);\n+    if (result_bnb) result_bnb->AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289335245",
      "id" : 1289335245,
      "in_reply_to_id" : 1287502527,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M2bHN",
      "original_commit_id" : "da3b3b3deedc4213c9bd7c95550aa784cb5d87c7",
      "original_line" : 131,
      "original_position" : 23,
      "original_start_line" : 129,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570741656,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335245/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-09T22:57:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289335245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289336536"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289336536"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "just changed to `1000`. but the reason is to make it more realistic. e.g. do we really use it for 1 sat?",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-09T22:58:33Z",
      "diff_hunk" : "@@ -77,7 +77,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};\n+    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(50000, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289336536",
      "id" : 1289336536,
      "in_reply_to_id" : 1287503891,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M2bbY",
      "original_commit_id" : "1e0f5f088f28fc3731831330f9c21cadfd4bdf08",
      "original_line" : 80,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570743179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289336536/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-09T22:58:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289336536",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed:\r\n\r\n- Improved `Merge`: now it checks the input set and it tries to merge every solution with a \"manual\" one.\r\n- Improved `AddInputs` to check the total weight.",
      "created_at" : "2023-08-09T23:02:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1672291591",
      "id" : 1672291591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585jrSUH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1672291591/reactions"
      },
      "updated_at" : "2023-08-09T23:02:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1672291591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289382284"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289382284"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`continue`?",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:13:44Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289382284",
      "id" : 1289382284,
      "line" : 170,
      "node_id" : "PRRC_kwDOABII585M2mmM",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 163,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 139,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289382284/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289382284",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289385038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385038"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`continue`?",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:16:18Z",
      "diff_hunk" : "@@ -118,6 +118,22 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    CAmount new_total_balance{CreateCoins(fuzzed_data_provider, utxos, coin_params)};\n+    if (new_total_balance > 0) {\n+        std::set<std::shared_ptr<COutput>> utxos_set;\n+        for (const auto& utxo : utxos) {\n+            utxos_set.insert(std::make_shared<COutput>(utxo));\n+        }\n+        for (auto& result : results) {\n+            if (!result) break;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289385038",
      "id" : 1289385038,
      "line" : 159,
      "node_id" : "PRRC_kwDOABII585M2nRO",
      "original_commit_id" : "60d92200f9086d5e3bdc9e138e2b137c022dfb41",
      "original_line" : 131,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 128,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385038/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289385441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385441"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: could verify the exact weight by summing up all the utxos weight.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:16:51Z",
      "diff_hunk" : "@@ -118,6 +118,22 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    CAmount new_total_balance{CreateCoins(fuzzed_data_provider, utxos, coin_params)};\n+    if (new_total_balance > 0) {\n+        std::set<std::shared_ptr<COutput>> utxos_set;\n+        for (const auto& utxo : utxos) {\n+            utxos_set.insert(std::make_shared<COutput>(utxo));\n+        }\n+        for (auto& result : results) {\n+            if (!result) break;\n+            const auto weight{result->GetWeight()};\n+            result->AddInputs(utxos_set, subtract_fee_outputs);\n+            assert(result->GetWeight() > weight);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289385441",
      "id" : 1289385441,
      "line" : 162,
      "node_id" : "PRRC_kwDOABII585M2nXh",
      "original_commit_id" : "60d92200f9086d5e3bdc9e138e2b137c022dfb41",
      "original_line" : 134,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 131,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385441/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289385441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289386461"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289386461"
         }
      },
      "author_association" : "MEMBER",
      "body" : "can't be negative. It's a ranged amount.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:18:41Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289386461",
      "id" : 1289386461,
      "line" : 168,
      "node_id" : "PRRC_kwDOABII585M2nnd",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 161,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 137,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289386461/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289386461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387061"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The manual selection is always the same. Could place it outside of the loop.",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:19:56Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;\n+        auto manual_selection{ManualSelection(manual_utxos, manual_balance, coin_params.m_subtract_fee_outputs)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387061",
      "id" : 1289387061,
      "line" : 171,
      "node_id" : "PRRC_kwDOABII585M2nw1",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 164,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 140,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387061/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387991"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```c++\r\nassert(result->GetInputSet().size() == input_set.size() + manual_utxos.size());\r\n```",
      "commit_id" : "9e2b805dc385188915b6459590c3dc09f4fe7c27",
      "created_at" : "2023-08-10T00:21:57Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;\n+        auto manual_selection{ManualSelection(manual_utxos, manual_balance, coin_params.m_subtract_fee_outputs)};\n+        const CAmount old_target{result->GetTarget()};\n+        const std::set<std::shared_ptr<COutput>> input_set{result->GetInputSet()};\n+        const int old_weight{result->GetWeight()};\n+        result->Merge(manual_selection);\n+        assert(result->GetInputSet().size() > input_set.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387991",
      "id" : 1289387991,
      "line" : 176,
      "node_id" : "PRRC_kwDOABII585M2n_X",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 169,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 145,
      "pull_request_review_id" : 1570800815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387991/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T00:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289387991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing:\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387991\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289387061\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289386461\r\n- https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289382284\r\n\r\nThanks, @furszy!",
      "created_at" : "2023-08-10T02:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1672442082",
      "id" : 1672442082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585jr3Di",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1672442082/reactions"
      },
      "updated_at" : "2023-08-10T02:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1672442082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454868"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-10T02:22:25Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;\n+        auto manual_selection{ManualSelection(manual_utxos, manual_balance, coin_params.m_subtract_fee_outputs)};\n+        const CAmount old_target{result->GetTarget()};\n+        const std::set<std::shared_ptr<COutput>> input_set{result->GetInputSet()};\n+        const int old_weight{result->GetWeight()};\n+        result->Merge(manual_selection);\n+        assert(result->GetInputSet().size() > input_set.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454868",
      "id" : 1289454868,
      "in_reply_to_id" : 1289387991,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M24UU",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 169,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570894479,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454868/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T02:22:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454926"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-10T02:22:32Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;\n+        auto manual_selection{ManualSelection(manual_utxos, manual_balance, coin_params.m_subtract_fee_outputs)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454926",
      "id" : 1289454926,
      "in_reply_to_id" : 1289387061,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M24VO",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 164,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570894560,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454926/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T02:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454987"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-10T02:22:40Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289454987",
      "id" : 1289454987,
      "in_reply_to_id" : 1289386461,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M24WL",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 161,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570894636,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454987/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T02:22:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289454987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289455057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289455057"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yea, done!",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-10T02:22:52Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;\n+    CAmount manual_balance{CreateCoins(fuzzed_data_provider, manual_utxos, coin_params)};\n+    if (manual_balance <= 0) return;\n+    for (auto& result : results) {\n+        if (!result) break;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1289455057",
      "id" : 1289455057,
      "in_reply_to_id" : 1289382284,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M24XR",
      "original_commit_id" : "b3dba38d0b3748760d398080da727762aaf95e1f",
      "original_line" : 163,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1570894751,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289455057/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T02:22:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1289455057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293959610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293959610"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit: The âUTXO setâ refers to the global state of the Bitcoin blockchain. A walletâs available coins are its _UTXO pool_.",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T20:53:10Z",
      "diff_hunk" : "@@ -118,6 +118,22 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    CAmount new_total_balance{CreateCoins(fuzzed_data_provider, utxos, coin_params)};\n+    if (new_total_balance > 0) {\n+        std::set<std::shared_ptr<COutput>> utxos_set;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293959610",
      "id" : 1293959610,
      "line" : 154,
      "node_id" : "PRRC_kwDOABII585NIEG6",
      "original_commit_id" : "2eea7336e588b741220fc5727bfa247fd7dd746e",
      "original_line" : 126,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 123,
      "pull_request_review_id" : 1577634359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293959610/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293959610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962271"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962271"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit:\r\n```suggestion\r\n    std::set<std::shared_ptr<COutput>> utxo_pool;\r\n    for (const auto& utxo : utxos) {\r\n        utxo_pool.insert(std::make_shared<COutput>(utxo));\r\n    }\r\n    result.AddInputs(utxo_pool, subtract_fee_outputs);\r\n```",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T20:56:28Z",
      "diff_hunk" : "@@ -65,6 +65,17 @@ static CAmount CreateCoins(FuzzedDataProvider& fuzzed_data_provider, std::vector\n     return total_balance;\n }\n \n+static SelectionResult ManualSelection(std::vector<COutput>& utxos, const CAmount& total_amount, const bool& subtract_fee_outputs)\n+{\n+    SelectionResult result(total_amount, SelectionAlgorithm::MANUAL);\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    for (const auto& utxo : utxos) {\n+        utxos_set.insert(std::make_shared<COutput>(utxo));\n+    }\n+    result.AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962271",
      "id" : 1293962271,
      "line" : 75,
      "node_id" : "PRRC_kwDOABII585NIEwf",
      "original_commit_id" : "88f270cace10c85ab29f0a14c5a2c88137df5de4",
      "original_line" : 75,
      "original_position" : 11,
      "original_start_line" : 71,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 31,
      "pull_request_review_id" : 1577634359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962271/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 71,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962878"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962878"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nit: Maybe call this `manual_inputs`.",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T20:57:12Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962878",
      "id" : 1293962878,
      "line" : 166,
      "node_id" : "PRRC_kwDOABII585NIE5-",
      "original_commit_id" : "88f270cace10c85ab29f0a14c5a2c88137df5de4",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 135,
      "pull_request_review_id" : 1577634359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962878/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293962878",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293965983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293965983"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "While we donât broadcast transactions with outputs of that amount (except OP_RETURN maybe), if it doesnât break anywhere, a target of 1â¯á¹© should maybe be legal for coin selection?\r\n\r\nIIRC, Bitcoin Core permits 294â¯á¹© for P2WPKH outputs, so it should at least not be bigger than that.",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T21:00:38Z",
      "diff_hunk" : "@@ -88,7 +88,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293965983",
      "id" : 1293965983,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585NIFqf",
      "original_commit_id" : "2a00c2c5d4912f56b9bf2383fa1e2d998e33481b",
      "original_line" : 91,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 42,
      "pull_request_review_id" : 1577634359,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293965983/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:03:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293965983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293979442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293979442"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I checked that 1á¹©  may break `assert(result_bnb->GetChange(coin_params.m_cost_of_change, CAmount{0}) == 0);`\r\n\r\n",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T21:18:21Z",
      "diff_hunk" : "@@ -88,7 +88,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293979442",
      "id" : 1293979442,
      "in_reply_to_id" : 1293965983,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585NII8y",
      "original_commit_id" : "2a00c2c5d4912f56b9bf2383fa1e2d998e33481b",
      "original_line" : 91,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 42,
      "pull_request_review_id" : 1577665870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293979442/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:18:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293979442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1294000827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294000827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah, my bad, I thought this target referred to the sum of recipient outputs, but itâs actually `recipient_sum + not_input_fees`.\r\n\r\nIs it possible that this then would need to be at least as large as the cost for the header + change output? 1000â¯á¹© might not be enough for every feerate then.\r\n\r\n----\r\n\r\nI got a crash after 130kâ¯attempts when I tried to lower the target to 1â¯á¹©. Gonna fuzz with the 1000â¯á¹© tonight, will revisit tomorrow.",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-14T21:47:13Z",
      "diff_hunk" : "@@ -88,7 +88,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1294000827",
      "id" : 1294000827,
      "in_reply_to_id" : 1293965983,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585NIOK7",
      "original_commit_id" : "2a00c2c5d4912f56b9bf2383fa1e2d998e33481b",
      "original_line" : 91,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 42,
      "pull_request_review_id" : 1577699713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294000827/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-14T21:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294000827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1294081372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294081372"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice, will leave it running tonight with some values (1000, 5000, etc) to check it as well.",
      "commit_id" : "1942ea0e44c8b4143c9d97f23ff31dc9a6f64a56",
      "created_at" : "2023-08-15T00:25:34Z",
      "diff_hunk" : "@@ -88,7 +88,7 @@ FUZZ_TARGET(coinselection)\n     const CFeeRate effective_fee_rate{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount cost_of_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n     const CAmount min_viable_change{ConsumeMoney(fuzzed_data_provider, /*max=*/COIN)};\n-    const CAmount target{fuzzed_data_provider.ConsumeIntegralInRange<CAmount>(1, MAX_MONEY)};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1294081372",
      "id" : 1294081372,
      "in_reply_to_id" : 1293965983,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585NIh1c",
      "original_commit_id" : "2a00c2c5d4912f56b9bf2383fa1e2d998e33481b",
      "original_line" : 91,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 42,
      "pull_request_review_id" : 1577826577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294081372/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-15T00:25:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1294081372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The fuzz test crashed for me after 7.4M attempts:\r\n\r\n    fuzz: ../../src/wallet/test/fuzz/coinselection.cpp:120: void wallet::coinselection_fuzz_target(FuzzBufferType): Assertion `result_bnb->GetChange(coin_params.m_cost_of_change, CAmount{0}) == 0' failed.`\r\n    \r\nYou should be able to replicate the issue with:\r\n    \r\n```\r\n$ echo \"MP3//////wT/LzMBEABL////////Wv///yWyEABLAADoQP//PP//CAAAPQAAAAAAAAAAPQEAAAAA AAAA/V12+w==\" | base64 -d > crash.input \r\n$ FUZZ=coinselection src/test/fuzz/fuzz crash.input\r\n```",
      "created_at" : "2023-08-15T17:15:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679315436",
      "id" : 1679315436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kGFHs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679315436/reactions"
      },
      "updated_at" : "2023-08-15T17:15:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679315436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@murchandamus I got a crash with 5000 as well, perhaps we should increase the value even more.",
      "created_at" : "2023-08-15T17:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679360517",
      "id" : 1679360517,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kGQIF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679360517/reactions"
      },
      "updated_at" : "2023-08-15T17:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679360517",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I donât think that an absolute value will work. My guess is that the crash may be caused by `m_cost_of_change` being generated randomly independent from `m_change_fee`. Usually, `cost_of_change` cannot ever be smaller than `m_change_fee`, so if it happens to be smaller here, it may interfere with the change calculation?\r\n\r\n I attempted to calculate  `cost_of_change` instead from `m_change_fee + input_sizeÃLTFRE`, leaving the fuzz input consumption unchanged. It made the test pass:\r\n\r\n```diff\r\n@@ -97,9 +97,9 @@ FUZZ_TARGET(coinselection)\r\n     coin_params.m_long_term_feerate = long_term_fee_rate;\r\n     coin_params.m_effective_feerate = effective_fee_rate;\r\n     coin_params.min_viable_change = min_viable_change;\r\n-    coin_params.m_cost_of_change = cost_of_change;\r\n     coin_params.change_output_size = fuzzed_data_provider.ConsumeIntegralInRange<int>(10, 1000);\r\n     coin_params.m_change_fee = effective_fee_rate.GetFee(coin_params.change_output_size);\r\n+    coin_params.m_cost_of_change = coin_params.m_change_fee +  long_term_fee_rate.GetFee(58);\r\n```\r\n\r\nIâm about 2.1M runs  in, and no issues so far. :smile: ",
      "created_at" : "2023-08-15T18:39:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679417244",
      "id" : 1679417244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kGd-c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679417244/reactions"
      },
      "updated_at" : "2023-08-15T20:43:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679417244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I donât think that an absolute value will work. My guess is that the crash may be caused by m_cost_of_change being generated randomly independent from m_change_fee. Usually, cost_of_change cannot ever be smaller than m_change_fee, so if it happens to be smaller here, it may interfere with the change calculation?\r\n\r\nBingo, I think so! \r\n\r\n----\r\n\r\nAlso, in `long_term_fee_rate.GetFee(58)` why 58?",
      "created_at" : "2023-08-15T21:00:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679607077",
      "id" : 1679607077,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kHMUl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679607077/reactions"
      },
      "updated_at" : "2023-08-15T21:01:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679607077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "That was loosely inspired by the [vsize of a P2TR input](https://bitcoin.stackexchange.com/q/111395/5406) (rounded up). \r\n\r\nIâm just seeing that we are calculating the cost_of_change actually with the `discard_feerate` rather than the `LTFRE`, though:\r\n\r\n`src/wallet/spend.cpp:   coin_selection_params.m_cost_of_change = coin_selection_params.m_discard_feerate.GetFee(coin_selection_params.change_spend_size) + coin_selection_params.m_change_fee;`\r\n\r\nYou could then also make the `change_spend_size` or `change_input_size` a random variable in the range `41â¦1000`. Inputs cannot ever be smaller than 41â¯vB (32+4+4+1).",
      "created_at" : "2023-08-15T21:32:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679645106",
      "id" : 1679645106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kHVmy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679645106/reactions"
      },
      "updated_at" : "2023-08-15T21:32:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679645106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295294960"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294960"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done!",
      "commit_id" : "0f93aeed39080bca2ac921842552bdb4ae9cdbae",
      "created_at" : "2023-08-16T01:35:22Z",
      "diff_hunk" : "@@ -118,6 +118,22 @@ FUZZ_TARGET(coinselection)\n     if (total_balance >= target && subtract_fee_outputs && !HasErrorMsg(result_knapsack)) {\n         assert(result_knapsack);\n     }\n+\n+    std::vector<COutput> utxos;\n+    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    CAmount new_total_balance{CreateCoins(fuzzed_data_provider, utxos, coin_params)};\n+    if (new_total_balance > 0) {\n+        std::set<std::shared_ptr<COutput>> utxos_set;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295294960",
      "id" : 1295294960,
      "in_reply_to_id" : 1293959610,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NNKHw",
      "original_commit_id" : "2eea7336e588b741220fc5727bfa247fd7dd746e",
      "original_line" : 126,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1579676708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294960/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-16T01:35:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295294996"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294996"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done!",
      "commit_id" : "0f93aeed39080bca2ac921842552bdb4ae9cdbae",
      "created_at" : "2023-08-16T01:35:27Z",
      "diff_hunk" : "@@ -65,6 +65,17 @@ static CAmount CreateCoins(FuzzedDataProvider& fuzzed_data_provider, std::vector\n     return total_balance;\n }\n \n+static SelectionResult ManualSelection(std::vector<COutput>& utxos, const CAmount& total_amount, const bool& subtract_fee_outputs)\n+{\n+    SelectionResult result(total_amount, SelectionAlgorithm::MANUAL);\n+    std::set<std::shared_ptr<COutput>> utxos_set;\n+    for (const auto& utxo : utxos) {\n+        utxos_set.insert(std::make_shared<COutput>(utxo));\n+    }\n+    result.AddInputs(utxos_set, subtract_fee_outputs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295294996",
      "id" : 1295294996,
      "in_reply_to_id" : 1293962271,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NNKIU",
      "original_commit_id" : "88f270cace10c85ab29f0a14c5a2c88137df5de4",
      "original_line" : 75,
      "original_position" : 11,
      "original_start_line" : 71,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1579676779,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294996/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-16T01:35:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295294996",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295295485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295295485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done!",
      "commit_id" : "0f93aeed39080bca2ac921842552bdb4ae9cdbae",
      "created_at" : "2023-08-16T01:36:29Z",
      "diff_hunk" : "@@ -144,6 +155,21 @@ FUZZ_TARGET(coinselection)\n             assert(result->GetWeight() > weight);\n         }\n     }\n+\n+    std::vector<COutput> manual_utxos;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1295295485",
      "id" : 1295295485,
      "in_reply_to_id" : 1293962878,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NNKP9",
      "original_commit_id" : "88f270cace10c85ab29f0a14c5a2c88137df5de4",
      "original_line" : 159,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : null,
      "pull_request_review_id" : 1579677349,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27585",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295295485/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-16T01:36:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295295485",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed addressing https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293959610, https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962271, https://github.com/bitcoin/bitcoin/pull/27585#discussion_r1293962878 and changed the `cost_of_change` according to `spend.cpp`, it avoids any issue with low targets.",
      "created_at" : "2023-08-16T01:38:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1679841564",
      "id" : 1679841564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kIFkc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679841564/reactions"
      },
      "updated_at" : "2023-08-16T01:38:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1679841564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My fuzzer has performed over 10M runs without uncovering an issue.\r\n\r\nACK https://github.com/bitcoin/bitcoin/commit/d501e1a2283d82b833260bf3372512d616a62a4c",
      "created_at" : "2023-08-16T18:13:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1681070555",
      "id" : 1681070555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kMxnb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681070555/reactions"
      },
      "updated_at" : "2023-08-16T18:13:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681070555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed fixing `next_locktime` in `CreateCoins`. Thanks, @furszy ",
      "created_at" : "2023-08-22T17:59:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1688663799",
      "id" : 1688663799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kpvb3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1688663799/reactions"
      },
      "updated_at" : "2023-08-22T17:59:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1688663799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed: changed to use `DUST_RELAY_TX_FEE` instead of hardcoding the value and squashed `GetInputSet` and `GetShuffledInputSet` commits.",
      "created_at" : "2023-08-23T20:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1690589887",
      "id" : 1690589887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585kxFq_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690589887/reactions"
      },
      "updated_at" : "2023-08-23T20:25:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690589887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "reACK with some minimal fuzzing bf26f978ffbe7e2fc681825de631600e24e5c93e",
      "created_at" : "2023-08-24T14:29:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1691795103",
      "id" : 1691795103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585k1r6f",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1691795103/reactions"
      },
      "updated_at" : "2023-08-24T14:29:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1691795103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK bf26f978ffbe7e2fc681825de631600e24e5c93e",
      "created_at" : "2023-08-24T20:04:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1692333358",
      "id" : 1692333358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585k3vUu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692333358/reactions"
      },
      "updated_at" : "2023-08-24T20:04:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692333358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This crashes:\r\n\r\n```\r\nfuzz: wallet/test/fuzz/coinselection.cpp:121: void wallet::coinselection_fuzz_target(FuzzBufferType): Assertion `result_bnb->GetChange(coin_params.m_cost_of_change, CAmount{0}) == 0' failed.\r\n\r\n\r\n```\r\n\r\n```\r\nACwnYWEAAAABAAABAAAgAAAAAI8AAAABAAABIAAAAACPAQAAAQAAAQB6AAAAAAAAAAAAAQAAAQAA\r\njwAAAAEAAAE=\r\n\r\n```",
      "created_at" : "2023-08-25T05:59:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1692808749",
      "id" : 1692808749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585k5jYt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692808749/reactions"
      },
      "updated_at" : "2023-08-25T05:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692808749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This crashes:\r\n\r\nYea. OSS-Fuzz has this this now as well https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=61790:\r\n```bash\r\nCrash Type: ASSERT\r\nCrash Address: \r\nCrash State:\r\n  result_bnb->GetChange(coin_params.m_cost_of_change, CAmount{0}) == 0\r\n  wallet::coinselection_fuzz_target\r\n  std::__1::__function::__func<void\r\n```",
      "created_at" : "2023-08-27T09:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1694613879",
      "id" : 1694613879,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585lAcF3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694613879/reactions"
      },
      "updated_at" : "2023-08-27T09:08:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694613879",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Investigating.",
      "created_at" : "2023-08-27T10:09:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1694626364",
      "id" : 1694626364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585lAfI8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694626364/reactions"
      },
      "updated_at" : "2023-08-27T10:09:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694626364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Follow-up in #28372 ",
      "created_at" : "2023-08-30T20:14:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27585#issuecomment-1699776222",
      "id" : 1699776222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27585",
      "node_id" : "IC_kwDOABII585lUIbe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1699776222/reactions"
      },
      "updated_at" : "2023-08-30T20:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1699776222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   }
]
