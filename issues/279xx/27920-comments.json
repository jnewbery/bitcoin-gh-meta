[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611922773), [Sjors](https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1619047639) |\n| Concept ACK | [ErikDeSmedt](https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611795857) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27255](https://github.com/bitcoin/bitcoin/pull/27255) (MiniTapscript: port Miniscript to Tapscript by darosior)\n* [#26567](https://github.com/bitcoin/bitcoin/pull/26567) (Wallet: estimate the size of signed inputs using descriptors by darosior)\n* [#25907](https://github.com/bitcoin/bitcoin/pull/25907) (wallet: rpc to add automatically generated descriptors by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-06-20T15:51:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1599060787",
      "id" : 1599060787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585fT7sz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1599060787/reactions"
      },
      "updated_at" : "2023-07-03T19:30:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1599060787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Having the id be dependent on `ToString` being a round trip seems kind of bleh. I think it would be better to change the id calculation to just use the string written to/read from the db.\r\n\r\nEdit: Actually, how the id itself is generated shouldn't matter. It might as well be random. Once we assign the id, we should just store it and remember what it is rather than regenerating it whenever we want it. But that doesn't really solve this downgrading problem.",
      "created_at" : "2023-06-20T17:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1599217743",
      "id" : 1599217743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585fUiBP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1599217743/reactions"
      },
      "updated_at" : "2023-06-20T17:31:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1599217743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235770904"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235770904"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 080ecd855bc4194396c58e71677a3e50c7b0abff \"wallet: do not allow loading descriptor with an invalid ID\"\r\n\r\nThe pattern we use for errors in `ReadKeyValue` is to assign the `strErr` rather than `return error(\"...\")`.\r\n\r\n```suggestion\r\n                strErr = \"The descriptor ID calculated by the wallet differs from the one in DB\");\r\n                return false\r\n```",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:04:17Z",
      "diff_hunk" : "@@ -664,6 +664,12 @@ ReadKeyValue(CWallet* pwallet, DataStream& ssKey, CDataStream& ssValue,\n                 wss.m_descriptor_caches[id] = DescriptorCache();\n             }\n             pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n+\n+            // Prior to doing anything with this spkm, verify ID calculation is always the same.\n+            if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+                wss.descriptor_unknown = true;\n+                return error(\"The descriptor ID calculated by the wallet differs from the one in DB\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235770904",
      "id" : 1235770904,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqF4Y",
      "original_commit_id" : "080ecd855bc4194396c58e71677a3e50c7b0abff",
      "original_line" : 671,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1488934451,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235770904/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235770904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235773231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235773231"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 494fa79a421c7384fdecacc7b42ae0dbe66668f2 \"wallet: bugfix, always use apostrophe for spkm descriptor ID\"\r\n\r\nThis name is misleading as it doesn't actually return an id, just the string we hash for it. I would actually prefer just adding a parameter to `ToString()` rather than a whole new function.",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:07:08Z",
      "diff_hunk" : "@@ -108,6 +108,9 @@ struct Descriptor {\n     /** Convert the descriptor back to a string, undoing parsing. */\n     virtual std::string ToString() const = 0;\n \n+    /* Constant descriptor ID. */\n+    virtual std::string GetID() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235773231",
      "id" : 1235773231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqGcv",
      "original_commit_id" : "494fa79a421c7384fdecacc7b42ae0dbe66668f2",
      "original_line" : 112,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 1488934451,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235773231/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:07:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235773231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235801022"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235801022"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, I did it on purpose, so the error is actually logged. The `descriptor_unknown` field overwrites `strErr` with another message.\r\n\r\nBut, what could do is actually change the `descriptor_unknown` logging so it appends the error at the end (it will also log the currently not logged  `std::ios_base::failure` error that is above).",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:36:20Z",
      "diff_hunk" : "@@ -664,6 +664,12 @@ ReadKeyValue(CWallet* pwallet, DataStream& ssKey, CDataStream& ssValue,\n                 wss.m_descriptor_caches[id] = DescriptorCache();\n             }\n             pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n+\n+            // Prior to doing anything with this spkm, verify ID calculation is always the same.\n+            if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+                wss.descriptor_unknown = true;\n+                return error(\"The descriptor ID calculated by the wallet differs from the one in DB\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235801022",
      "id" : 1235801022,
      "in_reply_to_id" : 1235770904,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqNO-",
      "original_commit_id" : "080ecd855bc4194396c58e71677a3e50c7b0abff",
      "original_line" : 671,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1488978044,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235801022/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:37:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235801022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235805345"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235805345"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure that `descriptor_unknown` needs to be set here. The descriptor isn't really unknown, just our computed id doesn't match the stored one. This is more on the level of a critical corruption error, in the same way that invalid keys are.\r\n\r\nError handling here should be a lot easier with #24914.",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:41:15Z",
      "diff_hunk" : "@@ -664,6 +664,12 @@ ReadKeyValue(CWallet* pwallet, DataStream& ssKey, CDataStream& ssValue,\n                 wss.m_descriptor_caches[id] = DescriptorCache();\n             }\n             pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n+\n+            // Prior to doing anything with this spkm, verify ID calculation is always the same.\n+            if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+                wss.descriptor_unknown = true;\n+                return error(\"The descriptor ID calculated by the wallet differs from the one in DB\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235805345",
      "id" : 1235805345,
      "in_reply_to_id" : 1235770904,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqOSh",
      "original_commit_id" : "080ecd855bc4194396c58e71677a3e50c7b0abff",
      "original_line" : 671,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1488984245,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235805345/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:41:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235805345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235816435"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235816435"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I'm not sure that descriptor_unknown needs to be set here. The descriptor isn't really unknown, just our computed id doesn't match the stored one. This is more on the level of a critical corruption error, in the same way that invalid keys are.\r\n\r\nYeah, but we don't have a way to set a corruption error right now. If the function only return false with the strErr, it will be tagged as a non-critical error. Thus why re-used the `descriptor_unknown` flag.\r\n\r\n> Error handling here should be a lot easier with https://github.com/bitcoin/bitcoin/pull/24914.\r\n\r\nyessss. Thus why I didn't care much on adding more code to it. While it works, should be fine.",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:53:18Z",
      "diff_hunk" : "@@ -664,6 +664,12 @@ ReadKeyValue(CWallet* pwallet, DataStream& ssKey, CDataStream& ssValue,\n                 wss.m_descriptor_caches[id] = DescriptorCache();\n             }\n             pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n+\n+            // Prior to doing anything with this spkm, verify ID calculation is always the same.\n+            if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+                wss.descriptor_unknown = true;\n+                return error(\"The descriptor ID calculated by the wallet differs from the one in DB\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235816435",
      "id" : 1235816435,
      "in_reply_to_id" : 1235770904,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqQ_z",
      "original_commit_id" : "080ecd855bc4194396c58e71677a3e50c7b0abff",
      "original_line" : 671,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1489000460,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235816435/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:53:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235816435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235823528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235823528"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I did that first, but didn't like to add a `force_apostrophe` argument to it. The apostrophe existence is internal to the bip32 `PubKeyProvider` only and not really a concept that the `Descriptor` class should know about. \r\nEven other pub key providers shouldn't be aware of the apostrophe format neither.\r\n\r\nThe idea behind the `GeID()` method was to have a function that we treat differently and think twice before change anything inside it.\r\n\r\nSaid that, I'm not that strong over it neither. Could use the same `ID` concept for the `ToString` parameter too.",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:59:13Z",
      "diff_hunk" : "@@ -108,6 +108,9 @@ struct Descriptor {\n     /** Convert the descriptor back to a string, undoing parsing. */\n     virtual std::string ToString() const = 0;\n \n+    /* Constant descriptor ID. */\n+    virtual std::string GetID() const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235823528",
      "id" : 1235823528,
      "in_reply_to_id" : 1235773231,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqSuo",
      "original_commit_id" : "494fa79a421c7384fdecacc7b42ae0dbe66668f2",
      "original_line" : 112,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/script/descriptor.h",
      "position" : null,
      "pull_request_review_id" : 1489010106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235823528/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:59:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235823528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235824649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235824649"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Yeah, but we don't have a way to set a corruption error right now. If the function only return false with the strErr, it will be tagged as a non-critical error. Thus why re-used the `descriptor_unknown` flag.\r\n\r\nCould add `DBKeys::WALLETDESCRIPTOR` to https://github.com/bitcoin/bitcoin/blob/d1ae96755a0f9d7e12c3f6741c030d8ea6d0416f/src/wallet/walletdb.cpp#L867",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-20T20:59:31Z",
      "diff_hunk" : "@@ -664,6 +664,12 @@ ReadKeyValue(CWallet* pwallet, DataStream& ssKey, CDataStream& ssValue,\n                 wss.m_descriptor_caches[id] = DescriptorCache();\n             }\n             pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n+\n+            // Prior to doing anything with this spkm, verify ID calculation is always the same.\n+            if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+                wss.descriptor_unknown = true;\n+                return error(\"The descriptor ID calculated by the wallet differs from the one in DB\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235824649",
      "id" : 1235824649,
      "in_reply_to_id" : 1235770904,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585JqTAJ",
      "original_commit_id" : "080ecd855bc4194396c58e71677a3e50c7b0abff",
      "original_line" : 671,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1489011388,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235824649/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-20T20:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1235824649",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1238542196"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238542196"
         }
      },
      "author_association" : "MEMBER",
      "body" : "7455e836018d30574f290c92c1df631ffafc8105 nit: move comment above to below `} else if {`",
      "commit_id" : "0f294a7ef362611b70cfa87a6eb757825bca986e",
      "created_at" : "2023-06-22T13:36:30Z",
      "diff_hunk" : "@@ -861,10 +861,18 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n                     strErr += \"The wallet might have been tampered with or created with malicious intent.\";\n                     pwallet->WalletLogPrintf(\"%s\\n\", strErr);\n                     return DBErrors::UNEXPECTED_LEGACY_ENTRY;\n+                } else if (wss.descriptor_unknown) {\n+                    strErr = strprintf(\"Error: Unrecognized descriptor found in wallet %s. \", pwallet->GetName());\n+                    strErr += (last_client > CLIENT_VERSION) ? \"The wallet might had been created on a newer version. \"\n+                                                             :\n+                              \"The database might be corrupted or the software version is not compatible with one of your wallet descriptors. \";\n+                    strErr += \"Please try running the latest software version\";\n+                    pwallet->WalletLogPrintf(\"%s\\n\", strErr);\n+                    return DBErrors::UNKNOWN_DESCRIPTOR;\n                 }\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == DBKeys::DEFAULTKEY) {\n+                else if (IsKeyType(strType) || strType == DBKeys::DEFAULTKEY) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1238542196",
      "id" : 1238542196,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585J0qd0",
      "original_commit_id" : "7455e836018d30574f290c92c1df631ffafc8105",
      "original_line" : 875,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1493213013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238542196/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-06-22T13:46:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1238542196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I wrote a commit on top of this branch that moves `GetID()` into the Descriptor class and then adds test vectors for it. The function documentation clarifies that this ID is _not_ part of BIP 380 and shouldn't be exposed to the user.\r\n\r\nhttps://github.com/Sjors/bitcoin/tree/2023/06/desc_id_vectors",
      "created_at" : "2023-06-22T15:05:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1602805735",
      "id" : 1602805735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585fiN_n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1602805735/reactions"
      },
      "updated_at" : "2023-06-22T15:05:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1602805735",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I wrote a commit on top of this branch that moves `GetID()` into the Descriptor class and then adds test vectors for it. The function documentation clarifies that this ID is _not_ part of BIP 380 and shouldn't be exposed to the user.\r\n> \r\n> https://github.com/Sjors/bitcoin/tree/2023/06/desc_id_vectors\r\n\r\nYou know, I initially wrote this with the `GetID()` method as well, check https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1235773231.\r\n\r\nAlso, left you a [comment](https://github.com/Sjors/bitcoin/commit/5d61a9a98d0f290d56445e2c244d9ba05d89ebbe#r119324611) on your commit. Not sure why added the `GetID()` method to the pub key provider, they are always returning an empty uint256 and they don't seems to be used anywhere (can remove them, compile the sources, run the `descriptor_tests` and it passes there).\r\n\r\nWill go deeper over your commit. Thanks!\r\n\r\n> One way to reduce the odds of this happening again with future descriptor changes is to hardcode the COMPAT identifier for all the test vectors in descriptor_tests.cpp.\r\n\r\nGood call ðð¼.",
      "created_at" : "2023-06-22T19:47:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1603226946",
      "id" : 1603226946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585fj01C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1603226946/reactions"
      },
      "updated_at" : "2023-06-22T19:48:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1603226946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated per feedback, thanks @Sjors.\r\n\r\nPulled your test commit and made some changes. While reviewing it, discovered that descriptors containing a key with an origin are actually incorrect. As the origin consists of a root xpub fingerprint and the key derivation path, this former needs to be formatted with an apostrophe as well. So, have updated the code and tests to address it. And also expanded the coverage for few other descriptors that were previously not included.\r\n\r\nThen, to facilitate the verification of the test vectors, have created two isolated commits, ab3b700 and 9e1c3b4. These can be applied on top of the v25 branch. The cherry-pick process is not entirely clean, but once it's done, you can easily verify the correctness of the descriptors' IDs.\r\nThe tests must pass in v25 with these commits, just as they pass here with the bug fix.\r\n\r\nTo simplify the process of verifying these test vectors, have pushed a v25 branch that includes only those two commits: https://github.com/furszy/bitcoin-core/tree/25.x_verify_spkm_ids.\r\n\r\nAlso, have separated the descriptor ID function as a standalone function to avoid mixing it with the descriptor's interface.",
      "created_at" : "2023-06-23T20:26:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1604907150",
      "id" : 1604907150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585fqPCO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604907150/reactions"
      },
      "updated_at" : "2023-06-24T15:20:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604907150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> While reviewing it, discovered that descriptors containing a key with an origin are actually incorrect. \r\n\r\nGlad the tests were useful :-)\r\n\r\n> The tests must pass in v25 with these commits.\r\n\r\nThanks, I was thinking of testing that as well, but couldn't figure out how to do so trivially with my own commit.",
      "created_at" : "2023-06-26T14:43:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1607638095",
      "id" : 1607638095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585f0pxP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607638095/reactions"
      },
      "updated_at" : "2023-06-26T14:43:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607638095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-06-28T01:05:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1610428267",
      "id" : 1610428267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585f_S9r",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1610428267/reactions"
      },
      "updated_at" : "2023-06-28T01:05:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1610428267",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What happened to fa2329285c?",
      "created_at" : "2023-06-28T13:34:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611425177",
      "id" : 1611425177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gDGWZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611425177/reactions"
      },
      "updated_at" : "2023-06-28T13:34:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611425177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What happened to [fa23292](https://github.com/bitcoin/bitcoin/commit/fa2329285c918eb7a627f31df2a493b967a9d660)?\r\n\r\nVanished after #24914 merge :).\r\n\r\nWe no longer iterate over all the database records without ordering. Now the wallet loads each specific group of records separately (e.g. legacy records, descriptors records, txs, etc).\r\n\r\nThe reason behind fa232928 was that the upper level method `LoadWallet` was only treating few specific `ReadKeyValue` errors as corruption ones (we were adding each of them manually). And now, each specific section of the wallet loading process can return a corruption error alone (check 405b4d91).",
      "created_at" : "2023-06-28T14:08:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611484179",
      "id" : 1611484179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gDUwT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611484179/reactions"
      },
      "updated_at" : "2023-06-28T20:25:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611484179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "ACK: I've tested the changes and the bug is resolved.\r\n\r\nI've been struggling with back-porting the test-code to v25.0. \r\nYou might need to change some descriptors to use `h` instead of `'` and I manually removed some checksums.\r\n\r\n@Sjors : Thanks for helping me out with this",
      "created_at" : "2023-06-28T17:12:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611795857",
      "id" : 1611795857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gEg2R",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611795857/reactions"
      },
      "updated_at" : "2023-06-28T17:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611795857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2528683?v=4",
         "events_url" : "https://api.github.com/users/ErikDeSmedt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ErikDeSmedt/followers",
         "following_url" : "https://api.github.com/users/ErikDeSmedt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ErikDeSmedt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ErikDeSmedt",
         "id" : 2528683,
         "login" : "ErikDeSmedt",
         "node_id" : "MDQ6VXNlcjI1Mjg2ODM=",
         "organizations_url" : "https://api.github.com/users/ErikDeSmedt/orgs",
         "received_events_url" : "https://api.github.com/users/ErikDeSmedt/received_events",
         "repos_url" : "https://api.github.com/users/ErikDeSmedt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ErikDeSmedt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ErikDeSmedt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ErikDeSmedt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 5df988b534df842ddb658ad2a7ff0f12996c8478",
      "created_at" : "2023-06-28T18:57:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1611922773",
      "id" : 1611922773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gE_1V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611922773/reactions"
      },
      "updated_at" : "2023-06-28T18:57:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1611922773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "tACK 5df988b534df842ddb658ad2a7ff0f12996c8478\r\n\r\nAlso tested backporting the tests. Trick is to disable the norm_pub check (or manually replacing `'` with `h`, changing the checksum where needed).",
      "created_at" : "2023-07-03T19:30:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1619047639",
      "id" : 1619047639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585ggLTX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1619047639/reactions"
      },
      "updated_at" : "2023-07-03T19:30:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1619047639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1252222085"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252222085"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not `UNKNOWN_DESCRIPTOR` instead?",
      "commit_id" : "5df988b534df842ddb658ad2a7ff0f12996c8478",
      "created_at" : "2023-07-04T16:41:18Z",
      "diff_hunk" : "@@ -803,6 +803,12 @@ static DBErrors LoadDescriptorWalletRecords(CWallet* pwallet, DatabaseBatch& bat\n         }\n         pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n \n+        // Prior to doing anything with this spkm, verify ID compatibility\n+        if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+            strErr = \"The descriptor ID calculated by the wallet differs from the one in DB\";\n+            return DBErrors::CORRUPT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1252222085",
      "id" : 1252222085,
      "line" : 809,
      "node_id" : "PRRC_kwDOABII585Ko2SF",
      "original_commit_id" : "5df988b534df842ddb658ad2a7ff0f12996c8478",
      "original_line" : 809,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 1513188776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252222085/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-04T16:41:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252222085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tag for backport?",
      "created_at" : "2023-07-04T16:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1620528011",
      "id" : 1620528011,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gl0uL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620528011/reactions"
      },
      "updated_at" : "2023-07-04T16:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620528011",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not if this has (as I understand it) only been broken on master?",
      "created_at" : "2023-07-04T16:48:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1620530627",
      "id" : 1620530627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gl1XD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620530627/reactions"
      },
      "updated_at" : "2023-07-04T16:48:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620530627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1252228384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252228384"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The descriptor isn't unknown. It's a corruption error as the id written in the database doesn't match the id that we calculate.",
      "commit_id" : "5df988b534df842ddb658ad2a7ff0f12996c8478",
      "created_at" : "2023-07-04T16:52:06Z",
      "diff_hunk" : "@@ -803,6 +803,12 @@ static DBErrors LoadDescriptorWalletRecords(CWallet* pwallet, DatabaseBatch& bat\n         }\n         pwallet->LoadDescriptorScriptPubKeyMan(id, desc);\n \n+        // Prior to doing anything with this spkm, verify ID compatibility\n+        if (id != pwallet->GetDescriptorScriptPubKeyMan(desc)->GetID()) {\n+            strErr = \"The descriptor ID calculated by the wallet differs from the one in DB\";\n+            return DBErrors::CORRUPT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#discussion_r1252228384",
      "id" : 1252228384,
      "in_reply_to_id" : 1252222085,
      "line" : 809,
      "node_id" : "PRRC_kwDOABII585Ko30g",
      "original_commit_id" : "5df988b534df842ddb658ad2a7ff0f12996c8478",
      "original_line" : 809,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 7,
      "pull_request_review_id" : 1513197762,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27920",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252228384/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-04T16:52:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252228384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Tag for backport?\r\n\r\nNo need, only affects master.",
      "created_at" : "2023-07-04T16:52:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1620534607",
      "id" : 1620534607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gl2VP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620534607/reactions"
      },
      "updated_at" : "2023-07-04T16:52:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620534607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If anyone on master is affected by this, we could perhaps add a command to wallet-tool that resets the descriptor ID and cache.",
      "created_at" : "2023-07-04T18:04:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1620591164",
      "id" : 1620591164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585gmEI8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620591164/reactions"
      },
      "updated_at" : "2023-07-04T18:04:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620591164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Some of my wallets are no longer opening after pulling master, and I bisected it to this commit. \r\nFor example when starting in -sigtest or -regtest mode I get the error \"The wallet is corrupt\" and Bitcoin Core exits. \r\nThis doesn't happen for -testnet or main net though. \r\nIf I understand correctly, this PR is fixing a bug for people who got their wallets corrupted, but in my case it's the opposite - I can still open the wallets with versions before this commit. \r\nIs this an expected behavior?",
      "created_at" : "2023-09-03T00:57:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27920#issuecomment-1703976442",
      "id" : 1703976442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27920",
      "node_id" : "IC_kwDOABII585lkJ36",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1703976442/reactions"
      },
      "updated_at" : "2023-09-03T00:57:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1703976442",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/123340139?v=4",
         "events_url" : "https://api.github.com/users/denavila/events{/privacy}",
         "followers_url" : "https://api.github.com/users/denavila/followers",
         "following_url" : "https://api.github.com/users/denavila/following{/other_user}",
         "gists_url" : "https://api.github.com/users/denavila/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/denavila",
         "id" : 123340139,
         "login" : "denavila",
         "node_id" : "U_kgDOB1oFaw",
         "organizations_url" : "https://api.github.com/users/denavila/orgs",
         "received_events_url" : "https://api.github.com/users/denavila/received_events",
         "repos_url" : "https://api.github.com/users/denavila/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/denavila/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/denavila/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/denavila"
      }
   }
]
