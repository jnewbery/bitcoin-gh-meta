[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "wrote a little python 3 script that will list number of answers with the same `getaddrinfo` call as what we use:\r\n```python3\r\nimport socket\r\n\r\nseeds = [\"seed.bitcoin.sipa.be\",\r\n         \"dnsseed.bluematt.me\",\r\n         \"dnsseed.bitcoin.dashjr.org\",\r\n         \"seed.bitcoinstats.com\",\r\n         \"seed.bitcoin.jonasschnelli.ch\",\r\n         \"seed.btc.petertodd.org\",\r\n         \"seed.bitcoin.sprovoost.nl\",\r\n         \"dnsseed.emzy.de\"]\r\n\r\nfor seed in seeds:\r\n    result = len(socket.getaddrinfo(seed, None, family=socket.AF_UNSPEC, type=socket.SOCK_STREAM, proto=socket.IPPROTO_TCP, flags=socket.AI_ADDRCONFIG))\r\n    print(\"{:>4}\\t{}\".format(result, seed))\r\n```\r\n-----\r\nHere's the result:\r\n```\r\n  25    seed.bitcoin.sipa.be\r\n  33    dnsseed.bluematt.me\r\n  38    dnsseed.bitcoin.dashjr.org\r\n  50    seed.bitcoinstats.com\r\n  38    seed.bitcoin.jonasschnelli.ch\r\n  23    seed.btc.petertodd.org\r\n  35    seed.bitcoin.sprovoost.nl\r\n  41    dnsseed.emzy.de\r\n```",
      "created_at" : "2019-06-13T22:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-501898990",
      "id" : 501898990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTg5ODk5MA==",
      "updated_at" : "2019-06-13T22:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501898990",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Given the range of # of results (23-50), I'd be interested in what people think a good `nMaxIPs` choice would be.",
      "created_at" : "2019-06-13T22:19:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-501899435",
      "id" : 501899435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTg5OTQzNQ==",
      "updated_at" : "2019-06-13T22:19:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501899435",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Evenly divided by the limit on whichever bucket DNS seeds go into?",
      "created_at" : "2019-06-13T22:51:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-501906463",
      "id" : 501906463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTkwNjQ2Mw==",
      "updated_at" : "2019-06-13T22:51:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501906463",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/620611?v=4",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "node_id" : "MDQ6VXNlcjYyMDYxMQ==",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Evenly divided by the limit on whichever bucket DNS seeds go into?\r\n\r\n@pstratem Not 100% sure what you mean, could you elaborate a little?",
      "created_at" : "2019-06-14T15:30:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-502154538",
      "id" : 502154538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMjE1NDUzOA==",
      "updated_at" : "2019-06-14T15:32:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502154538",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3445290?v=4",
         "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dongcarl/followers",
         "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dongcarl",
         "id" : 3445290,
         "login" : "dongcarl",
         "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
         "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
         "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
         "repos_url" : "https://api.github.com/users/dongcarl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dongcarl"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@dongcarl Given the range of responses `nMaxIPs=32` sounds like a good number.\r\n\r\nHow easy would it be to update the DNS seeders to always return up to 32 addresses and then in bitcoin-core only accept 32 addresses from a DNS seeder. ",
      "created_at" : "2019-06-19T20:37:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-503736950",
      "id" : 503736950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMzczNjk1MA==",
      "updated_at" : "2019-06-19T20:37:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503736950",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@EthanHeilman That's not actually up to the seeder implementation, as recursive resolving may transform the response in various ways. And it's also restricted to being able to fit in a UDP packet.",
      "created_at" : "2019-06-19T20:41:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-503738509",
      "id" : 503738509,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMzczODUwOQ==",
      "updated_at" : "2019-06-19T20:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503738509",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa Do recursive revolvers transform DNS responses except for censorship, billing and malware purposes?",
      "created_at" : "2019-06-20T14:27:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-504047665",
      "id" : 504047665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDA0NzY2NQ==",
      "updated_at" : "2019-06-20T14:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504047665",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/274814?v=4",
         "events_url" : "https://api.github.com/users/EthanHeilman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EthanHeilman/followers",
         "following_url" : "https://api.github.com/users/EthanHeilman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EthanHeilman",
         "id" : 274814,
         "login" : "EthanHeilman",
         "node_id" : "MDQ6VXNlcjI3NDgxNA==",
         "organizations_url" : "https://api.github.com/users/EthanHeilman/orgs",
         "received_events_url" : "https://api.github.com/users/EthanHeilman/received_events",
         "repos_url" : "https://api.github.com/users/EthanHeilman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EthanHeilman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EthanHeilman"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Do recursive revolvers transform DNS responses except for censorship, billing and malware purposes?\r\n\r\nNope, they largely do not. If the response has been modified, something has gone wrong...",
      "created_at" : "2019-11-28T00:05:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-559291234",
      "id" : 559291234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTI5MTIzNA==",
      "updated_at" : "2019-11-28T00:05:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559291234",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "32, indeed, seems like a good number. With my hostname, 33 across v4+v6 fits neatly in the two 500 byte payload responses with an authority section, though if the server doesn't have an authority/additional section you could go a bit higher. To avoid biasing, we probably want a limit that is the ~minimum of all the seeds.\r\n\r\n@petertodd and @sipa looks like y'all should be able to increase the number of responses your seeds provide?\r\n\r\nWhile we're at it @cdecker looks like your seed violates the DNS spec for non-EDNS requests (it sends back 739 bytes if you query for v6 addresses, though your limit for v4 looks OK).\r\n\r\nOf course that said, we could also probably look at the number of requests that use EDNS, and use (and provide) a larger limit if thats common enough (TCP fallback isn't sooo expensive). I don't, however, know if @sipa's seeder supports EDNS which would be a blocker.\r\n\r\n```\r\n$  dig +nodnssec +noedns @ns.as397444.net dnsseed.bluematt.me\r\n...\r\ndnsseed.bluematt.me.\t3600\tIN\tCNAME\tx1.dnsseed.bluematt.me.\r\n...\r\n;; MSG SIZE  rcvd: 486\r\n```\r\n\r\n```\r\n$  dig +nodnssec +noedns @ns.as397444.net dnsseed.bluematt.me AAAA\r\n...\r\ndnsseed.bluematt.me.\t3600\tIN\tCNAME\tx1.dnsseed.bluematt.me.\r\n...\r\n;; MSG SIZE  rcvd: 486\r\n```",
      "created_at" : "2019-11-28T00:42:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-559297746",
      "id" : 559297746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTI5Nzc0Ng==",
      "updated_at" : "2019-11-28T00:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559297746",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> While we're at it @cdecker looks like your seed violates the DNS spec for non-EDNS requests (it sends back 739 bytes if you query for v6 addresses, though your limit for v4 looks OK).\r\n\r\nI'll fix that asap, thanks for the heads up",
      "created_at" : "2019-11-28T15:51:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-559541990",
      "id" : 559541990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1OTU0MTk5MA==",
      "updated_at" : "2019-11-28T15:51:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559541990",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/120117?v=4",
         "events_url" : "https://api.github.com/users/cdecker/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cdecker/followers",
         "following_url" : "https://api.github.com/users/cdecker/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cdecker/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cdecker",
         "id" : 120117,
         "login" : "cdecker",
         "node_id" : "MDQ6VXNlcjEyMDExNw==",
         "organizations_url" : "https://api.github.com/users/cdecker/orgs",
         "received_events_url" : "https://api.github.com/users/cdecker/received_events",
         "repos_url" : "https://api.github.com/users/cdecker/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cdecker/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cdecker/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cdecker"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa ",
      "created_at" : "2023-09-21T16:13:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16070#issuecomment-1729891808",
      "id" : 1729891808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16070",
      "node_id" : "IC_kwDOABII585nHA3g",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729891808/reactions"
      },
      "updated_at" : "2023-09-21T16:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729891808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
