[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29040).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/29040#pullrequestreview-1774737399) |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/29040#issuecomment-1848422903) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-12-09T12:19:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#issuecomment-1848394548",
      "id" : 1848394548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29040",
      "node_id" : "IC_kwDOABII585uLEM0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848394548/reactions"
      },
      "updated_at" : "2023-12-11T10:13:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848394548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\n> This silences the following (clang 18):\r\n>\r\n> ```\r\n> common/args.cpp:288:31: error: returning variable 'm_cached_blocks_path' by reference requires holding mutex 'cs_args' [-Werror,-Wthread-safety-reference-return]\r\n>  288 |     if (!path.empty()) return path;\r\n>      |                               ^\r\n> ```\r\n\r\nDoes it happen on the master branch?",
      "created_at" : "2023-12-09T14:17:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#issuecomment-1848422903",
      "id" : 1848422903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29040",
      "node_id" : "IC_kwDOABII585uLLH3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848422903/reactions"
      },
      "updated_at" : "2023-12-09T14:17:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848422903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Does it happen on the master branch?\r\n\r\n@hebasto, yes, see https://github.com/bitcoin/bitcoin/pull/28774",
      "created_at" : "2023-12-11T09:45:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#issuecomment-1849679829",
      "id" : 1849679829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29040",
      "node_id" : "IC_kwDOABII585uP9_V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849679829/reactions"
      },
      "updated_at" : "2023-12-11T09:45:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849679829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422226453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422226453"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: the commit message has comments:\r\n\r\n```\r\n #include <system_error>  // for error_code\r\n #include <type_traits>   // for is_same\r\n```\r\n\r\npersonally I like them and find them useful.",
      "commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "created_at" : "2023-12-11T09:59:55Z",
      "diff_hunk" : "@@ -14,6 +14,8 @@\n #include <ios>\n #include <ostream>\n #include <string>\n+#include <system_error>\n+#include <type_traits>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422226453",
      "id" : 1422226453,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585UxXQV",
      "original_commit_id" : "facc08096d7df9c4eacb559f02950ee8a13b1147",
      "original_line" : 18,
      "original_position" : 11,
      "original_start_line" : 17,
      "path" : "src/util/fs.h",
      "position" : 11,
      "pull_request_review_id" : 1774737399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422226453/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 17,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-11T10:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422226453",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422242907"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422242907"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What about the comment that says \"This method can be removed after switching to C++20\"? I think indeed this method should be removed entirely.\r\n\r\nIn C++17 its prototype, according to the spec is `std::string u8string() const` which matches ours and is ok. But in C++20 it is: `std::u8string u8string() const` and it is confusing to have a mismatch. I would better drop this method like the comment says and then fix problems (if any) that arise due to that.",
      "commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "created_at" : "2023-12-11T10:12:58Z",
      "diff_hunk" : "@@ -54,10 +56,8 @@ class path : public std::filesystem::path\n \n     std::string u8string() const\n     {\n-        const auto& utf8_str{std::filesystem::path::u8string()};\n-        // utf8_str might either be std::string (C++17) or std::u8string\n-        // (C++20). Convert both to std::string. This method can be removed\n-        // after switching to C++20.\n+        const std::u8string& utf8_str{std::filesystem::path::u8string()};\n+        // Convert to std::string as a convenience for use in RPC code.\n         return std::string{utf8_str.begin(), utf8_str.end()};\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422242907",
      "id" : 1422242907,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII585UxbRb",
      "original_commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "original_line" : 62,
      "original_position" : 35,
      "original_start_line" : 57,
      "path" : "src/util/fs.h",
      "position" : 35,
      "pull_request_review_id" : 1774737399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422242907/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 57,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-11T10:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422242907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422675622"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422675622"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"This method can be removed after switching to C++20\" was written by me and I think it no longer makes sense.\r\n\r\n> But in C++20 it is: std::u8string u8string() const and it is confusing to have a mismatch.\r\n\r\nI think this is fine. `fs::path` is not an exact API-copy of `std::filesystem::path`. Some methods are different, or deleted, so this mismatch should be fine.\r\n\r\nIf a u8string was returned here, UniValue would have to be updated to take it as well, in which case the conversion would need to happen there. Other parts of the codebase may have to be adjusted as well. I don't think forcing conversions all over the codebase  adds any value, but I am happy to change my view, if there are any good reasons.",
      "commit_id" : "856c88776f8486446602476a1c9e133ac0cff510",
      "created_at" : "2023-12-11T15:43:42Z",
      "diff_hunk" : "@@ -54,10 +56,8 @@ class path : public std::filesystem::path\n \n     std::string u8string() const\n     {\n-        const auto& utf8_str{std::filesystem::path::u8string()};\n-        // utf8_str might either be std::string (C++17) or std::u8string\n-        // (C++20). Convert both to std::string. This method can be removed\n-        // after switching to C++20.\n+        const std::u8string& utf8_str{std::filesystem::path::u8string()};\n+        // Convert to std::string as a convenience for use in RPC code.\n         return std::string{utf8_str.begin(), utf8_str.end()};\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422675622",
      "id" : 1422675622,
      "in_reply_to_id" : 1422242907,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII585UzE6m",
      "original_commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "original_line" : 62,
      "original_position" : 35,
      "original_start_line" : 57,
      "path" : "src/util/fs.h",
      "position" : 35,
      "pull_request_review_id" : 1775468844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422675622/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 57,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-11T15:43:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422675622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422802518"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422802518"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I need to understand this better. What I grasp now is that in C++17 it was ok to store UTF-8 strings in `std::string` and in C++20 it is not and one has to use `std::u8string` instead?\r\n\r\nThis smells because if callers need `std::string` why do they call `u8string()` and not `string()`!? Is it because it was ok to do that in C++17 because in C++17 `std::filesystem::path::string()` would return `std::string` itself and on top of this it was needed because of some complication on Windows?\r\n\r\nOn Windows `filesystem::path` uses `wchar_t` and it has to be somehow converted to `std::string<char>`, I guess:\r\n1. `filesystem::path::string()` which does that conversion is not ok\r\n2. `filesystem::path::u8string()` converts `wchar_t` to\r\n  2.1. C++17: `char` from which we convert it explicitly to `char` which is a noop\r\n  2.2. C++20: `char8_t` from which we convert it explicitly to `char`. Is that ok? Why C++20 has `std::u8string` if we can store UTF-8 strings in `std::string`?\r\n\r\nWhat would be an example in C++20 where it is broken by calling `string()` (1.) and ok by converting `wchar_t`->`char8_t`->`char` (2.2)?",
      "commit_id" : "856c88776f8486446602476a1c9e133ac0cff510",
      "created_at" : "2023-12-11T16:52:55Z",
      "diff_hunk" : "@@ -54,10 +56,8 @@ class path : public std::filesystem::path\n \n     std::string u8string() const\n     {\n-        const auto& utf8_str{std::filesystem::path::u8string()};\n-        // utf8_str might either be std::string (C++17) or std::u8string\n-        // (C++20). Convert both to std::string. This method can be removed\n-        // after switching to C++20.\n+        const std::u8string& utf8_str{std::filesystem::path::u8string()};\n+        // Convert to std::string as a convenience for use in RPC code.\n         return std::string{utf8_str.begin(), utf8_str.end()};\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422802518",
      "id" : 1422802518,
      "in_reply_to_id" : 1422242907,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII585Uzj5W",
      "original_commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "original_line" : 62,
      "original_position" : 35,
      "original_start_line" : 57,
      "path" : "src/util/fs.h",
      "position" : 35,
      "pull_request_review_id" : 1775659940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422802518/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 57,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-11T16:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422802518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422807954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422807954"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I need to understand this better. What I grasp now is that in C++17 it was ok to store UTF-8 strings in `std::string` and in C++20 it is not and one has to use `std::u8string` instead?\r\n\r\nThe underlying data structure is just a container to hold bytes. If the bytes are identical, which they are (in this function), it only matters for readers of the code what the data structure is called.\r\n\r\nThe important part to getting the right bytes is to call the right function, which is called `u8string` in all versions of C++ and in this file.",
      "commit_id" : "856c88776f8486446602476a1c9e133ac0cff510",
      "created_at" : "2023-12-11T16:56:46Z",
      "diff_hunk" : "@@ -54,10 +56,8 @@ class path : public std::filesystem::path\n \n     std::string u8string() const\n     {\n-        const auto& utf8_str{std::filesystem::path::u8string()};\n-        // utf8_str might either be std::string (C++17) or std::u8string\n-        // (C++20). Convert both to std::string. This method can be removed\n-        // after switching to C++20.\n+        const std::u8string& utf8_str{std::filesystem::path::u8string()};\n+        // Convert to std::string as a convenience for use in RPC code.\n         return std::string{utf8_str.begin(), utf8_str.end()};\n     }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29040#discussion_r1422807954",
      "id" : 1422807954,
      "in_reply_to_id" : 1422242907,
      "line" : 62,
      "node_id" : "PRRC_kwDOABII585UzlOS",
      "original_commit_id" : "0d66eea93f1e115b2e9e00ee2e89cd967f826d22",
      "original_line" : 62,
      "original_position" : 35,
      "original_start_line" : 57,
      "path" : "src/util/fs.h",
      "position" : 35,
      "pull_request_review_id" : 1775668271,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29040",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422807954/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 57,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-11T16:56:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1422807954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   }
]
