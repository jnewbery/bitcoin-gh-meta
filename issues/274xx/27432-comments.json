[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/27432).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [jamesob](https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1653747991), [dunxen](https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1654038512), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/27432#pullrequestreview-1675601454), [Sjors](https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2034831892) |\n| Stale ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/27432#pullrequestreview-1376557345), [ajtowns](https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2136522127) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-04-06T17:59:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1499428039",
      "id" : 1499428039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ZX3TH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499428039/reactions"
      },
      "updated_at" : "2024-06-18T12:41:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499428039",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This also closes https://github.com/bitcoin/bitcoin/issues/21670 ;-)",
      "created_at" : "2023-04-06T18:01:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1499430406",
      "id" : 1499430406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ZX34G",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499430406/reactions"
      },
      "updated_at" : "2023-04-06T18:01:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499430406",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pinging users who worked on or reviewed / expressed interest in the previous attempt to solve this issue (PR #24952):\r\n@dunxen @0xB10C @jamesob @prusnak @willcl-ark @w0xlt @jonatack @brunoerg @laanwj @fanquake",
      "created_at" : "2023-04-06T18:03:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1499432405",
      "id" : 1499432405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ZX4XV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499432405/reactions"
      },
      "updated_at" : "2023-04-06T18:03:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1499432405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the resulting file has roughly 2x the size of the compact-serialized UTXO set (this is mostly due to encoding txids and scriptpubkeys as hex-strings rather than bytes)\r\n\r\nWhat is the rationale for encoding as text rather than bytes? SQLite can store byte values as BLOBs.",
      "created_at" : "2023-04-20T19:43:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1516857024",
      "id" : 1516857024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585aaWbA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516857024/reactions"
      },
      "updated_at" : "2023-04-20T19:43:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516857024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > the resulting file has roughly 2x the size of the compact-serialized UTXO set (this is mostly due to encoding txids and scriptpubkeys as hex-strings rather than bytes)\r\n> \r\n> What is the rationale for encoding as text rather than bytes? SQLite can store byte values as BLOBs.\r\n\r\nFair question. There was already some discussion in #24952 about whether to store txids/scriptPubKeys as TEXT or BLOB, see https://github.com/bitcoin/bitcoin/pull/24952#pullrequestreview-952102140, https://github.com/bitcoin/bitcoin/pull/24952#issuecomment-1108758629 and https://github.com/bitcoin/bitcoin/pull/24952#issuecomment-1108794823. The two main points were:\r\n\r\n- conversion from this database to json/csv etc should be as simple as possible, and ideally \"select * from utxos\" should already lead to human-readable output. Converting would then be as trivial as a short one-liner `sqlite3 -json utxo.db \"SELECT * FROM utxos\" > utxo.json`, without even having to specify the columns\r\n- more annoying: if using BLOB for the txid, we would have to decide if we store the txid in little or big endian byte order. Big endian would be more natural, as that's how we internally store the txid and also serialize it on the wire, but we _show_ everything in little endian byte order in Bitcoin Core, so a simple \"select hex(txid) from utxos\" would just show the txid in the wrong order, and something like \"reverse(...)\" doesn't exist in SQLite (though some hacky workarounds have been proposed: https://github.com/bitcoin/bitcoin/pull/24952#issuecomment-1164733346 and https://github.com/bitcoin/bitcoin/pull/24952#issuecomment-1165804095). There remains the possibility to just store the txid in little endian order, but that's the opposite of what we do in leveldb or in the serialization of outpoints, so it could lead to huge confusion for users if not clearly documented. For TEXT the order is clear, it's just stored what is shown everywhere in Bitcoin Core and all wallets, block explorers etc.\r\n\r\nConsidering the scriptPubKey column individually, there is no good reason to use TEXT rather than BLOB, but I went for TEXT mostly for consistency reasons, to not mix TEXT and BLOB in different columns when it's both binary data.\r\n\r\nThat said, I'm also very open also for using BLOB instead, it's just a matter of trade-offs.",
      "created_at" : "2023-04-20T20:45:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1516922824",
      "id" : 1516922824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585aamfI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516922824/reactions"
      },
      "updated_at" : "2023-04-20T20:45:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516922824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK. Seems like a fine idea to me.\r\n\r\n> What is the rationale for encoding as text rather than bytes? SQLite can store byte values as BLOBs.\r\n\r\nIt's a python conversion script: can't you just add a command-line option for the resulting db to have hex txids or big/little endian blobs if there's user demand for it? Hex encoding seems a fine default to me, for what it's worth.\r\n\r\nIf people end up wanting lots of different options (convert scriptPubKeys to addresses? some way to update the db to a new state, rather than just create a new one?)  maybe it would make sense for this script to have its own repo even; but while it stays simple/small, seems fine for contrib.",
      "created_at" : "2023-07-27T14:29:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1653739351",
      "id" : 1653739351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ikg9X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653739351/reactions"
      },
      "updated_at" : "2023-07-27T14:29:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653739351",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, will test soon",
      "created_at" : "2023-07-27T14:33:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1653747991",
      "id" : 1653747991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ikjEX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653747991/reactions"
      },
      "updated_at" : "2023-07-27T14:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653747991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-07-27T17:08:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1654038512",
      "id" : 1654038512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585ilp_w",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1654038512/reactions"
      },
      "updated_at" : "2023-07-27T17:08:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1654038512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3072149?v=4",
         "events_url" : "https://api.github.com/users/dunxen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dunxen/followers",
         "following_url" : "https://api.github.com/users/dunxen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dunxen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dunxen",
         "id" : 3072149,
         "login" : "dunxen",
         "node_id" : "MDQ6VXNlcjMwNzIxNDk=",
         "organizations_url" : "https://api.github.com/users/dunxen/orgs",
         "received_events_url" : "https://api.github.com/users/dunxen/received_events",
         "repos_url" : "https://api.github.com/users/dunxen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dunxen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dunxen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dunxen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could mark as draft while CI is red?\r\n\r\nSorry for the extra-late reply, missed this message and the CI fail. Rebased on master and resolved the silent merge conflict (caused by the module move `test_framework.muhash` -> `test_framework.crypto.muhash` in #28374). Also fixed the Windows CI issue by closing the sqlite connections properly with explicit `con.close()` calls (see e.g. https://github.com/bitcoin/bitcoin/pull/28204). CI is green now.\r\n\r\n>> What is the rationale for encoding as text rather than bytes? SQLite can store byte values as BLOBs.\r\n>\r\n> It's a python conversion script: can't you just add a command-line option for the resulting db to have hex txids or big/little endian blobs if there's user demand for it? Hex encoding seems a fine default to me, for what it's worth.\r\n\r\nGood idea, planning to tackle this as a follow-up.",
      "created_at" : "2024-01-06T22:54:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1879866925",
      "id" : 1879866925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585wDH4t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879866925/reactions"
      },
      "updated_at" : "2024-01-06T22:54:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879866925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Unfortunately, this will need to be updated again once https://github.com/bitcoin/bitcoin/pull/29612 is in, so probably best to put it on hold until then.",
      "created_at" : "2024-03-14T13:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1997425196",
      "id" : 1997425196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII5853Dkos",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1997425196/reactions"
      },
      "updated_at" : "2024-03-14T13:08:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1997425196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Unfortunately, this will need to be updated again once #29612 is in, so probably best to put it on hold until then.\r\n\r\nGood point, changed to draft state for now.",
      "created_at" : "2024-03-14T13:11:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-1997431098",
      "id" : 1997431098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII5853DmE6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1997431098/reactions"
      },
      "updated_at" : "2024-03-14T13:11:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1997431098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/23283557207</sub>",
      "created_at" : "2024-03-31T22:33:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2028934123",
      "id" : 2028934123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII58547xPr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028934123/reactions"
      },
      "updated_at" : "2024-03-31T22:33:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028934123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2024-04-03T14:48:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2034831892",
      "id" : 2034831892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII5855SRIU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2034831892/reactions"
      },
      "updated_at" : "2024-04-03T14:48:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2034831892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-05-02T21:18:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2091667579",
      "id" : 2091667579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII5858rFB7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091667579/reactions"
      },
      "updated_at" : "2024-05-02T21:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091667579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on https://github.com/bitcoin/bitcoin/pull/29612, supporting the latest format with enhanced metadata (magic bytes, version, network magic, block height, block hash, coins count).",
      "created_at" : "2024-05-05T09:15:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2094700451",
      "id" : 2094700451,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII58582pej",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094700451/reactions"
      },
      "updated_at" : "2024-05-05T09:15:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094700451",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-05-23T19:02:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2127842922",
      "id" : 2127842922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585-1E5q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2127842922/reactions"
      },
      "updated_at" : "2024-05-23T19:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2127842922",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 0a89179d62a5b2c5ebc20b806122bb50fc199cba -- no deep review, but being able to mess around with the utxo set as an sqlite dump is handy, and adding a script to contrib seems low risk.\r\n\r\nAs at height 844861, the raw dump is ~12GB and the sqlite version is ~25GB, so having a bunch of free space is helpful if you want to try it out.",
      "created_at" : "2024-05-29T05:08:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2136522127",
      "id" : 2136522127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII585_WL2P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2136522127/reactions"
      },
      "updated_at" : "2024-05-29T05:08:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2136522127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-06-17T23:31:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2174619997",
      "id" : 2174619997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586BnhFd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2174619997/reactions"
      },
      "updated_at" : "2024-06-17T23:31:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2174619997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased on master (resolving a trivial merging conflict in the test runner list after the merge of #28984).",
      "created_at" : "2024-06-18T00:34:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2174686278",
      "id" : 2174686278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586BnxRG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2174686278/reactions"
      },
      "updated_at" : "2024-06-18T00:34:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2174686278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Just tried with the mainnet block 840,000 snapshot from #28553:\r\n\r\n```\r\nsha256sum ../utxo-snapshots/utxo-840000.dat\r\n9db649785fcddd8b1fe83a5009fe5c9be1901e8c322298cacc8a2d96ace4807e  ../utxo-snapshots/utxo-840000.dat\r\n\r\ncontrib/utxo-tools/utxo_to_sqlite.py ../utxo-snapshots/utxo-840000.dat ../utxo-snapshots/utxo-840000.sqlite\r\nUTXO Snapshot for Mainnet at block height 840000 [0000000000000000...], contains 176948713 coins\r\nTraceback (most recent call last):\r\n  File \"/home/sjors/dev/bitcoin/contrib/utxo-tools/utxo_to_sqlite.py\", line 180, in <module>\r\n    main()\r\n  File \"/home/sjors/dev/bitcoin/contrib/utxo-tools/utxo_to_sqlite.py\", line 151, in main\r\n    scriptpubkey = decompress_script(f).hex()\r\n  File \"/home/sjors/dev/bitcoin/contrib/utxo-tools/utxo_to_sqlite.py\", line 73, in decompress_script\r\n    return bytes([65]) + decompress_pubkey(compressed_pubkey) + bytes([0xac])\r\n  File \"/home/sjors/dev/bitcoin/contrib/utxo-tools/utxo_to_sqlite.py\", line 89, in decompress_pubkey\r\n    assert pow(y, 2, P) == rhs, f\"pubkey is not on curve ({compressed_pubkey.hex()})\"\r\nAssertionError: pubkey is not on curve (02fcf4e32ffe3e7c998f2795f30b851d5ffde45d000059e866f2793c9cbd735b29)\r\n```\r\n\r\nPython 3.9.18 on Ubuntu 24.04 on an AMD.\r\n\r\nDitto on Intel macOS 14.5.\r\n\r\nVerbose log: https://zerobin.org/?d2b0aaa5e8799896#GHnT9EXJHVEqdLrGBGg5bDL2TT1hUfaASQWh3x1xrcH3\r\n\r\nIdeally we'd test this script against every UTXO ever created, but extracting those efficiently requires its own raw block file parsing script :-)",
      "created_at" : "2024-06-18T08:17:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2175491752",
      "id" : 2175491752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586Bq16o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175491752/reactions"
      },
      "updated_at" : "2024-06-18T08:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175491752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors: Thanks for testing. Interesting, IIUC it's not possible to compress the serialization of a not-on-the-curve-pubkey, so I strongly assume there must be a bug somewhere in the `decompress_pubkey` routine. Will investigate in a bit, and put the PR into draft state until this is fixed.\r\n\r\n > Ideally we'd test this script against every UTXO ever created, but extracting those efficiently requires its own raw block file parsing script :-)\r\n\r\nAgree that would be very nice.",
      "created_at" : "2024-06-18T08:45:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2175547170",
      "id" : 2175547170,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586BrDci",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175547170/reactions"
      },
      "updated_at" : "2024-06-18T08:45:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2175547170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed the bug reported in https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2175491752. The problem was that the prevout index and the coins per txid are compact-size encoded (since #29612), but this script assumed varint-encoding. Since txs with a huge number of ouputs (>252) are rather rare, this apparently only pops up occassionally. Ready for review again.",
      "created_at" : "2024-06-18T15:13:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2176353962",
      "id" : 2176353962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586BuIaq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2176353962/reactions"
      },
      "updated_at" : "2024-06-18T15:13:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2176353962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "TOTAL: 176948713 coins written to ../utxo-snapshots/utxo-840000.sqlite\r\n\r\nIt's about 25 GB. Not sure if it's supposed to be deterministic, but here you go:\r\n```\r\n99450bac6e081e03751c064034b3d10e17b463ca56dfc35797fc6b5fe0de8ac4  ../utxo-snapshots/utxo-840000.sqlite\r\n```\r\n\r\nSanity check for the contents:\r\n\r\n```\r\n$ sqlite3 -readonly ../utxo-snapshots/utxo-840000.sqlite .dump | head -n10\r\nPRAGMA foreign_keys=OFF;\r\nBEGIN TRANSACTION;\r\nCREATE TABLE utxos(txid TEXT, vout INT, value INT, coinbase INT, height INT, scriptpubkey TEXT);\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',0,100000,0,684110,'76a914a35277c3ceb9c38da206be006e8c7ff8e94fc52988ac');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',2,330,0,684110,'0020160d0000000000f0558db21dc3e8d765044120f3b6d18c22f5957ad83382521f');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',3,330,0,684110,'00203f52bab5928e8e9388d8fe3c6c536faf8006b97a090501d035ef0eb9136d3868');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',4,330,0,684110,'00201698e842e20fa57ff8f72e6bf1533138fc0d0f41201b8b959b924ea19a53c809');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',5,330,0,684110,'002019ae7a5b46cb44f12058461629eebf7b8b300d72f6017367e85ddb26f4c52f03');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',6,330,0,684110,'0020d254536c698495436ab0868c11773c7066c2860a1d411f34ee36284fa706aa0b');\r\nINSERT INTO utxos VALUES('d176d4960a78b41971f9d19207b59af6584b16ef323de55e983aec0100000000',7,330,0,684110,'002014b9a95a60f0dc7ebea06daec866076d1868974a6060b53fc6f1614492d634c3');\r\n```",
      "created_at" : "2024-06-18T18:02:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2176675056",
      "id" : 2176675056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586BvWzw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2176675056/reactions"
      },
      "updated_at" : "2024-06-18T18:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2176675056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It's about 25 GB. Not sure if it's supposed to be deterministic, but here you go:\r\n> \r\n> ```\r\n> 99450bac6e081e03751c064034b3d10e17b463ca56dfc35797fc6b5fe0de8ac4  ../utxo-snapshots/utxo-840000.sqlite\r\n> ```\r\n\r\nPretty sure that the .sqlite file as a whole is not deterministic, as there are e.g. different page sizes supported (similar to BDB) and the header seems to include the concrete SQLite version that was used to create the file, see https://www.sqlite.org/fileformat.html#the_database_header\r\n\r\nWhat could work for comparing is hashing the dump of the actual data, i.e..\r\n```\r\n$ sqlite3 -csv utxo.sqlite \"select * from utxos\" | sha256sum\r\n```\r\nor, to compare it directly with bitcoind, calculate the MuHash via the [calc_utxo_hash tool](https://github.com/theStack/utxo_dump_tools) as shown in the PR description (haven't run it in the while, but it should still work as the SQLite file format hasn't changed).",
      "created_at" : "2024-06-19T00:17:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2177289493",
      "id" : 2177289493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586Bxs0V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2177289493/reactions"
      },
      "updated_at" : "2024-06-19T00:17:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2177289493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "That results in 32de3c3dc85e602878f9e5b7e6ebcd7fe917d4345f7a07c0bfd4c82b4b5639db.\r\n\r\nSo your other approach would be to use all the CSV fields to calculate the MuHash for the entire UTXO set at block 840,000 and then compare that to the `muhash` value of `gettxoutsetinfo muhash 840000` (with `-coinstatsindex` enabled)? Happy to try if someone gives me an incantation to paste...",
      "created_at" : "2024-06-19T07:09:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2177915400",
      "id" : 2177915400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586B0FoI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2177915400/reactions"
      },
      "updated_at" : "2024-06-19T07:09:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2177915400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> So your other approach would be to use all the CSV fields to calculate the MuHash for the entire UTXO set at block 840,000 and then compare that to the `muhash` value of `gettxoutsetinfo muhash 840000` (with `-coinstatsindex` enabled)? Happy to try if someone gives me an incantation to paste...\r\n\r\nSee the last section in this PR's description above (\"Manual test instructions\"). It involves starting bitcoind with `-coinstatsindex`, creating the dump via `dumptxoutset`, converting the dump to sqlite (with the tool introduced in this PR), and as last step running an external MuHash calculating tool that directly accepts the sqlite format (so no conversion to CSV format needed). I just tried it with signet on height 200674 and the MuHashes match, would be nice to verify it on mainnet too.",
      "created_at" : "2024-06-19T10:05:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2178286146",
      "id" : 2178286146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586B1gJC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178286146/reactions"
      },
      "updated_at" : "2024-06-19T10:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178286146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ah nice, I'll try that (tomorrow probably).",
      "created_at" : "2024-06-19T12:08:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27432#issuecomment-2178536123",
      "id" : 2178536123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27432",
      "node_id" : "IC_kwDOABII586B2dK7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178536123/reactions"
      },
      "updated_at" : "2024-06-19T12:08:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2178536123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
