[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think that it may be interesting to maintain a minimum count of UTXOs for wallets with sufficient funds also from a privacy perspective: having all of your funds get consolidated into a very low count of UTXOs would converge all of your transaction histories and reveals to counterparties a larger part of the wallet's total funds when transacting. Perhaps it would be good to map out the problem space that we're trying to address a bit more before we talk about the concrete solution, but an idea would be to automatically lower the `consolidatefeerate` for wallets with a lower UTXO count.",
      "created_at" : "2022-04-14T16:18:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24795#issuecomment-1099363092",
      "id" : 1099363092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24795",
      "node_id" : "IC_kwDOABII585BhvMU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099363092/reactions"
      },
      "updated_at" : "2022-04-14T16:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099363092",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree, I believe it makes sense as default behavior for everyone.\r\n\r\nThe benefits I see of keeping a utxo pool:\r\n\r\n- fee bumping\r\n  - this is very important for L2 contracts\r\n  - but it's not as important for L1-only users who will only infrequently need to fee-bump\r\n- initiating multiple multi-party contracts in parallel (could be vaults, dual-funded lightning channels, payment pools, etc)\r\n  - multi-party contracts require a negotiation phase where you'll commit some of your utxos\r\n  - you cannot use these utxos elsewhere until the contract is either fully committed or aborted\r\n  - this use-case is also not important for L1-only users\r\n- more opportunities to send payments that won't need a change output\r\n- privacy\r\n  - this is important for everyone\r\n\r\nThe drawbacks:\r\n\r\n- more costly: when you actually need to send payments, you'll use more inputs so the tx size is larger than if you had consolidated earlier when the feerate was low\r\n- (unsure about that) potentially harder to restore?\r\n- (unsure about that) potentially less performant?\r\n\r\nI don't think we need to aim for something very accurate (e.g. trying to always have N utxos available with a value between X and Y), that would be too hard to manage and probably wouldn't really be necessary to address user needs.\r\n\r\nWe should aim for very simple knobs that users may configure, for example something like `utxo-pool-size = [small, medium, large]` and then internally tweak the `consolidatefeerate` to follow the user's configuration as much as possible. Another possibility is to define a list of _profiles_ (e.g. `pocket-money` / `multi-party-contracts` / `life-savings`) and map that to a utxo pooling behavior: that would work well if we're able to identify the different profiles that make sense and in what way they require a different behavior. What's interesting with that approach is that new profiles can be added in the future as they are identified.",
      "created_at" : "2022-04-14T17:46:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24795#issuecomment-1099463264",
      "id" : 1099463264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24795",
      "node_id" : "IC_kwDOABII585BiHpg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099463264/reactions"
      },
      "updated_at" : "2022-04-14T17:46:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1099463264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/31281497?v=4",
         "events_url" : "https://api.github.com/users/t-bast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/t-bast/followers",
         "following_url" : "https://api.github.com/users/t-bast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/t-bast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/t-bast",
         "id" : 31281497,
         "login" : "t-bast",
         "node_id" : "MDQ6VXNlcjMxMjgxNDk3",
         "organizations_url" : "https://api.github.com/users/t-bast/orgs",
         "received_events_url" : "https://api.github.com/users/t-bast/received_events",
         "repos_url" : "https://api.github.com/users/t-bast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/t-bast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/t-bast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/t-bast"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The feature request didn't seem to attract much attention in the past. Also, the issue seems not important enough right now to keep it sitting around idle in the list of open issues.",
      "created_at" : "2024-04-10T15:27:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24795#issuecomment-2047858044",
      "id" : 2047858044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24795",
      "node_id" : "IC_kwDOABII5856D9V8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047858044/reactions"
      },
      "updated_at" : "2024-04-10T15:27:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047858044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
