{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "`GetVirtualTransactionSize(CTransaction&)` passes by default 0 sigops and 0 `-bytespersigop`, which is incorrect. In many cases (ie, wallet), this is harmless since we have control over the transactions and don't do anything absurd in normal usage. But in other cases (including wallet *received* transactions), this isn't safe. To avoid invisible bugs like this, I delete (or rather, move to `bitcoin_test`) the function signature that allows for omitting sigop inputs.\r\n\r\nThis also then fixes the new package relay code to use the correct virtual sizes for its checks, and documents calling locations where the behaviour is broken or safe.\r\n\r\nIn particular, note that the `sendrawtransaction` RPC and GUI transaction details remain buggy and not fixed in this PR.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345/comments",
   "created_at" : "2023-08-26T21:46:20Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/28345",
   "id" : 1868276585,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585Y27tq",
   "number" : 28345,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/28345.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28345",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/28345.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28345"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345/timeline",
   "title" : "Bugfix: Package relay / bytespersigop checks",
   "updated_at" : "2023-08-26T21:46:52Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28345",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
      "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
      "followers_url" : "https://api.github.com/users/luke-jr/followers",
      "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/luke-jr",
      "id" : 1095675,
      "login" : "luke-jr",
      "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
      "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
      "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
      "repos_url" : "https://api.github.com/users/luke-jr/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/luke-jr"
   }
}
