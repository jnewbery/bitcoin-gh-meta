[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29892).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/29892#pullrequestreview-2004014087), [laanwj](https://github.com/bitcoin/bitcoin/pull/29892#issuecomment-2060405735) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-04-16T14:42:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29892#issuecomment-2059266888",
      "id" : 2059266888,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29892",
      "node_id" : "IC_kwDOABII5856vetI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2059266888/reactions"
      },
      "updated_at" : "2024-04-17T05:38:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2059266888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For testing, one can use gcc-13 (or later) on i386.\r\n\r\nFor example, running the centos CI task on `fedora:40`:\r\n\r\n```diff\r\ndiff --git a/ci/test/00_setup_env_i686_centos.sh b/ci/test/00_setup_env_i686_centos.sh\r\nindex 5f8391c..dc80e98 100755\r\n--- a/ci/test/00_setup_env_i686_centos.sh\r\n+++ b/ci/test/00_setup_env_i686_centos.sh\r\n@@ -12,6 +12,7 @@ export CI_IMAGE_NAME_TAG=\"quay.io/centos/amd64:stream9\"\r\n export CI_BASE_PACKAGES=\"gcc-c++ glibc-devel.x86_64 libstdc++-devel.x86_64 glibc-devel.i686 libstdc++-devel.i686 ccache libtool make git python3 python3-pip which patch lbzip2 xz procps-ng dash rsync coreutils bison util-linux e2fsprogs cmake\"\r\n export PIP_PACKAGES=\"pyzmq\"\r\n export GOAL=\"install\"\r\n+export DEP_OPTS=\"NO_QT=1\"\r\n export NO_WERROR=1  # Suppress error: #warning _FORTIFY_SOURCE > 2 is treated like 2 on this platform [-Werror=cpp]\r\n-export BITCOIN_CONFIG=\"--enable-zmq --with-gui=qt5 --enable-reduce-exports\"\r\n+export BITCOIN_CONFIG=\"--enable-zmq --enable-reduce-exports\"\r\n export CONFIG_SHELL=\"/bin/dash\"\r\ndiff --git a/ci/test/01_base_install.sh b/ci/test/01_base_install.sh\r\nindex 25962a5..6f61394 100755\r\n--- a/ci/test/01_base_install.sh\r\n+++ b/ci/test/01_base_install.sh\r\n@@ -20,7 +20,6 @@ if [ -n \"$DPKG_ADD_ARCH\" ]; then\r\n fi\r\n \r\n if [[ $CI_IMAGE_NAME_TAG == *centos* ]]; then\r\n-  bash -c \"dnf -y install epel-release\"\r\n   bash -c \"dnf -y --allowerasing install $CI_BASE_PACKAGES $PACKAGES\"\r\n elif [ \"$CI_OS_NAME\" != \"macos\" ]; then\r\n   if [[ -n \"${APPEND_APT_SOURCES_LIST}\" ]]; then\r\n```\r\n\r\nOr, alternatively, using gcc in the multiprocess task:\r\n\r\n```diff\r\ndiff --git a/ci/test/00_setup_env_i686_multiprocess.sh b/ci/test/00_setup_env_i686_multiprocess.sh\r\nindex 00a4d78..517ca0c 100755\r\n--- a/ci/test/00_setup_env_i686_multiprocess.sh\r\n+++ b/ci/test/00_setup_env_i686_multiprocess.sh\r\n@@ -9,10 +9,10 @@ export LC_ALL=C.UTF-8\r\n export HOST=i686-pc-linux-gnu\r\n export CONTAINER_NAME=ci_i686_multiprocess\r\n export CI_IMAGE_NAME_TAG=\"docker.io/amd64/ubuntu:24.04\"\r\n-export PACKAGES=\"llvm clang g++-multilib\"\r\n-export DEP_OPTS=\"DEBUG=1 MULTIPROCESS=1\"\r\n+export PACKAGES=\"g++-multilib\"\r\n+export DEP_OPTS=\"DEBUG=1 MULTIPROCESS=1 NO_QT=1\"\r\n export GOAL=\"install\"\r\n export TEST_RUNNER_EXTRA=\"--v2transport\"\r\n-export BITCOIN_CONFIG=\"--enable-debug CC='clang -m32' CXX='clang++ -m32' \\\r\n+export BITCOIN_CONFIG=\"--enable-debug  \\\r\n CPPFLAGS='-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE'\"\r\n export BITCOIND=bitcoin-node  # Used in functional tests\r\n",
      "created_at" : "2024-04-16T15:45:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29892#issuecomment-2059403538",
      "id" : 2059403538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29892",
      "node_id" : "IC_kwDOABII5856wAES",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2059403538/reactions"
      },
      "updated_at" : "2024-04-16T15:45:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2059403538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Right. Direct floating point equality checks are a big nono. It should either use an epsilon comparison, or discretize. Which is what the new test does.\r\n\r\nACK fa4c69669e079c38844ecea1ad3394aae3702ae1",
      "created_at" : "2024-04-17T05:38:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29892#issuecomment-2060405735",
      "id" : 2060405735,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29892",
      "node_id" : "IC_kwDOABII5856z0vn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2060405735/reactions"
      },
      "updated_at" : "2024-04-17T05:38:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2060405735",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Backported to 27.x in #29888.",
      "created_at" : "2024-04-17T07:59:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29892#issuecomment-2060642724",
      "id" : 2060642724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29892",
      "node_id" : "IC_kwDOABII58560umk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2060642724/reactions"
      },
      "updated_at" : "2024-04-17T07:59:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2060642724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
