[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572632242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572632242"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Any reason not to just wrap the args in `std::move`? Seems like the more intuitive approach, and probably slightly more performant?\r\n\r\n```suggestion\r\n    std::vector<util::Result<SelectionResult>> results {\r\n        std::move(result_srd), std::move(result_knapsack), std::move(result_bnb)\r\n    };\r\n```",
      "commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "created_at" : "2024-04-19T16:27:18Z",
      "diff_hunk" : "@@ -291,7 +291,10 @@ FUZZ_TARGET(coinselection)\n     }\n \n     std::vector<COutput> utxos;\n-    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    std::vector<util::Result<SelectionResult>> results;\n+    results.emplace_back(std::move(result_srd));\n+    results.emplace_back(std::move(result_knapsack));\n+    results.emplace_back(std::move(result_bnb));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572632242",
      "id" : 1572632242,
      "line" : 297,
      "node_id" : "PRRC_kwDOABII585dvHay",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 297,
      "original_position" : 8,
      "original_start_line" : 294,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 2011883406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572632242/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 294,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-19T17:03:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572632242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572639146"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572639146"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: nice, but maybe best to clean up all 3 instances in one go?\r\n\r\n<details>\r\n<summary>git diff on 974b16b258</summary>\r\n\r\n```diff\r\ndiff --git a/src/wallet/spend.cpp b/src/wallet/spend.cpp\r\nindex 8b62cddb02..9a7e166e68 100644\r\n--- a/src/wallet/spend.cpp\r\n+++ b/src/wallet/spend.cpp\r\n@@ -868,7 +868,7 @@ util::Result<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, Coin\r\n             if (total_amount + total_unconf_long_chain > value_to_select) {\r\n                 return util::Error{_(\"Unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool\")};\r\n             }\r\n-            return util::Result<SelectionResult>(util::Error()); // General \"Insufficient Funds\"\r\n+            return util::Error{}; // General \"Insufficient Funds\"\r\n         }\r\n \r\n         // Walk-through the filters until the solution gets found.\r\n@@ -894,7 +894,7 @@ util::Result<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, Coin\r\n \r\n \r\n         // General \"Insufficient Funds\"\r\n-        return util::Result<SelectionResult>(util::Error());\r\n+        return util::Error{};\r\n     }\r\n }\r\n \r\n\r\n```\r\n</details>\r\n",
      "commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "created_at" : "2024-04-19T16:34:09Z",
      "diff_hunk" : "@@ -866,7 +866,7 @@ util::Result<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, Coin\n         if (CAmount total_amount = available_coins.GetTotalAmount() - total_discarded < value_to_select) {\n             // Special case, too-long-mempool cluster.\n             if (total_amount + total_unconf_long_chain > value_to_select) {\n-                return util::Result<SelectionResult>({_(\"Unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool\")});\n+                return util::Error{_(\"Unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool\")};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572639146",
      "id" : 1572639146,
      "line" : 869,
      "node_id" : "PRRC_kwDOABII585dvJGq",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 869,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : 67,
      "pull_request_review_id" : 2011883406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572639146/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-19T17:03:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572639146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572648440"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572648440"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`Update` is a bit of an ambiguous name imo, it doesn't clearly indicate if it means replacing or merging into the existing result. I think for this commit, where we can only overwrite the existing result, I think `Replace` would be better. For the next commits in #25665 where we actually add the merging functionality, I think `Merge` or `Combine` would be a better choice.",
      "commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "created_at" : "2024-04-19T16:43:58Z",
      "diff_hunk" : "@@ -75,6 +85,9 @@ class Result\n     const T& operator*() const LIFETIMEBOUND { return value(); }\n     T* operator->() LIFETIMEBOUND { return &value(); }\n     T& operator*() LIFETIMEBOUND { return value(); }\n+\n+    //! Update this result by moving from another result object.\n+    Result& Update(Result&& other) LIFETIMEBOUND { return *this = std::move(other); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572648440",
      "id" : 1572648440,
      "line" : 90,
      "node_id" : "PRRC_kwDOABII585dvLX4",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 90,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 30,
      "pull_request_review_id" : 2011883406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572648440/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-19T17:03:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572648440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817364"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572648440\r\n\r\n> `Update` is a bit of an ambiguous name imo, it doesn't clearly indicate if it means replacing or merging into the existing result. I think for this commit, where we can only overwrite the existing result, I think `Replace` would be better. For the next commits in #25665 where we actually add the merging functionality, I think `Merge` or `Combine` would be a better choice.\r\n\r\nWe could definitely have a `Replace` method in the future. The only reason I didn't add one now is that so far after updating a lot of code to use the `Result` class in PR's #29700 and #25722, I haven't seen uses for a `Replace` method. If you think having a `Replace()` method would good to add here for a future use-case, or for the sake of completeness, I'd be happy to add it. However, I don't think any changed lines here should be calling `Replace()` because they are just trying to update result values, not reset and replace the entire result object.\r\n\r\nI did originally consider calling this method `Merge` instead of `Update` but I liked `Update` better for 2 reasons. First, I liked consistency with python's [`dict.update`](\r\nhttps://docs.python.org/3/library/stdtypes.html#dict.update) method which takes fields from two different dict objects and combines them, just like this `Update` function does. Second, I think the name `Merge` would be misleading in the majority of cases where individual values are _not_ merged, only different fields are combined, and new field values overwrite old values. [^1]\r\n\r\n[^1]: It is true that with [#25722](https://github.com/bitcoin/bitcoin/pull/25722), you can go out of your way to pass a custom type to `util::Result` and specialize `ResultTraits` so field values are merged when Update() is called. I haven't seen cases where this is useful for success types, only for some failure types where multiple things can fail and you want to return information about all the failures. I think name `Update` is generic enough to cover atypical cases where values are merged without implying that values are merged typically.\r\n\r\nYour suggestion `Combine` could also work instead of `Update` but I think is less clear syntactically. For example, I think `a.Update(b)` maps pretty well to \"update object `a` with contents of object `b`\", but it's less obvious what `a.Combine(b)` would be supposed to do.\r\n",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-19T19:11:30Z",
      "diff_hunk" : "@@ -75,6 +85,9 @@ class Result\n     const T& operator*() const LIFETIMEBOUND { return value(); }\n     T* operator->() LIFETIMEBOUND { return &value(); }\n     T& operator*() LIFETIMEBOUND { return value(); }\n+\n+    //! Update this result by moving from another result object.\n+    Result& Update(Result&& other) LIFETIMEBOUND { return *this = std::move(other); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817364",
      "id" : 1572817364,
      "in_reply_to_id" : 1572648440,
      "line" : 93,
      "node_id" : "PRRC_kwDOABII585dv0nU",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 93,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/util/result.h",
      "position" : 33,
      "pull_request_review_id" : 2012191090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-24T15:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817468"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817468"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572639146\r\n\r\n> nit: nice, but maybe best to clean up all 3 instances in one go?\r\n\r\nThanks! Applied patch",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-19T19:11:38Z",
      "diff_hunk" : "@@ -866,7 +866,7 @@ util::Result<SelectionResult> AutomaticCoinSelection(const CWallet& wallet, Coin\n         if (CAmount total_amount = available_coins.GetTotalAmount() - total_discarded < value_to_select) {\n             // Special case, too-long-mempool cluster.\n             if (total_amount + total_unconf_long_chain > value_to_select) {\n-                return util::Result<SelectionResult>({_(\"Unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool\")});\n+                return util::Error{_(\"Unconfirmed UTXOs are available, but spending them creates a chain of transactions that will be rejected by the mempool\")};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817468",
      "id" : 1572817468,
      "in_reply_to_id" : 1572639146,
      "line" : 869,
      "node_id" : "PRRC_kwDOABII585dv0o8",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 869,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "src/wallet/spend.cpp",
      "position" : 67,
      "pull_request_review_id" : 2012191090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817468/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-24T15:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817468",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817536"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817536"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572632242\r\n\r\n> nit: Any reason not to just wrap the args in `std::move`? Seems like the more intuitive approach, and probably slightly more performant?\r\n\r\nAgreed that's much better. Applied suggestion.",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-19T19:11:44Z",
      "diff_hunk" : "@@ -291,7 +291,10 @@ FUZZ_TARGET(coinselection)\n     }\n \n     std::vector<COutput> utxos;\n-    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    std::vector<util::Result<SelectionResult>> results;\n+    results.emplace_back(std::move(result_srd));\n+    results.emplace_back(std::move(result_knapsack));\n+    results.emplace_back(std::move(result_bnb));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572817536",
      "id" : 1572817536,
      "in_reply_to_id" : 1572632242,
      "line" : 297,
      "node_id" : "PRRC_kwDOABII585dv0qA",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 297,
      "original_position" : 8,
      "original_start_line" : 294,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 2012191090,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817536/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 294,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-24T15:52:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1572817536",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1578217883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1578217883"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: [#29906 (comment)](https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1572632242)\r\n\r\n> nit: Any reason not to just wrap the args in `std::move`? Seems like the more intuitive approach, and probably slightly more performant?\r\n\r\nActually this turns out not to work because `std::initializer_list` list [does not work](https://old.reddit.com/r/cpp/comments/7a1o7f/why_does_stdinitializer_list_prevents_using/) with move-only types. So unfortunately vector initialization needs to be a little more verbose. I updated the PR now to disable the `util::Result` move constructor to catch this and any related problems.",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-24T16:48:06Z",
      "diff_hunk" : "@@ -291,7 +291,10 @@ FUZZ_TARGET(coinselection)\n     }\n \n     std::vector<COutput> utxos;\n-    std::vector<util::Result<SelectionResult>> results{result_srd, result_knapsack, result_bnb};\n+    std::vector<util::Result<SelectionResult>> results;\n+    results.emplace_back(std::move(result_srd));\n+    results.emplace_back(std::move(result_knapsack));\n+    results.emplace_back(std::move(result_bnb));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1578217883",
      "id" : 1578217883,
      "in_reply_to_id" : 1572632242,
      "line" : 297,
      "node_id" : "PRRC_kwDOABII585eEbGb",
      "original_commit_id" : "974b16b2580f4f09c8936fbead96fdbee637cb14",
      "original_line" : 297,
      "original_position" : 8,
      "original_start_line" : 294,
      "path" : "src/wallet/test/fuzz/coinselection.cpp",
      "position" : 8,
      "pull_request_review_id" : 2020422224,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1578217883/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 294,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-24T19:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1578217883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579447042"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579447042"
         }
      },
      "author_association" : "MEMBER",
      "body" : "q: why uppercase? Do you wanted to differentiate own functions vs standard ones?",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-25T13:11:27Z",
      "diff_hunk" : "@@ -75,6 +85,9 @@ class Result\n     const T& operator*() const LIFETIMEBOUND { return value(); }\n     T* operator->() LIFETIMEBOUND { return &value(); }\n     T& operator*() LIFETIMEBOUND { return value(); }\n+\n+    //! Update this result by moving from another result object.\n+    Result& Update(Result&& other) LIFETIMEBOUND { return *this = std::move(other); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579447042",
      "id" : 1579447042,
      "line" : 93,
      "node_id" : "PRRC_kwDOABII585eJHMC",
      "original_commit_id" : "d293d0ba521b6c37595571f28eb19106c8444065",
      "original_line" : 90,
      "original_position" : 30,
      "original_start_line" : 89,
      "path" : "src/util/result.h",
      "position" : 33,
      "pull_request_review_id" : 2022455655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579447042/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 92,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-25T14:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579447042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579500335"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579500335"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not for this PR but.. we could remove this `Update` call pretty easily (e8a330584571bf0270c692676a57ebcf7d7c7697). We are calling `getNewDestination` twice only to verify if the wallet is locked or not.",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-25T13:44:36Z",
      "diff_hunk" : "@@ -377,7 +377,7 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n                 editStatus = WALLET_UNLOCK_FAILURE;\n                 return QString();\n             }\n-            op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+            op_dest.Update(walletModel->wallet().getNewDestination(address_type, strLabel));\n             if (!op_dest) {\n                 editStatus = KEY_GENERATION_FAILURE;\n                 return QString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579500335",
      "id" : 1579500335,
      "line" : 383,
      "node_id" : "PRRC_kwDOABII585eJUMv",
      "original_commit_id" : "d293d0ba521b6c37595571f28eb19106c8444065",
      "original_line" : 383,
      "original_position" : 8,
      "original_start_line" : 380,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : 8,
      "pull_request_review_id" : 2022455655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579500335/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 380,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-25T14:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579500335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579632793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579632793"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579500335\r\n\r\nIt seems like the goal of the code is to get a new address without unlocking. But I haven't looked into this. It definitely looks a little clumsy, though, because it isn't actually using the error message that is returned.",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-25T14:54:20Z",
      "diff_hunk" : "@@ -377,7 +377,7 @@ QString AddressTableModel::addRow(const QString &type, const QString &label, con\n                 editStatus = WALLET_UNLOCK_FAILURE;\n                 return QString();\n             }\n-            op_dest = walletModel->wallet().getNewDestination(address_type, strLabel);\n+            op_dest.Update(walletModel->wallet().getNewDestination(address_type, strLabel));\n             if (!op_dest) {\n                 editStatus = KEY_GENERATION_FAILURE;\n                 return QString();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579632793",
      "id" : 1579632793,
      "in_reply_to_id" : 1579500335,
      "line" : 383,
      "node_id" : "PRRC_kwDOABII585eJ0iZ",
      "original_commit_id" : "d293d0ba521b6c37595571f28eb19106c8444065",
      "original_line" : 383,
      "original_position" : 8,
      "original_start_line" : 380,
      "path" : "src/qt/addresstablemodel.cpp",
      "position" : 8,
      "pull_request_review_id" : 2022770502,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579632793/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 380,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-25T15:04:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579632793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579633610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579633610"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579447042\r\n\r\nPersonally I think using lowercase for instance methods and uppercase for other methods and functions is good practice because it makes it obvious when you are passing an implicit `this` parameter to function calls. (It is useful for the same reason `m_` prefixes are useful.) However, I got pushback when I tried to allow this in the style guide in #14635 so now I usually try to follow the guide.",
      "commit_id" : "66022315641934bda301d61f009dae9cb3b45da0",
      "created_at" : "2024-04-25T14:54:38Z",
      "diff_hunk" : "@@ -75,6 +85,9 @@ class Result\n     const T& operator*() const LIFETIMEBOUND { return value(); }\n     T* operator->() LIFETIMEBOUND { return &value(); }\n     T& operator*() LIFETIMEBOUND { return value(); }\n+\n+    //! Update this result by moving from another result object.\n+    Result& Update(Result&& other) LIFETIMEBOUND { return *this = std::move(other); }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29906#discussion_r1579633610",
      "id" : 1579633610,
      "in_reply_to_id" : 1579447042,
      "line" : 93,
      "node_id" : "PRRC_kwDOABII585eJ0vK",
      "original_commit_id" : "d293d0ba521b6c37595571f28eb19106c8444065",
      "original_line" : 90,
      "original_position" : 30,
      "original_start_line" : 89,
      "path" : "src/util/result.h",
      "position" : 33,
      "pull_request_review_id" : 2022770502,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29906",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579633610/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 92,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-04-25T15:04:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579633610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   }
]
