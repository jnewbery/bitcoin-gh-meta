[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29997).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/29997#pullrequestreview-2031418230) |\n| Concept ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/29997#issuecomment-2085258103) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25722](https://github.com/bitcoin/bitcoin/pull/25722) (refactor: Use util::Result class for wallet loading by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-04-29T15:36:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#issuecomment-2083057630",
      "id" : 2083057630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29997",
      "node_id" : "IC_kwDOABII5858KO_e",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2083057630/reactions"
      },
      "updated_at" : "2024-04-30T13:46:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2083057630",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2024-04-30T12:57:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#issuecomment-2085258103",
      "id" : 2085258103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29997",
      "node_id" : "IC_kwDOABII5858SoN3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2085258103/reactions"
      },
      "updated_at" : "2024-04-30T12:57:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2085258103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584855621"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584855621"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"rpc: Remove index-based Arg accessor\" (fadb3eb57b4d207a678067b89caa45abf1f93702)\r\n\r\nShould s/check_positional/check_named/",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-04-30T13:45:45Z",
      "diff_hunk" : "@@ -614,40 +614,26 @@ BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n \n     //! Check that `self.Arg` returns the same value as the `request.params` accessors\n     RPCHelpMan::RPCMethodImpl check_positional = [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584855621",
      "id" : 1584855621,
      "line" : 616,
      "node_id" : "PRRC_kwDOABII585edvpF",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 616,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 2031418230,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584855621/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-30T13:45:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584855621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584862055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584862055"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this means the positional `request.params` accessor, so this is better to leave as-is, no? ",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-04-30T13:47:44Z",
      "diff_hunk" : "@@ -614,40 +614,26 @@ BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n \n     //! Check that `self.Arg` returns the same value as the `request.params` accessors\n     RPCHelpMan::RPCMethodImpl check_positional = [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584862055",
      "id" : 1584862055,
      "in_reply_to_id" : 1584855621,
      "line" : 616,
      "node_id" : "PRRC_kwDOABII585edxNn",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 616,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 2031430191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584862055/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-30T13:47:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584862055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584900889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584900889"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think this means the positional `request.params` accessor, so this is better to leave as-is, no?\r\n\r\nI think this was called `check_positional` because it was calling the `Arg(size_t)` function and the the check below was called `check_named` because it was calling the `Arg(string_view)` function. So now that the check below is deleted and this now calling `Arg(string_view)`, it would make more sense to call this `check_named` than `check_positional`.\r\n\r\nBut the point of this is really to call the Arg method, so maybe a name like `check_args` would be better than either.",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-04-30T14:11:01Z",
      "diff_hunk" : "@@ -614,40 +614,26 @@ BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n \n     //! Check that `self.Arg` returns the same value as the `request.params` accessors\n     RPCHelpMan::RPCMethodImpl check_positional = [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584900889",
      "id" : 1584900889,
      "in_reply_to_id" : 1584855621,
      "line" : 616,
      "node_id" : "PRRC_kwDOABII585ed6sZ",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 616,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 2031495948,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584900889/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-30T14:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584900889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584915042"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584915042"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think this was called `check_positional` because ... \r\n\r\nIndeed, that was the rationale.\r\n\r\n> so maybe a name like `check_args`\r\n\r\nor `check_equivalence`? (no big deal either way ofc)",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-04-30T14:19:50Z",
      "diff_hunk" : "@@ -614,40 +614,26 @@ BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n \n     //! Check that `self.Arg` returns the same value as the `request.params` accessors\n     RPCHelpMan::RPCMethodImpl check_positional = [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584915042",
      "id" : 1584915042,
      "in_reply_to_id" : 1584855621,
      "line" : 616,
      "node_id" : "PRRC_kwDOABII585ed-Ji",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 616,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 2031519782,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584915042/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-30T14:19:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584915042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584932568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584932568"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am happy to review a follow-up, if there is a better name. But I think the current name is perfectly fine and accurate.\r\n\r\nIn any case, if the legacy code is removed, the test will go away as well.",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-04-30T14:30:57Z",
      "diff_hunk" : "@@ -614,40 +614,26 @@ BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n \n     //! Check that `self.Arg` returns the same value as the `request.params` accessors\n     RPCHelpMan::RPCMethodImpl check_positional = [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1584932568",
      "id" : 1584932568,
      "in_reply_to_id" : 1584855621,
      "line" : 616,
      "node_id" : "PRRC_kwDOABII585eeCbY",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 616,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 2031552126,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584932568/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-30T14:30:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584932568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1595387427"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595387427"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: this is just the brief, so this line should be removed/merged imo (+ for MaybeArg)",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-05-09T12:35:35Z",
      "diff_hunk" : "@@ -414,9 +414,7 @@ class RPCHelpMan\n      * argument isNull() and parses (from JSON) and returns the user-passed argument,\n      * or the default value derived from the RPCArg documentation.\n      *\n-     * There are two overloads of this function:\n-     * - Use Arg<Type>(size_t i) to get the argument (or the default value) by index.\n-     * - Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.\n+     * Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1595387427",
      "id" : 1595387427,
      "line" : 417,
      "node_id" : "PRRC_kwDOABII585fF64j",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 417,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 7,
      "pull_request_review_id" : 2047854683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595387427/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-09T12:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595387427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1595388346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595388346"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: there's still a remaining reference to `Arg<Type>(i)` in `CheckRequiredOrDefault`:\r\n\r\n<details>\r\n<summary>git diff on fadb3eb57b</summary>\r\n\r\n```diff\r\ndiff --git a/src/rpc/util.cpp b/src/rpc/util.cpp\r\nindex f683878054..d4079d9f37 100644\r\n--- a/src/rpc/util.cpp\r\n+++ b/src/rpc/util.cpp\r\n@@ -673,7 +673,7 @@ static const UniValue* DetailMaybeArg(CheckFn* check, const std::vector<RPCArg>&\r\n \r\n static void CheckRequiredOrDefault(const RPCArg& param)\r\n {\r\n-    // Must use `Arg<Type>(i)` to get the argument or its default value.\r\n+    // Must use `Arg<Type>` to get the argument or its default value.\r\n     const bool required{\r\n         std::holds_alternative<RPCArg::Optional>(param.m_fallback) && RPCArg::Optional::NO == std::get<RPCArg::Optional>(param.m_fallback),\r\n     };\r\n\r\n```\r\n</details>\r\n",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-05-09T12:36:14Z",
      "diff_hunk" : "@@ -425,8 +423,9 @@ class RPCHelpMan\n      * @see MaybeArg for handling optional arguments without default values.\n      */\n     template <typename R>\n-    auto Arg(size_t i) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1595388346",
      "id" : 1595388346,
      "line" : 428,
      "node_id" : "PRRC_kwDOABII585fF7G6",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 428,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 15,
      "pull_request_review_id" : 2047854683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595388346/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-09T12:36:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1595388346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1598381548"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598381548"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure what you mean. This sentence introduces the `Type`, which is referred to in the next sentence, so I don't think it can be removed.\r\n\r\nMaybe you can share a diff?",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-05-13T12:22:42Z",
      "diff_hunk" : "@@ -414,9 +414,7 @@ class RPCHelpMan\n      * argument isNull() and parses (from JSON) and returns the user-passed argument,\n      * or the default value derived from the RPCArg documentation.\n      *\n-     * There are two overloads of this function:\n-     * - Use Arg<Type>(size_t i) to get the argument (or the default value) by index.\n-     * - Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.\n+     * Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1598381548",
      "id" : 1598381548,
      "in_reply_to_id" : 1595387427,
      "line" : 417,
      "node_id" : "PRRC_kwDOABII585fRV3s",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 417,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 7,
      "pull_request_review_id" : 2052542565,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598381548/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-13T12:22:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598381548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1598417298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598417298"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah good point, I hadn't considered that the `Type` alias is introduced here. I think a preferable approach to me is to use the actual `typename` instead of aliasing it, such as in this diff. Optionally, I'd also be supportive of renaming `R` to something more descriptive such as `ReturnType`, but even with just `R` I think this is more clear:\r\n\r\n<details>\r\n<summary>git diff on fadb3eb57b</summary>\r\n\r\n```diff\r\ndiff --git a/src/rpc/util.h b/src/rpc/util.h\r\nindex 9ba7fcf5e6..8fc598b873 100644\r\n--- a/src/rpc/util.h\r\n+++ b/src/rpc/util.h\r\n@@ -414,11 +414,9 @@ public:\r\n      * argument isNull() and parses (from JSON) and returns the user-passed argument,\r\n      * or the default value derived from the RPCArg documentation.\r\n      *\r\n-     * Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.\r\n+     * The instantiation of this helper for type R must match the corresponding RPCArg::Type.\r\n      *\r\n-     * The Type passed to this helper must match the corresponding RPCArg::Type.\r\n-     *\r\n-     * @return The value of the RPC argument (or the default value) cast to type Type.\r\n+     * @return The value of the RPC argument (or the default value) cast to type R.\r\n      *\r\n      * @see MaybeArg for handling optional arguments without default values.\r\n      */\r\n@@ -446,12 +444,10 @@ public:\r\n      * argument isNull() and parses (from JSON) and returns the user-passed argument,\r\n      * or a falsy value if no argument was passed.\r\n      *\r\n-     * Use MaybeArg<Type>(const std::string& key) to get the optional argument by key.\r\n-     *\r\n-     * The Type passed to this helper must match the corresponding RPCArg::Type.\r\n+     * The instantiation of this helper for type R must match the corresponding RPCArg::Type.\r\n      *\r\n-     * @return For integral and floating-point types, a std::optional<Type> is returned.\r\n-     *         For other types, a Type* pointer to the argument is returned. If the\r\n+     * @return For integral and floating-point types, a std::optional<R> is returned.\r\n+     *         For other types, a R* pointer to the argument is returned. If the\r\n      *         argument is not provided, std::nullopt or a null pointer is returned.\r\n      *\r\n      * @see Arg for handling arguments that are required or have a default value.\r\n\r\n```\r\n</details>",
      "commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "created_at" : "2024-05-13T12:45:22Z",
      "diff_hunk" : "@@ -414,9 +414,7 @@ class RPCHelpMan\n      * argument isNull() and parses (from JSON) and returns the user-passed argument,\n      * or the default value derived from the RPCArg documentation.\n      *\n-     * There are two overloads of this function:\n-     * - Use Arg<Type>(size_t i) to get the argument (or the default value) by index.\n-     * - Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.\n+     * Use Arg<Type>(const std::string& key) to get the argument (or the default value) by key.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29997#discussion_r1598417298",
      "id" : 1598417298,
      "in_reply_to_id" : 1595387427,
      "line" : 417,
      "node_id" : "PRRC_kwDOABII585fRemS",
      "original_commit_id" : "fadb3eb57b4d207a678067b89caa45abf1f93702",
      "original_line" : 417,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 7,
      "pull_request_review_id" : 2052596999,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29997",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598417298/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-13T12:45:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598417298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   }
]
