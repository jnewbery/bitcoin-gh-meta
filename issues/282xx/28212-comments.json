[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283470743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743"
         }
      },
      "author_association" : "NONE",
      "body" : "won't this pass if no exception is raised?\r\nShouldn't we add something like either:\r\n```Python\r\ntry:\r\n    self.do_test_k_of_n(1, 1000)\r\n    assert False, \"Expected exception was not raised for 1-of-1000 test\"\r\nexcept JSONRPCException as e:\r\n```\r\n\r\nor via unittest:\r\n```Python\r\nwith self.assertRaises(JSONRPCException) as cm:\r\n    self.do_test_k_of_n(1, 1000)\r\nself.assertEqual(cm.exception.error[\"code\"], -5)\r\nself.assertIn(\"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", cm.exception.error[\"message\"])\r\n```\r\n?",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T16:49:57Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283470743",
      "id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgDWX",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561501885,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T16:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283479802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for pointing this out ð  I agree it shouldn't be possible for this test to succeed so an exception should be raised.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T16:58:04Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283479802",
      "id" : 1283479802,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgFj6",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561514421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T16:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283587279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`assert_raises_rpc_error` is probably what you want",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:44:26Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283587279",
      "id" : 1283587279,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgfzP",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561669634,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283597304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@paplorinc I like the second approach, it seems a bit cleaner and clearer to me. However, it doesn't seem to be used in other functional tests so maybe the first approach is better to be more consistent?",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:54:02Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283597304",
      "id" : 1283597304,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgiP4",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561683594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:54:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283599461"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@instagibbs Thanks! I was looking at that option too, however I couldn't see a way to use it in this context without having to change a lot of the code, but maybe I'm missing something obvious? ð¤ ",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:56:15Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283599461",
      "id" : 1283599461,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585Mgixl",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561686650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283672181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "if something should raise an error and a specific code/message, you use `assert_raises_rpc_error`. Just take a look on how it's used elsewhere? ",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T20:13:35Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283672181",
      "id" : 1283672181,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585Mg0h1",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561792862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T20:13:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283740534"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534"
         }
      },
      "author_association" : "NONE",
      "body" : "```Python\r\n# Test that 1-of-1000 and 999-of-1000 raise exception\r\nfor k in [1, 999]:\r\n    assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)\r\n```\r\n\r\nor maybe even:\r\n```Python\r\nfor k in [0, 1, 999, 1000]:\r\n```\r\nif that makes sense.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T21:31:41Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283740534",
      "id" : 1283740534,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MhFN2",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561889365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T21:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283998840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I much appreciate the input @paplorinc, this was the syntax I was looking for ð  I saw the first version of your message and immediately thought about doing the other part ([0, 1, 999, 1000]). You read my mind, this makes very much sense! ~Also, doing [1, 999] would be quite time consuming because each run lasts about a second so in total it would need 1000 seconds to complete.~ Nvm, I was thinking about testing the whole range when in fact it's just two tests. I'll update the PR to support the version with four tests.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-04T05:35:42Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283998840",
      "id" : 1283998840,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MiER4",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1562200273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T05:47:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284003587"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Given my basic understanding of output descriptors, I'd much appreciate your thoughts on this block of code, to make sure it meets the issue criterias and if this is a good way to test it.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-04T05:45:02Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284003587",
      "id" : 1284003587,
      "line" : 391,
      "node_id" : "PRRC_kwDOABII585MiFcD",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 30,
      "pull_request_review_id" : 1562207405,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T05:45:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284067105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105"
         }
      },
      "author_association" : "NONE",
      "body" : "isn't it weird that the error message states \"Cannot have 1000 keys\" and k is ignored?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7edce77ff3725f8650bb1ae6b45b1cee100db280/src/script/descriptor.cpp#L1381\r\n\r\nBased on the error the k doesn't even matter (it fails for 500 as well), so is it even important to test multiple k values here?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T07:12:47Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284067105",
      "id" : 1284067105,
      "line" : 519,
      "node_id" : "PRRC_kwDOABII585MiU8h",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 57,
      "pull_request_review_id" : 1562306833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T07:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284204363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe keep it simple and just test 1 of 1000.\r\n\r\nIn that case I also don't think you need the k_of_n helper function.",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:31:49Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284204363",
      "id" : 1284204363,
      "in_reply_to_id" : 1284067105,
      "line" : 519,
      "node_id" : "PRRC_kwDOABII585Mi2dL",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 57,
      "pull_request_review_id" : 1562521995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284205838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you changing the fee rate?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:33:26Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284205838",
      "id" : 1284205838,
      "line" : 307,
      "node_id" : "PRRC_kwDOABII585Mi20O",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 20,
      "pull_request_review_id" : 1562524419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:33:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284212036"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I understand descriptors, but Python less well :-) What is this function trying to do?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:40:04Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284212036",
      "id" : 1284212036,
      "in_reply_to_id" : 1284003587,
      "line" : 394,
      "node_id" : "PRRC_kwDOABII585Mi4VE",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 37,
      "pull_request_review_id" : 1562534441,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:40:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284233075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If I didn't bump the fee rate I would run into the two error codes mentioned in the PR message:\r\n```\r\nHad to bump fee rate to resolve assertions in sendtoaddress and psbt methods:\r\n\r\n    code -5: assert rpc_online.gettransaction(txid)[\"confirmations\"] > 0\r\n    code -26: min relay fee not met\r\n```\r\n\r\nThe previous `fee_rate = 200` limit seems to be sufficient up until `n ~ 500`. I assume this is because the script size increases with higher numbers of `n`.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:01:04Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284233075",
      "id" : 1284233075,
      "in_reply_to_id" : 1284205838,
      "line" : 306,
      "node_id" : "PRRC_kwDOABII585Mi9dz",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 17,
      "pull_request_review_id" : 1562568719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:01:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284239102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess that would do the trick, however I'm unsure if by doing so we modify the test to test the assertion, which seems a bit incomplete/unintuitive to me, rather than testing the edge cases in k-of-N wallets? ð¤ If you understand what I mean ð If you don't think it's an issue, I'm all for keeping it simple and just test 1-of-1000.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:07:40Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284239102",
      "id" : 1284239102,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mi-7-",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562578496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:07:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284246711"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fee rate is the fee per vbyte, so the fee goes up as the script size goes up. But this may be related to #26573 ",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:16:20Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284246711",
      "id" : 1284246711,
      "in_reply_to_id" : 1284205838,
      "line" : 306,
      "node_id" : "PRRC_kwDOABII585MjAy3",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 17,
      "pull_request_review_id" : 1562590867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:16:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284249102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Well the \"edge\" here is n = 999, but this test is varying `k`, not `n`.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:19:03Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284249102",
      "id" : 1284249102,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjBYO",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562594581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:19:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284252603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's a function that allows setup and testing of any k-of-n wallet. It builds on the idea of the existing test that @darosior pointed to, which starts on L495 https://github.com/bitcoin/bitcoin/blob/64440bb733896a7a2caf902825e0406cb993e666/test/functional/wallet_taproot.py#L495 where a random number of `n` is used.\r\n\r\nThe part that differs is how the `[KEY_1,...,KEY_N]` array inside the `multi_a` is built - where the previous function uses `([H_POINT] * rnd_pos)` up until `k1` and then `([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)` after, the new function uses `k1` for the whole array of.\r\n\r\nHowever, because this previous test is not documented, I'm not entirely sure about the H_POINT parts do and if I need them in my test somehow, or if the way I've written it is enough to verify the 999-of-999 and 1-of-1000 cases.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:23:10Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284252603",
      "id" : 1284252603,
      "in_reply_to_id" : 1284003587,
      "line" : 393,
      "node_id" : "PRRC_kwDOABII585MjCO7",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 34,
      "pull_request_review_id" : 1562600048,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:23:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284253877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah you're right. I'll simplify the test to only do 1-of-1000.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:24:37Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284253877",
      "id" : 1284253877,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjCi1",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562601959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:24:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284321897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would it make sense to test the other edge, 1-of-0? ",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T11:44:21Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284321897",
      "id" : 1284321897,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjTJp",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562712487,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T11:44:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   }
]
