[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29589).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [dgpv](https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2052181600) |\n| Concept ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1991393101), [petertodd](https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1992109394) |\n| Stale ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1985902352), [vostrnad](https://github.com/bitcoin/bitcoin/pull/29589#pullrequestreview-1926192824), [itornaza](https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2052160310) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-03-07T16:47:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1983981942",
      "id" : 1983981942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852QSl2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1983981942/reactions"
      },
      "updated_at" : "2024-05-02T21:28:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1983981942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517117195"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517117195"
         }
      },
      "author_association" : "NONE",
      "body" : "```suggestion\r\n            raise ValueError('Integer must be in range -1 <= n <= 16, got %d' % n)\r\n```",
      "commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "created_at" : "2024-03-08T03:21:50Z",
      "diff_hunk" : "@@ -67,11 +67,13 @@ def encode_op_pushdata(d):\n     @staticmethod\n     def encode_op_n(n):\n         \"\"\"Encode a small integer op, returning an opcode\"\"\"\n-        if not (0 <= n <= 16):\n+        if not (-1 <= n <= 16):\n             raise ValueError('Integer must be in range 0 <= n <= 16, got %d' % n)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517117195",
      "id" : 1517117195,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585abV8L",
      "original_commit_id" : "12cdde8fb455ba4520af02fc528f07197694d297",
      "original_line" : 71,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 1923956639,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517117195/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T03:21:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517117195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43024885?v=4",
         "events_url" : "https://api.github.com/users/vostrnad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vostrnad/followers",
         "following_url" : "https://api.github.com/users/vostrnad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vostrnad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vostrnad",
         "id" : 43024885,
         "login" : "vostrnad",
         "node_id" : "MDQ6VXNlcjQzMDI0ODg1",
         "organizations_url" : "https://api.github.com/users/vostrnad/orgs",
         "received_events_url" : "https://api.github.com/users/vostrnad/received_events",
         "repos_url" : "https://api.github.com/users/vostrnad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vostrnad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vostrnad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vostrnad"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Should `decode_op_n` and `is_small_int` perhaps be fixed as well?",
      "created_at" : "2024-03-08T14:03:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1985750992",
      "id" : 1985750992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852XCfQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985750992/reactions"
      },
      "updated_at" : "2024-03-08T14:03:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985750992",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43024885?v=4",
         "events_url" : "https://api.github.com/users/vostrnad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vostrnad/followers",
         "following_url" : "https://api.github.com/users/vostrnad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vostrnad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vostrnad",
         "id" : 43024885,
         "login" : "vostrnad",
         "node_id" : "MDQ6VXNlcjQzMDI0ODg1",
         "organizations_url" : "https://api.github.com/users/vostrnad/orgs",
         "received_events_url" : "https://api.github.com/users/vostrnad/received_events",
         "repos_url" : "https://api.github.com/users/vostrnad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vostrnad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vostrnad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vostrnad"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Should `decode_op_n` and `is_small_int` perhaps be fixed as well?\r\n\r\nDone in 8bd0a8b18d68bbacee731f3e0583397f81ca078e , good catch :raised_hands: ",
      "created_at" : "2024-03-08T14:42:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1985815464",
      "id" : 1985815464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852XSOo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985815464/reactions"
      },
      "updated_at" : "2024-03-08T14:42:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985815464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "created_at" : "2024-03-08T15:32:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1985902352",
      "id" : 1985902352,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852XncQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985902352/reactions"
      },
      "updated_at" : "2024-03-08T15:32:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985902352",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517992846"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517992846"
         }
      },
      "author_association" : "NONE",
      "body" : "nit\r\n```suggestion\r\n        elif n == -1:\r\n```",
      "commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "created_at" : "2024-03-08T16:59:33Z",
      "diff_hunk" : "@@ -67,18 +67,22 @@ def encode_op_pushdata(d):\n     @staticmethod\n     def encode_op_n(n):\n         \"\"\"Encode a small integer op, returning an opcode\"\"\"\n-        if not (0 <= n <= 16):\n-            raise ValueError('Integer must be in range 0 <= n <= 16, got %d' % n)\n+        if not (-1 <= n <= 16):\n+            raise ValueError('Integer must be in range -1 <= n <= 16, got %d' % n)\n \n         if n == 0:\n             return OP_0\n+        if n == -1:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517992846",
      "id" : 1517992846,
      "line" : 75,
      "node_id" : "PRRC_kwDOABII585aeruO",
      "original_commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "original_line" : 75,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : 11,
      "pull_request_review_id" : 1925343940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517992846/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T16:59:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517992846",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43024885?v=4",
         "events_url" : "https://api.github.com/users/vostrnad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vostrnad/followers",
         "following_url" : "https://api.github.com/users/vostrnad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vostrnad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vostrnad",
         "id" : 43024885,
         "login" : "vostrnad",
         "node_id" : "MDQ6VXNlcjQzMDI0ODg1",
         "organizations_url" : "https://api.github.com/users/vostrnad/orgs",
         "received_events_url" : "https://api.github.com/users/vostrnad/received_events",
         "repos_url" : "https://api.github.com/users/vostrnad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vostrnad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vostrnad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vostrnad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517993114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993114"
         }
      },
      "author_association" : "NONE",
      "body" : "Checking `OP_0` is unnecessary here, but now that it's not checking `OP_1NEGATE` it's inconsistently unnecessary. How about using `is_small_int` to avoid code duplication?\r\n\r\n```python\r\ndef decode_op_n(self):\r\n    \"\"\"Decode a small integer opcode, returning an integer\"\"\"\r\n    if not self.is_small_int():\r\n        raise ValueError('op %r is not an OP_N' % self)\r\n\r\n    if self == OP_0:\r\n        return 0\r\n    elif self == OP_1NEGATE:\r\n        return -1\r\n    else:\r\n        return int(self - OP_1 + 1)\r\n```",
      "commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "created_at" : "2024-03-08T16:59:40Z",
      "diff_hunk" : "@@ -67,18 +67,22 @@ def encode_op_pushdata(d):\n     @staticmethod\n     def encode_op_n(n):\n         \"\"\"Encode a small integer op, returning an opcode\"\"\"\n-        if not (0 <= n <= 16):\n-            raise ValueError('Integer must be in range 0 <= n <= 16, got %d' % n)\n+        if not (-1 <= n <= 16):\n+            raise ValueError('Integer must be in range -1 <= n <= 16, got %d' % n)\n \n         if n == 0:\n             return OP_0\n+        if n == -1:\n+            return OP_1NEGATE\n         else:\n             return CScriptOp(OP_1 + n - 1)\n \n     def decode_op_n(self):\n         \"\"\"Decode a small integer opcode, returning an integer\"\"\"\n         if self == OP_0:\n             return 0\n+        if self == OP_1NEGATE:\n+            return -1\n \n         if not (self == OP_0 or OP_1 <= self <= OP_16):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517993114",
      "id" : 1517993114,
      "line" : 87,
      "node_id" : "PRRC_kwDOABII585aerya",
      "original_commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "original_line" : 87,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : 23,
      "pull_request_review_id" : 1925343940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993114/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T16:59:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43024885?v=4",
         "events_url" : "https://api.github.com/users/vostrnad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vostrnad/followers",
         "following_url" : "https://api.github.com/users/vostrnad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vostrnad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vostrnad",
         "id" : 43024885,
         "login" : "vostrnad",
         "node_id" : "MDQ6VXNlcjQzMDI0ODg1",
         "organizations_url" : "https://api.github.com/users/vostrnad/orgs",
         "received_events_url" : "https://api.github.com/users/vostrnad/received_events",
         "repos_url" : "https://api.github.com/users/vostrnad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vostrnad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vostrnad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vostrnad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517993281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993281"
         }
      },
      "author_association" : "NONE",
      "body" : "`self` is never -1, the check should be for `0x4f`. Maybe we could rewrite this using named opcodes instead of bytes:\r\n```suggestion\r\n        if self == OP_0 or OP_1 <= self <= OP_16 or self == OP_1NEGATE:\r\n```",
      "commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "created_at" : "2024-03-08T16:59:44Z",
      "diff_hunk" : "@@ -87,7 +91,7 @@ def decode_op_n(self):\n \n     def is_small_int(self):\n         \"\"\"Return true if the op pushes a small integer to the stack\"\"\"\n-        if 0x51 <= self <= 0x60 or self == 0:\n+        if 0x51 <= self <= 0x60 or self == 0 or self == -1:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1517993281",
      "id" : 1517993281,
      "line" : 94,
      "node_id" : "PRRC_kwDOABII585aer1B",
      "original_commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "original_line" : 94,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : 30,
      "pull_request_review_id" : 1925343940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993281/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T16:59:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1517993281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43024885?v=4",
         "events_url" : "https://api.github.com/users/vostrnad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vostrnad/followers",
         "following_url" : "https://api.github.com/users/vostrnad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vostrnad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vostrnad",
         "id" : 43024885,
         "login" : "vostrnad",
         "node_id" : "MDQ6VXNlcjQzMDI0ODg1",
         "organizations_url" : "https://api.github.com/users/vostrnad/orgs",
         "received_events_url" : "https://api.github.com/users/vostrnad/received_events",
         "repos_url" : "https://api.github.com/users/vostrnad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vostrnad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vostrnad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vostrnad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1518260113"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260113"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in 6cf08dd2d532766f1b7063f40e7ab25f8ee67e45",
      "commit_id" : "0abf50a71b0439ee7f4e94c548b29d726c58477a",
      "created_at" : "2024-03-08T20:28:06Z",
      "diff_hunk" : "@@ -67,18 +67,22 @@ def encode_op_pushdata(d):\n     @staticmethod\n     def encode_op_n(n):\n         \"\"\"Encode a small integer op, returning an opcode\"\"\"\n-        if not (0 <= n <= 16):\n-            raise ValueError('Integer must be in range 0 <= n <= 16, got %d' % n)\n+        if not (-1 <= n <= 16):\n+            raise ValueError('Integer must be in range -1 <= n <= 16, got %d' % n)\n \n         if n == 0:\n             return OP_0\n+        if n == -1:\n+            return OP_1NEGATE\n         else:\n             return CScriptOp(OP_1 + n - 1)\n \n     def decode_op_n(self):\n         \"\"\"Decode a small integer opcode, returning an integer\"\"\"\n         if self == OP_0:\n             return 0\n+        if self == OP_1NEGATE:\n+            return -1\n \n         if not (self == OP_0 or OP_1 <= self <= OP_16):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1518260113",
      "id" : 1518260113,
      "in_reply_to_id" : 1517993114,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585afs-R",
      "original_commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "original_line" : 87,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 1925784658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260113/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T20:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260113",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1518260334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260334"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done in 6cf08dd2d532766f1b7063f40e7ab25f8ee67e45",
      "commit_id" : "0abf50a71b0439ee7f4e94c548b29d726c58477a",
      "created_at" : "2024-03-08T20:28:25Z",
      "diff_hunk" : "@@ -87,7 +91,7 @@ def decode_op_n(self):\n \n     def is_small_int(self):\n         \"\"\"Return true if the op pushes a small integer to the stack\"\"\"\n-        if 0x51 <= self <= 0x60 or self == 0:\n+        if 0x51 <= self <= 0x60 or self == 0 or self == -1:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1518260334",
      "id" : 1518260334,
      "in_reply_to_id" : 1517993281,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585aftBu",
      "original_commit_id" : "8bd0a8b18d68bbacee731f3e0583397f81ca078e",
      "original_line" : 94,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/script.py",
      "position" : null,
      "pull_request_review_id" : 1925785045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260334/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-08T20:28:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1518260334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the code review @vostrnad , I took your changes and added them to this PR. I also cherry-picked them and tested them on [64bit-cscriptnum](https://github.com/Christewart/bitcoin/tree/64bit-arith-cscriptnum) and everything âï¸ ",
      "created_at" : "2024-03-08T20:29:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1986373610",
      "id" : 1986373610,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852Zafq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986373610/reactions"
      },
      "updated_at" : "2024-03-09T12:26:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986373610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nNow that `encode_op_n` handles also -1, the following call-site in `CScript.__coerce_instance` can be simplified:\r\nhttps://github.com/bitcoin/bitcoin/blob/31be1a47675e4449f856e61beb2b4bfc228ea219/test/functional/test_framework/script.py#L446-L450",
      "created_at" : "2024-03-12T11:07:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1991393101",
      "id" : 1991393101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852sj9N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991393101/reactions"
      },
      "updated_at" : "2024-03-12T11:07:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991393101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nI'm proposing this for python-bitcoinlib too, which is where all this code comes from originally: https://github.com/petertodd/python-bitcoinlib/pull/299",
      "created_at" : "2024-03-12T16:46:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1992109394",
      "id" : 1992109394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852vS1S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992109394/reactions"
      },
      "updated_at" : "2024-03-12T16:46:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992109394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Concept ACK\r\n> \r\n> Now that `encode_op_n` handles also -1, the following call-site in `CScript.__coerce_instance` can be simplified:\r\n> \r\n> https://github.com/bitcoin/bitcoin/blob/31be1a47675e4449f856e61beb2b4bfc228ea219/test/functional/test_framework/script.py#L446-L450\r\n\r\nDone in f0c077a388b980566590d7887d8c6dd97cbaa20a",
      "created_at" : "2024-03-12T20:00:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1992467383",
      "id" : 1992467383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5852wqO3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992467383/reactions"
      },
      "updated_at" : "2024-03-12T20:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992467383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure that it is wise to change the behavior of `decode_op_n()` and `encode_op_n()` to be different from `CScript::DecodeOP_N()` and `CScript::EncodeOP_N()`: https://github.com/bitcoin/bitcoin/blob/a85e5a7c9ab75209bc88e49be6991ba0a467034e/src/script/script.h#L506-L519\r\n\r\nHaving different behavior between code in C++ and python ~can~ **will** add confusion.\r\n\r\nI would suggest to just handle -1/OP_1NEGATE in-place where they are relevant, rather than changing the assumption 'N is from 0 to 16' as it clearly is handled this way by `EncodeOP_N`/`DecodeOP_N`. ",
      "created_at" : "2024-03-14T08:33:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1996854762",
      "id" : 1996854762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5853BZXq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1996854762/reactions"
      },
      "updated_at" : "2024-04-12T17:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1996854762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43240089?v=4",
         "events_url" : "https://api.github.com/users/dgpv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgpv/followers",
         "following_url" : "https://api.github.com/users/dgpv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgpv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgpv",
         "id" : 43240089,
         "login" : "dgpv",
         "node_id" : "MDQ6VXNlcjQzMjQwMDg5",
         "organizations_url" : "https://api.github.com/users/dgpv/orgs",
         "received_events_url" : "https://api.github.com/users/dgpv/received_events",
         "repos_url" : "https://api.github.com/users/dgpv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgpv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgpv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgpv"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "tested ACK f0c077a388b980566590d7887d8c6dd97cbaa20a\r\n\r\n- Performed a code review and everything lgtm\r\n- Configured with `--with-incompatible-bdb` and `--enable-suppress-external-warnings`\r\n- Built the PR, ran unit tests with `make check` and all tests pass\r\n- Ran all functional tests with no extra flags and all tests pass\r\n- Ran all functional tests with `--extended` and all tests pass",
      "created_at" : "2024-04-12T17:13:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2052160310",
      "id" : 2052160310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5856UXs2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2052160310/reactions"
      },
      "updated_at" : "2024-04-12T17:15:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2052160310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11520757?v=4",
         "events_url" : "https://api.github.com/users/itornaza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/itornaza/followers",
         "following_url" : "https://api.github.com/users/itornaza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/itornaza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/itornaza",
         "id" : 11520757,
         "login" : "itornaza",
         "node_id" : "MDQ6VXNlcjExNTIwNzU3",
         "organizations_url" : "https://api.github.com/users/itornaza/orgs",
         "received_events_url" : "https://api.github.com/users/itornaza/received_events",
         "repos_url" : "https://api.github.com/users/itornaza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/itornaza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/itornaza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/itornaza"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "NACK for changing behavior of `decode_op_n()` and `encode_op_n()`\r\n\r\n(the reasoning is given above, in https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-1996854762)",
      "created_at" : "2024-04-12T17:27:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2052181600",
      "id" : 2052181600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5856Uc5g",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2052181600/reactions"
      },
      "updated_at" : "2024-04-12T17:27:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2052181600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/43240089?v=4",
         "events_url" : "https://api.github.com/users/dgpv/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgpv/followers",
         "following_url" : "https://api.github.com/users/dgpv/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgpv/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgpv",
         "id" : 43240089,
         "login" : "dgpv",
         "node_id" : "MDQ6VXNlcjQzMjQwMDg5",
         "organizations_url" : "https://api.github.com/users/dgpv/orgs",
         "received_events_url" : "https://api.github.com/users/dgpv/received_events",
         "repos_url" : "https://api.github.com/users/dgpv/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgpv/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgpv/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgpv"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "On Wed, Apr 17, 2024 at 04:32:14AM -0700, Chris Stewart wrote:\n> @dgpv @petertodd what do you think is the path forward for this?\n\nSeems to me that one reasonable path forward is to just do nothing and not\nmerge these changes.\n",
      "created_at" : "2024-04-17T17:05:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2061785140",
      "id" : 2061785140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII58565Fg0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061785140/reactions"
      },
      "updated_at" : "2024-04-17T17:05:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061785140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=4",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "node_id" : "MDQ6VXNlcjcwNDI=",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I concur with @dgpv that these functions should behave the same as the C++ functions.\r\n\r\nHowever, I think it would be okay for both the C++ and the test functions to be modified to handle `OP_1NEGATE`, although that may touch consensus code so the bar for merging will be higher.",
      "created_at" : "2024-04-25T17:51:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2077837600",
      "id" : 2077837600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII58572Ukg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077837600/reactions"
      },
      "updated_at" : "2024-04-25T17:51:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077837600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I've updated this PR to take @achow101 's suggestion. After 08f2c78658d8261199c75c7956fecc26efc17f3a the behavior between the c++ and python codebase is the same. _Both_ codebases handle `OP_1NEGATE` correctly.\r\n\r\nAs mentioned by @dgpv and @petertodd , this now touches consensus code. Can a maintainer please add the consensus label?\r\n\r\n Here is what I see for the implications. I'm not super familar with the c++ codebase, so please let me know if I am missing some occurrences. \r\n\r\n### `EncodeOP_N()`\r\n\r\n<img width=\"245\" alt=\"Screenshot 2024-05-02 at 4 18 30â¯PM\" src=\"https://github.com/bitcoin/bitcoin/assets/3514957/e114c330-1ddf-4812-ae7b-40b71c7fffdd\">\r\n\r\nI believe this function does not have any consensus implications.\r\n\r\n### `DecodeOP_N()`\r\n\r\n<img width=\"301\" alt=\"Screenshot 2024-05-02 at 4 21 05â¯PM\" src=\"https://github.com/bitcoin/bitcoin/assets/3514957/f351ed5a-ff87-467b-a5d3-1d31bb2119dd\">\r\n\r\n#### [`IsWitnessProgram()`](https://github.com/bitcoin/bitcoin/blob/62ef33a718c9891d37d7c757968876033c4f794d/src/script/script.cpp#L226)\r\n\r\nThis will retain the previous behavior, because of this check in `IsWitnessProgram()`\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/62ef33a718c9891d37d7c757968876033c4f794d/src/script/script.cpp#L231\r\n\r\n#### [`CScript::GetSigOpCount()`](https://github.com/bitcoin/bitcoin/blob/62ef33a718c9891d37d7c757968876033c4f794d/src/script/script.cpp#L159)\r\n\r\nThis will retain previous behavior because the call to `GetSigOpCount()` by this check: \r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/62ef33a718c9891d37d7c757968876033c4f794d/src/script/script.cpp#L173\r\n\r\nWith that being said, I understand why this might not get merged. At minimum this can be archived and cherry-picked if this is needed for a soft fork in the future.\r\n",
      "created_at" : "2024-05-02T21:29:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2091723640",
      "id" : 2091723640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII5858rSt4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091723640/reactions"
      },
      "updated_at" : "2024-05-03T10:19:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091723640",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3514957?v=4",
         "events_url" : "https://api.github.com/users/Christewart/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Christewart/followers",
         "following_url" : "https://api.github.com/users/Christewart/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Christewart/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Christewart",
         "id" : 3514957,
         "login" : "Christewart",
         "node_id" : "MDQ6VXNlcjM1MTQ5NTc=",
         "organizations_url" : "https://api.github.com/users/Christewart/orgs",
         "received_events_url" : "https://api.github.com/users/Christewart/received_events",
         "repos_url" : "https://api.github.com/users/Christewart/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Christewart/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Christewart/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Christewart"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/25233209000</sub>",
      "created_at" : "2024-05-21T18:50:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#issuecomment-2123245224",
      "id" : 2123245224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29589",
      "node_id" : "IC_kwDOABII585-jiao",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123245224/reactions"
      },
      "updated_at" : "2024-05-21T18:50:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123245224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1616232765"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1616232765"
         }
      },
      "author_association" : "NONE",
      "body" : "Non-blocking comment: Maybe move the `assert` line at the beginning of this member function so it is even more similar to its `EncodeOP_N` counterpart.",
      "commit_id" : "0abf50a71b0439ee7f4e94c548b29d726c58477a",
      "created_at" : "2024-05-27T16:09:02Z",
      "diff_hunk" : "@@ -507,14 +507,18 @@ class CScript : public CScriptBase\n     {\n         if (opcode == OP_0)\n             return 0;\n+        if (opcode == OP_1NEGATE)\n+            return -1;\n         assert(opcode >= OP_1 && opcode <= OP_16);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29589#discussion_r1616232765",
      "id" : 1616232765,
      "line" : 512,
      "node_id" : "PRRC_kwDOABII585gVcE9",
      "original_commit_id" : "0abf50a71b0439ee7f4e94c548b29d726c58477a",
      "original_line" : 512,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/script/script.h",
      "position" : 6,
      "pull_request_review_id" : 2081224349,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1616232765/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-27T16:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1616232765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/11520757?v=4",
         "events_url" : "https://api.github.com/users/itornaza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/itornaza/followers",
         "following_url" : "https://api.github.com/users/itornaza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/itornaza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/itornaza",
         "id" : 11520757,
         "login" : "itornaza",
         "node_id" : "MDQ6VXNlcjExNTIwNzU3",
         "organizations_url" : "https://api.github.com/users/itornaza/orgs",
         "received_events_url" : "https://api.github.com/users/itornaza/received_events",
         "repos_url" : "https://api.github.com/users/itornaza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/itornaza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/itornaza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/itornaza"
      }
   }
]
