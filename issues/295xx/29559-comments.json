[
   {
      "author_association" : "NONE",
      "body" : "Seems like this should solve it\r\n\r\n- `struct DatabaseOptions` in `src/wallet/db.h` needs a `writePermission` field of type `bool` with a default value of `false`\r\n- the method `Open` of class`SQLiteDatabase` in `src/wallet/sqlite.h` needs a flag argument of type `Int` added\r\n- the `SQLiteDatabase` constructor in `src/wallet/sqlite.cpp` needs to pass the flag `SQLITE_OPEN_READONLY` if `options.writePermission` is false else flag `SQLITE_OPEN_READWRITE`\r\n- in `src/wallet/wallettool.cpp` when `command ==` create, salvage, or createfromdump then `options.writePermission = true;`",
      "created_at" : "2024-03-04T20:14:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1977378151",
      "id" : 1977378151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29559",
      "node_id" : "IC_kwDOABII58513GVn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1977378151/reactions"
      },
      "updated_at" : "2024-03-04T20:14:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1977378151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10747532?v=4",
         "events_url" : "https://api.github.com/users/BebeSparkelSparkel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BebeSparkelSparkel/followers",
         "following_url" : "https://api.github.com/users/BebeSparkelSparkel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BebeSparkelSparkel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BebeSparkelSparkel",
         "id" : 10747532,
         "login" : "BebeSparkelSparkel",
         "node_id" : "MDQ6VXNlcjEwNzQ3NTMy",
         "organizations_url" : "https://api.github.com/users/BebeSparkelSparkel/orgs",
         "received_events_url" : "https://api.github.com/users/BebeSparkelSparkel/received_events",
         "repos_url" : "https://api.github.com/users/BebeSparkelSparkel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BebeSparkelSparkel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BebeSparkelSparkel"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I consider this permission issue is necesary to fix, and wanna contribute for it. Is it assigned for other guys or anyone is working on it right now?",
      "created_at" : "2024-03-05T09:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978282275",
      "id" : 1978282275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29559",
      "node_id" : "IC_kwDOABII58516jEj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978282275/reactions"
      },
      "updated_at" : "2024-03-05T09:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978282275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45826386?v=4",
         "events_url" : "https://api.github.com/users/PeterWrighten/events{/privacy}",
         "followers_url" : "https://api.github.com/users/PeterWrighten/followers",
         "following_url" : "https://api.github.com/users/PeterWrighten/following{/other_user}",
         "gists_url" : "https://api.github.com/users/PeterWrighten/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/PeterWrighten",
         "id" : 45826386,
         "login" : "PeterWrighten",
         "node_id" : "MDQ6VXNlcjQ1ODI2Mzg2",
         "organizations_url" : "https://api.github.com/users/PeterWrighten/orgs",
         "received_events_url" : "https://api.github.com/users/PeterWrighten/received_events",
         "repos_url" : "https://api.github.com/users/PeterWrighten/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/PeterWrighten/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/PeterWrighten/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/PeterWrighten"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Seems like this should solve it\r\n> \r\n> * `struct DatabaseOptions` in `src/wallet/db.h` needs a `writePermission` field of type `bool` with a default value of `false`\r\n> * the method `Open` of class`SQLiteDatabase` in `src/wallet/sqlite.h` needs a flag argument of type `Int` added\r\n> * the `SQLiteDatabase` constructor in `src/wallet/sqlite.cpp` needs to pass the flag `SQLITE_OPEN_READONLY` if `options.writePermission` is false else flag `SQLITE_OPEN_READWRITE`\r\n> * in `src/wallet/wallettool.cpp` when `command ==` create, salvage, or createfromdump then `options.writePermission = true;`\r\n\r\nAs for me, I consider modifying the code to open write permission is actually an unsafe operation. If you just wanna access info, read-only permission seems sufficient. Perhaps there is also other issue...",
      "created_at" : "2024-03-05T09:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978317149",
      "id" : 1978317149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29559",
      "node_id" : "IC_kwDOABII58516rld",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978317149/reactions"
      },
      "updated_at" : "2024-03-05T09:30:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978317149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/45826386?v=4",
         "events_url" : "https://api.github.com/users/PeterWrighten/events{/privacy}",
         "followers_url" : "https://api.github.com/users/PeterWrighten/followers",
         "following_url" : "https://api.github.com/users/PeterWrighten/following{/other_user}",
         "gists_url" : "https://api.github.com/users/PeterWrighten/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/PeterWrighten",
         "id" : 45826386,
         "login" : "PeterWrighten",
         "node_id" : "MDQ6VXNlcjQ1ODI2Mzg2",
         "organizations_url" : "https://api.github.com/users/PeterWrighten/orgs",
         "received_events_url" : "https://api.github.com/users/PeterWrighten/received_events",
         "repos_url" : "https://api.github.com/users/PeterWrighten/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/PeterWrighten/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/PeterWrighten/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/PeterWrighten"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "cc @achow101 \r\n\r\nIt seems like a good safety feature if commands like `bitcoin-wallet info` and `bitcoin-wallet dump` open the database in read-only mode.\r\n\r\n> Is it assigned for other guys or anyone is working on it right now?\r\n\r\nIssues are never assigned. There's no recent pull request open either. It's also not the end of the world if two people open a bug fix PR at the same time; reviewers can just pick the best solution.",
      "created_at" : "2024-03-05T10:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29559#issuecomment-1978495999",
      "id" : 1978495999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29559",
      "node_id" : "IC_kwDOABII58517XP_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978495999/reactions"
      },
      "updated_at" : "2024-03-05T11:00:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978495999",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
