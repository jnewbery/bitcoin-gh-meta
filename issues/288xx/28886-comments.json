[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28886).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1823577233) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28922](https://github.com/bitcoin/bitcoin/pull/28922) (Use Txid in COutpoint by dergoegge)\n* [#28368](https://github.com/bitcoin/bitcoin/pull/28368) (Fee Estimator updates from Validation Interface/CScheduler thread by ismaelsadeeq)\n* [#26593](https://github.com/bitcoin/bitcoin/pull/26593) (tracing: Only prepare tracepoint arguments when actually tracing by 0xB10C)\n* [#25038](https://github.com/bitcoin/bitcoin/pull/25038) (policy: nVersion=3 and Package RBF by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-11-15T22:07:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1813338831",
      "id" : 1813338831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sFVrP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1813338831/reactions"
      },
      "updated_at" : "2023-11-24T10:04:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1813338831",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1394888660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394888660"
         }
      },
      "author_association" : "NONE",
      "body" : "thanks! really think entry is much better.",
      "commit_id" : "b37ec7f022b363cd9aae15527fc75694e9ea8568",
      "created_at" : "2023-11-15T22:09:14Z",
      "diff_hunk" : "@@ -332,16 +332,16 @@ void Chainstate::MaybeUpdateMempoolForReorg(\n     // Also updates valid entries' cached LockPoints if needed.\n     // If false, the tx is still valid and its lockpoints are updated.\n     // If true, the tx would be invalid in the next block; remove this entry and all of its descendants.\n-    const auto filter_final_and_mature = [this](CTxMemPool::txiter it)\n+    const auto filter_final_and_mature = [this](const CTxMemPoolEntry& entry)\n         EXCLUSIVE_LOCKS_REQUIRED(m_mempool->cs, ::cs_main) {\n         AssertLockHeld(m_mempool->cs);\n         AssertLockHeld(::cs_main);\n-        const CTransaction& tx = it->GetTx();\n+        const CTransaction& tx = entry.GetTx();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1394888660",
      "id" : 1394888660,
      "line" : 339,
      "node_id" : "PRRC_kwDOABII585TJE_U",
      "original_commit_id" : "fee19f97092f322d9be60cd75f8953bef02830ae",
      "original_line" : 339,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 10,
      "pull_request_review_id" : 1733099012,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394888660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-15T22:09:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394888660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/17996807?v=4",
         "events_url" : "https://api.github.com/users/mmelotti/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mmelotti/followers",
         "following_url" : "https://api.github.com/users/mmelotti/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mmelotti/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mmelotti",
         "id" : 17996807,
         "login" : "mmelotti",
         "node_id" : "MDQ6VXNlcjE3OTk2ODA3",
         "organizations_url" : "https://api.github.com/users/mmelotti/orgs",
         "received_events_url" : "https://api.github.com/users/mmelotti/received_events",
         "repos_url" : "https://api.github.com/users/mmelotti/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mmelotti/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mmelotti/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mmelotti"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\n test  2023-11-15T23:32:10.957000Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 132, in main\r\n                                       self.run_test()\r\n                                     File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/interface_usdt_mempool.py\", line 320, in run_test\r\n                                       self.replaced_test()\r\n                                     File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/interface_usdt_mempool.py\", line 263, in replaced_test\r\n                                       assert_equal(event.replacement_fee, replacement_fee)\r\n                                     File \"/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/util.py\", line 56, in assert_equal\r\n                                       raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\n                                   AssertionError: not(40000 == 45000)",
      "created_at" : "2023-11-16T07:07:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1813897056",
      "id" : 1813897056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sHd9g",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1813897056/reactions"
      },
      "updated_at" : "2023-11-16T07:07:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1813897056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1395665231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395665231"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    for (const CTxMemPoolEntry& entry : GetEntrySet(setParentTransactions)) {\r\n```\r\n\r\nnit: Not a pointer?",
      "commit_id" : "7248c0a078370fc52b9b36d2ed68b3257fe99818",
      "created_at" : "2023-11-16T13:06:31Z",
      "diff_hunk" : "@@ -468,10 +465,10 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     // to clean up the mess we're leaving here.\n \n     // Update ancestors with information about this tx\n-    for (const auto& pit : GetIterSet(setParentTransactions)) {\n-            UpdateParent(newit, pit, true);\n+    for (const CTxMemPoolEntry& pentry : GetEntrySet(setParentTransactions)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1395665231",
      "id" : 1395665231,
      "line" : 468,
      "node_id" : "PRRC_kwDOABII585TMClP",
      "original_commit_id" : "7248c0a078370fc52b9b36d2ed68b3257fe99818",
      "original_line" : 468,
      "original_position" : 255,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 255,
      "pull_request_review_id" : 1734328060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395665231/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-16T13:06:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395665231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1395671439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395671439"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `p` is for `parent`? Just like before in `pit`?",
      "commit_id" : "7248c0a078370fc52b9b36d2ed68b3257fe99818",
      "created_at" : "2023-11-16T13:11:41Z",
      "diff_hunk" : "@@ -468,10 +465,10 @@ void CTxMemPool::addUnchecked(const CTxMemPoolEntry &entry, setEntries &setAnces\n     // to clean up the mess we're leaving here.\n \n     // Update ancestors with information about this tx\n-    for (const auto& pit : GetIterSet(setParentTransactions)) {\n-            UpdateParent(newit, pit, true);\n+    for (const CTxMemPoolEntry& pentry : GetEntrySet(setParentTransactions)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#discussion_r1395671439",
      "id" : 1395671439,
      "in_reply_to_id" : 1395665231,
      "line" : 468,
      "node_id" : "PRRC_kwDOABII585TMEGP",
      "original_commit_id" : "7248c0a078370fc52b9b36d2ed68b3257fe99818",
      "original_line" : 468,
      "original_position" : 255,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 255,
      "pull_request_review_id" : 1734338308,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28886",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395671439/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-16T13:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1395671439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I wonder if it is possible to avoid copies of the entry. Currently one one copy is created when inserting into mapTx.\r\n\r\nHowever, now that things are moving toward references, which are easy to copy accidentally. It may lead to bugs such as the one mentioned in the boost docs:\r\n\r\n```\r\n// The following, though similar to the previous code,\r\n// does not work: iterator_to accepts a reference to\r\n// the element in the container, not a copy.\r\nint x=c.back();\r\nc.erase(c.iterator_to(x)); // run-time failure ensues\r\n```\r\n\r\nSo disallowing copies would be a good belt-and-suspenders?",
      "created_at" : "2023-11-16T16:26:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1814794954",
      "id" : 1814794954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sK5LK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1814794954/reactions"
      },
      "updated_at" : "2023-11-16T16:26:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1814794954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Re https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1814794954\r\n\r\n> However, now that things are moving toward references, which are easy to copy accidentally. It may lead to bugs such as the one mentioned in the boost docs:\r\n\r\nThanks for highlighting this.\r\n\r\n> So disallowing copies would be a good belt-and-suspenders?\r\n\r\nI did a quick POC where `mapTx.insert` is replaced with `mapTx.emplace_back` and  the `CTxMemPoolEntry` constructor arguments are passed to `emplace_back`. Then I could delete the `CTxMemPoolEntry` copy constructor. It takes a bit of shuffling around in the fuzzing and test code, as well as the `addUnchecked` method to forward the required arguments, so not sure if it should go into this PR or a follow up. Let me know what you think.",
      "created_at" : "2023-11-16T22:13:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1815398183",
      "id" : 1815398183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sNMcn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1815398183/reactions"
      },
      "updated_at" : "2023-11-16T22:13:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1815398183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There shouldn't be any conflicts, so maybe a separate/independent/parallel pull?",
      "created_at" : "2023-11-17T08:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1815929746",
      "id" : 1815929746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sPOOS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 4,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1815929746/reactions"
      },
      "updated_at" : "2023-11-17T08:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1815929746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on avoiding exposing iterators externally.\r\n\r\nExposing references instead seems like a bit of a lateral move though, and I think it's going to take a good bit of convincing to prove that this is at least as safe than what we have now. Are references _guaranteed_ by Boost to stay valid the same as iters are?",
      "created_at" : "2023-11-22T22:18:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1823577233",
      "id" : 1823577233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585ssZSR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1823577233/reactions"
      },
      "updated_at" : "2023-11-22T22:18:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1823577233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Re https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1823577233\r\n\r\n> and I think it's going to take a good bit of convincing to prove that this is at least as safe than what we have now.\r\n\r\nWe're using the references now to keep track of the parents and children. I don't see what new assumption this patch is introducing compared to this existing practice.\r\n\r\n> Are references guaranteed by Boost to stay valid the same as iters are?\r\n\r\nI'd be interested in getting an answer to this though. I'm guessing, since we can pass objects without copy or move ctors to the multiindex map, they can't be moved in memory, so the references should be safe, right?",
      "created_at" : "2023-11-22T22:48:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1823599516",
      "id" : 1823599516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585sseuc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1823599516/reactions"
      },
      "updated_at" : "2023-11-22T22:48:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1823599516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-11-24T16:45:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28886#issuecomment-1825909674",
      "id" : 1825909674,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28886",
      "node_id" : "IC_kwDOABII585s1Suq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825909674/reactions"
      },
      "updated_at" : "2023-11-24T16:45:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825909674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
