[
   {
      "author_association" : "MEMBER",
      "body" : "`importwallet` does not import any metadata, including whether something is the seed. That it overwrites the seed metadata is expected behavior, although it should still work as the seed. You can check whether both wallets use the same seed by looking at `hdseedid` in `getwalletinfo`, and also generating some addresses to see if both wallets recognize them with `getaddressinfo`.\r\n\r\nHowever, the workflow that you are using uses the legacy wallet storage format which is targeted to be removed soon. If there is indeed an issue, it is unlikely that it will be fixed, particularly as the effect that you want to achieve can be done with different methods. I do want to note though that the same wallet on two nodes is not recommended as metadata will not be the same and there can still be discrepancies between the copies of the wallet due to things such as RBF and related issues with unconfirmed transactions.",
      "created_at" : "2023-11-24T05:34:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-1825170183",
      "id" : 1825170183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII585syeMH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 1,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825170183/reactions"
      },
      "updated_at" : "2023-11-24T05:34:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825170183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@achow101 Thank you for your reply.\r\n\r\nCan you please point me to the right direction as far as the \"proper workflow\" is concerned? My basic need is to have two nodes that I can failover between in case one goes down, with no coin loss (obviously) and reasonable downtime.\r\n\r\nThe nodes will be used for a classic mechanism of receiving user deposits (each user has its own BTC address), and sending withdrawals using \"sendtoaddress\" at first, then using raw transactions when I implement that.  I pregenerated a number of addresses using \"getnewaddress\" and backed up the pkeys in addition to the hdseed, just in case. I managed to set the same hdseed on both nodes and imported the pregenerated addresses from node 1 to node 2.\r\n\r\nAlso can you please elaborate on the \"unconfirmed transactions\" discrepancies\"? If that means that by failing to another node will lose the original node's mempool, then it's no big deal as I save the original transactions data (that I get by \"getrawtransaction\") and can just propagate them again if needed. Or do you mean something different?\r\n\r\nThanks!\r\n\r\nPS: current getwalletinfo on both nodes is:\r\n\r\n```\r\n{\r\n  \"walletname\": \"main\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"bdb\",\r\n  \"balance\": 0.00000000,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 0.00000000,\r\n  \"txcount\": 0,\r\n  \"keypoololdest\": 1669302186,\r\n  \"keypoolsize\": 1000,\r\n  \"hdseedid\": \"<stripped>\",\r\n  \"keypoolsize_hd_internal\": 1000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": false\r\n}\r\n```\r\n\r\nThe only difference being the keypoololdest field that is higher on node2 (seems logical).",
      "created_at" : "2023-11-24T07:43:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-1825262967",
      "id" : 1825262967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII585sy013",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825262967/reactions"
      },
      "updated_at" : "2023-11-24T08:31:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825262967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39710297?v=4",
         "events_url" : "https://api.github.com/users/quakemmo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quakemmo/followers",
         "following_url" : "https://api.github.com/users/quakemmo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quakemmo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quakemmo",
         "id" : 39710297,
         "login" : "quakemmo",
         "node_id" : "MDQ6VXNlcjM5NzEwMjk3",
         "organizations_url" : "https://api.github.com/users/quakemmo/orgs",
         "received_events_url" : "https://api.github.com/users/quakemmo/received_events",
         "repos_url" : "https://api.github.com/users/quakemmo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quakemmo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quakemmo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quakemmo"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "\"Don't use the node for wallet\" seems to be the proper workflow, it seems.\r\n\r\nI find it unacceptable that if the hard drive dies there is a chance to lose coins because the wallet can't be reliably derived on another device.\r\n\r\nI was trying to find out if this is the case, and apparently it is.",
      "created_at" : "2024-03-15T04:19:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-1998909730",
      "id" : 1998909730,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII5853JPEi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1998909730/reactions"
      },
      "updated_at" : "2024-03-15T04:19:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1998909730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/161651197?v=4",
         "events_url" : "https://api.github.com/users/bitchad42/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitchad42/followers",
         "following_url" : "https://api.github.com/users/bitchad42/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitchad42/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitchad42",
         "id" : 161651197,
         "login" : "bitchad42",
         "node_id" : "U_kgDOCaKZ_Q",
         "organizations_url" : "https://api.github.com/users/bitchad42/orgs",
         "received_events_url" : "https://api.github.com/users/bitchad42/received_events",
         "repos_url" : "https://api.github.com/users/bitchad42/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitchad42/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitchad42/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitchad42"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@bitchad42\r\nOn your first node, create a new descriptors wallet and call `gethdkeys true true` (it will return the wallet's active xpriv). Then, on your second node, create a blank wallet and call `createwalletdescriptor <address_type> {\"hdkey\": xpriv}` for each output type you are willing to support.\r\nWhile you kept your master xpriv safe and you remember the keypool threshold (in the case you are using a really large keypool), you will always be able to access your funds on any wallet.\r\n\r\n> Also can you please elaborate on the \"unconfirmed transactions\" discrepancies\"?\r\n\r\nThere isn't an unique global view of the mempool, and their entries are ephemeral. Previous tx replacements are dropped from the mempool; different nodes may end up agreeing on the final state but not on the intermediate ones.",
      "created_at" : "2024-04-01T14:25:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-2029841944",
      "id" : 2029841944,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII5854_O4Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029841944/reactions"
      },
      "updated_at" : "2024-04-01T14:25:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029841944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@furszy \r\n\"In contrast to Bitcoin, Elements is not changing the default wallet format from legacy to descriptors, this is because many things (like peg-ins and peg-outs) still work only on legacy wallets.\"",
      "created_at" : "2024-04-01T14:56:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-2029890987",
      "id" : 2029890987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII5854_a2r",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029890987/reactions"
      },
      "updated_at" : "2024-04-01T14:56:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029890987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/161651197?v=4",
         "events_url" : "https://api.github.com/users/bitchad42/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitchad42/followers",
         "following_url" : "https://api.github.com/users/bitchad42/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitchad42/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitchad42",
         "id" : 161651197,
         "login" : "bitchad42",
         "node_id" : "U_kgDOCaKZ_Q",
         "organizations_url" : "https://api.github.com/users/bitchad42/orgs",
         "received_events_url" : "https://api.github.com/users/bitchad42/received_events",
         "repos_url" : "https://api.github.com/users/bitchad42/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitchad42/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitchad42/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitchad42"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> In contrast to Bitcoin, Elements is not changing the default wallet format from legacy to descriptors, this is because many things (like peg-ins and peg-outs) still work only on legacy wallets.\r\n\r\nWe can't do much at this point. The timeline for the deprecation of the legacy wallet has existed since 2020 (#20160), and it is reaching its final milestone. I would recommend asking there about descriptor support if that is what stops you from upgrading your wallet.",
      "created_at" : "2024-04-01T19:50:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-2030448048",
      "id" : 2030448048,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII5855Bi2w",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030448048/reactions"
      },
      "updated_at" : "2024-04-01T19:50:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030448048",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@furszy \r\nNice, thank you, very much.",
      "created_at" : "2024-04-01T19:57:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-2030458886",
      "id" : 2030458886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII5855BlgG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030458886/reactions"
      },
      "updated_at" : "2024-04-01T19:57:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030458886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/161651197?v=4",
         "events_url" : "https://api.github.com/users/bitchad42/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bitchad42/followers",
         "following_url" : "https://api.github.com/users/bitchad42/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bitchad42/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bitchad42",
         "id" : 161651197,
         "login" : "bitchad42",
         "node_id" : "U_kgDOCaKZ_Q",
         "organizations_url" : "https://api.github.com/users/bitchad42/orgs",
         "received_events_url" : "https://api.github.com/users/bitchad42/received_events",
         "repos_url" : "https://api.github.com/users/bitchad42/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bitchad42/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bitchad42/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bitchad42"
      }
   }
]
