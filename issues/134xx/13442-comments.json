[
   {
      "author_association" : "MEMBER",
      "body" : "Nice!\r\n\r\n@sipa See https://github.com/theuni/bitcoin/commit/d79fb1d9328ad793932f7f8c29bd907803db4c73 for clang compile fixes, and https://github.com/theuni/bitcoin/commit/4ee6fbb8b7525988783030eb0799bbc7293d50a0 for a change that may or may not be needed to avoid a performance hit on AMD.",
      "created_at" : "2018-06-12T03:00:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-396450436",
      "id" : 396450436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjQ1MDQzNg==",
      "updated_at" : "2018-06-12T03:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396450436",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r194606668"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194606668"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there some voodoo here, why not just use XTMP3 below? Does this avoid a pipeline stall or something?",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-06-12T03:33:18Z",
      "diff_hunk" : "@@ -10,6 +14,221 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from an original\n+* YASM implementation by Intel.\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+;\n+; This code is described in an Intel White-Paper:\n+; \"Fast SHA-256 Implementations on Intel Architecture Processors\"\n+;\n+; To find it, surf to http://www.intel.com/p/en_US/embedded\n+; and search for that title.\n+; The paper is expected to be released roughly at the end of April, 2012\n+;\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; This code schedules 1 blocks at a time, with 4 lanes per block\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t y0, y1, y2;\n+    y0 = Ror(e, 25 - 11) ^ e;\n+    y1 = Ror(a, 22 - 13) ^ a;\n+    y2 = (f ^ g) & e;\n+    y0 = Ror(y0, 11 - 6) ^ e;\n+    y1 = Ror(y1, 13 - 2) ^ a;\n+    y0 = Ror(y0, 6);\n+    y2 = (y2 ^ g) + y0 + w;\n+    y1 = Ror(y1, 2);\n+    h += y2;\n+    y0 = (a | c) & b;\n+    d += h;\n+    h += y1;\n+    y0 |= (a & c);\n+    h += y0;\n+}\n+\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& X0, __m128i X1, __m128i X2, __m128i X3, __m128i W)\n+{\n+    alignas(__m128i) uint32_t Ws[4];\n+    __m128i XTMP0, XTMP1, XTMP2, XTMP3, XTMP4;\n+    const __m128i SHUF_00BA = _mm_set_epi64x(0xFFFFFFFFFFFFFFFFULL, 0x0b0a090803020100ULL);\n+    const __m128i SHUF_DC00 = _mm_set_epi64x(0x0b0a090803020100ULL, 0xFFFFFFFFFFFFFFFFULL);\n+\n+    W = _mm_add_epi32(W, X0);\n+    _mm_store_si128((__m128i*)Ws, W);\n+\n+    Round(a, b, c, d, e, f, g, h, Ws[0]);\n+    XTMP0 = _mm_alignr_epi8(X3, X2, 4);\n+    XTMP0 = _mm_add_epi32(XTMP0, X0);\n+    XTMP3 = XTMP2 = XTMP1 = _mm_alignr_epi8(X1, X0, 4);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r194606668",
      "id" : 194606668,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDYwNjY2OA==",
      "original_commit_id" : "b5464f73cef34570f0105b0cc06fe3d2fd467b2a",
      "original_position" : 102,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : null,
      "pull_request_review_id" : 127809569,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194606668",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theuni Included the clang compile fixes. I'm going to benchmark to see whether to include the other changes.",
      "created_at" : "2018-06-12T16:47:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-396657885",
      "id" : 396657885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NjY1Nzg4NQ==",
      "updated_at" : "2018-06-12T16:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/396657885",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r194813005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194813005"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No idea. It's just a translation of the existing assembly code.",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-06-12T16:50:49Z",
      "diff_hunk" : "@@ -10,6 +14,221 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from an original\n+* YASM implementation by Intel.\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+;\n+; This code is described in an Intel White-Paper:\n+; \"Fast SHA-256 Implementations on Intel Architecture Processors\"\n+;\n+; To find it, surf to http://www.intel.com/p/en_US/embedded\n+; and search for that title.\n+; The paper is expected to be released roughly at the end of April, 2012\n+;\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; This code schedules 1 blocks at a time, with 4 lanes per block\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t y0, y1, y2;\n+    y0 = Ror(e, 25 - 11) ^ e;\n+    y1 = Ror(a, 22 - 13) ^ a;\n+    y2 = (f ^ g) & e;\n+    y0 = Ror(y0, 11 - 6) ^ e;\n+    y1 = Ror(y1, 13 - 2) ^ a;\n+    y0 = Ror(y0, 6);\n+    y2 = (y2 ^ g) + y0 + w;\n+    y1 = Ror(y1, 2);\n+    h += y2;\n+    y0 = (a | c) & b;\n+    d += h;\n+    h += y1;\n+    y0 |= (a & c);\n+    h += y0;\n+}\n+\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& X0, __m128i X1, __m128i X2, __m128i X3, __m128i W)\n+{\n+    alignas(__m128i) uint32_t Ws[4];\n+    __m128i XTMP0, XTMP1, XTMP2, XTMP3, XTMP4;\n+    const __m128i SHUF_00BA = _mm_set_epi64x(0xFFFFFFFFFFFFFFFFULL, 0x0b0a090803020100ULL);\n+    const __m128i SHUF_DC00 = _mm_set_epi64x(0x0b0a090803020100ULL, 0xFFFFFFFFFFFFFFFFULL);\n+\n+    W = _mm_add_epi32(W, X0);\n+    _mm_store_si128((__m128i*)Ws, W);\n+\n+    Round(a, b, c, d, e, f, g, h, Ws[0]);\n+    XTMP0 = _mm_alignr_epi8(X3, X2, 4);\n+    XTMP0 = _mm_add_epi32(XTMP0, X0);\n+    XTMP3 = XTMP2 = XTMP1 = _mm_alignr_epi8(X1, X0, 4);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r194813005",
      "id" : 194813005,
      "in_reply_to_id" : 194606668,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NDgxMzAwNQ==",
      "original_commit_id" : "b5464f73cef34570f0105b0cc06fe3d2fd467b2a",
      "original_position" : 102,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : null,
      "pull_request_review_id" : 128055656,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/194813005",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It would be worthwhile to benchmark this on reasonably recent clang versions as well - the performance impact may be very different depending on how good the compiler is at ordering parallel instruction paths.",
      "created_at" : "2018-06-14T19:43:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-397415687",
      "id" : 397415687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzQxNTY4Nw==",
      "updated_at" : "2018-06-14T19:43:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397415687",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13611 ([bugfix] Use __cpuid_count for gnu C to avoid gitian build fail. by ken2812221)\n* #13386 (SHA256 implementations based on Intel SHA Extensions by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-06-14T20:18:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-397425067",
      "id" : 397425067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzQyNTA2Nw==",
      "updated_at" : "2018-07-08T07:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397425067",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some more benchmarks, comparing GCC 7.3 and clang 6.0, for the `SHA256` benchmark (i7-7820HQ, fixed to 2.2 GHz).\r\n\r\n* GCC, master: 4.4 ms\r\n* GCC, this PR: 4.3 ms\r\n* clang, master: 4.4 ms\r\n* clang, this PR: 4.8 ms\r\n\r\nUnfortunately, it seems that clang isn't as good in producing as performant code from intrinsics.",
      "created_at" : "2018-06-18T22:20:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-398213812",
      "id" : 398213812,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODIxMzgxMg==",
      "updated_at" : "2018-06-18T22:20:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398213812",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-07-09T23:26:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-403650920",
      "id" : 403650920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzY1MDkyMA==",
      "updated_at" : "2018-07-09T23:26:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403650920",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa Mind rebasing? I'd like to add the lib-per-cpu changes on top of this.",
      "created_at" : "2018-07-19T19:59:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-406395961",
      "id" : 406395961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjM5NTk2MQ==",
      "updated_at" : "2018-07-19T19:59:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406395961",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, though I don't think this PR is acceptable until we have a way to avoid the performance loss in clang.",
      "created_at" : "2018-07-19T21:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-406416040",
      "id" : 406416040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjQxNjA0MA==",
      "updated_at" : "2018-07-19T21:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406416040",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#13789](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13789.html) (crypto/sha256: Use pragmas to enforce necessary intrinsics for GCC and Clang by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-07-28T20:56:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-408634415",
      "id" : 408634415,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODYzNDQxNQ==",
      "updated_at" : "2018-12-12T14:05:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408634415",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r219691687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219691687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\n2018-09-22 22:14:20 cpplint(pr=13442): src/crypto/sha256_sse41.cpp:96:  Using C-style cast.  Use reinterpret_cast<__m128i*>(...) instead  [readability/casting] [4]\r\n```",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-09-23T08:19:33Z",
      "diff_hunk" : "@@ -6,6 +10,211 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from a\n+* NASM implementation by Intel, found at\n+* https://github.com/intel/intel-ipsec-mb/blob/master/sse/sha256_one_block_sse.asm\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+/** Compute one round of SHA256. */\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t t0, t1, t2;\n+    t0 = Ror(e, 25 - 11) ^ e;\n+    t1 = Ror(a, 22 - 13) ^ a;\n+    t2 = (f ^ g) & e;\n+    t0 = Ror(t0, 11 - 6) ^ e;\n+    t1 = Ror(t1, 13 - 2) ^ a;\n+    t0 = Ror(t0, 6);\n+    t2 = (t2 ^ g) + t0 + w;\n+    t1 = Ror(t1, 2);\n+    h += t2;\n+    t0 = (a | c) & b;\n+    d += h;\n+    h += t1;\n+    t0 |= (a & c);\n+    h += t0;\n+}\n+\n+/** Compute 4 rounds of SHA256, while simultaneously computing the expansion for\n+ *  16 rounds later.\n+ *\n+ *  Input: a,b,c,d,e,f,g,h: The state variables to update with 4 rounds\n+ *         x0,x1,x2,x3:     4 128-bit variables containing expansions.\n+ *                          If the current round is r, x0,x1,x2,x3 contain the\n+ *                          expansions for rounds r..r+15. x0 will be updated\n+ *                          to have the expansions for round r+16..r+19.\n+ *         W:               The round constants for r..r+3.\n+ */\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& x0, __m128i x1, __m128i x2, __m128i x3, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[4];\n+    __m128i t0, t1, t2, t3, t4;\n+\n+    w = _mm_add_epi32(w, x0);\n+    _mm_store_si128((__m128i*)w32, w);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r219691687",
      "id" : 219691687,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTY5MTY4Nw==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 95,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : 95,
      "pull_request_review_id" : 157932289,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219691687",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r219691694"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219691694"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\n2018-09-22 22:14:20 cpplint(pr=13442): src/crypto/sha256_sse41.cpp:138:  Using C-style cast.  Use reinterpret_cast<__m128i*>(...) instead  [readability/casting] [4]\r\n```",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-09-23T08:19:48Z",
      "diff_hunk" : "@@ -6,6 +10,211 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from a\n+* NASM implementation by Intel, found at\n+* https://github.com/intel/intel-ipsec-mb/blob/master/sse/sha256_one_block_sse.asm\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+/** Compute one round of SHA256. */\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t t0, t1, t2;\n+    t0 = Ror(e, 25 - 11) ^ e;\n+    t1 = Ror(a, 22 - 13) ^ a;\n+    t2 = (f ^ g) & e;\n+    t0 = Ror(t0, 11 - 6) ^ e;\n+    t1 = Ror(t1, 13 - 2) ^ a;\n+    t0 = Ror(t0, 6);\n+    t2 = (t2 ^ g) + t0 + w;\n+    t1 = Ror(t1, 2);\n+    h += t2;\n+    t0 = (a | c) & b;\n+    d += h;\n+    h += t1;\n+    t0 |= (a & c);\n+    h += t0;\n+}\n+\n+/** Compute 4 rounds of SHA256, while simultaneously computing the expansion for\n+ *  16 rounds later.\n+ *\n+ *  Input: a,b,c,d,e,f,g,h: The state variables to update with 4 rounds\n+ *         x0,x1,x2,x3:     4 128-bit variables containing expansions.\n+ *                          If the current round is r, x0,x1,x2,x3 contain the\n+ *                          expansions for rounds r..r+15. x0 will be updated\n+ *                          to have the expansions for round r+16..r+19.\n+ *         W:               The round constants for r..r+3.\n+ */\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& x0, __m128i x1, __m128i x2, __m128i x3, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[4];\n+    __m128i t0, t1, t2, t3, t4;\n+\n+    w = _mm_add_epi32(w, x0);\n+    _mm_store_si128((__m128i*)w32, w);\n+\n+    Round(a, b, c, d, e, f, g, h, w32[0]);\n+    t0 = _mm_add_epi32(_mm_alignr_epi8(x3, x2, 4), x0);\n+    t3 = t2 = t1 = _mm_alignr_epi8(x1, x0, 4);\n+    t2 = _mm_srli_epi32(t2, 7);\n+    t1 = _mm_or_si128(_mm_slli_epi32(t1, 32 - 7), t2);\n+\n+    Round(h, a, b, c, d, e, f, g, w32[1]);\n+    t4 = t2 = t3;\n+    t3 = _mm_slli_epi32(t3, 32 - 18);\n+    t2 = _mm_srli_epi32(t2, 18);\n+    t1 = _mm_xor_si128(t1, t3);\n+    t4 = _mm_srli_epi32(t4, 3);\n+    t1 = _mm_xor_si128(_mm_xor_si128(t1, t2), t4);\n+    t2 = _mm_shuffle_epi32(x3, 0xFA);\n+    t0 = _mm_add_epi32(t0, t1);\n+\n+    Round(g, h, a, b, c, d, e, f, w32[2]);\n+    t4 = t3 = t2;\n+    t2 = _mm_srli_epi64(t2, 17);\n+    t3 = _mm_srli_epi64(t3, 19);\n+    t4 = _mm_srli_epi32(t4, 10);\n+    t2 = _mm_xor_si128(t2, t3);\n+    t4 = _mm_shuffle_epi8(_mm_xor_si128(t4, t2), _mm_set_epi64x(0xFFFFFFFFFFFFFFFFULL, 0x0b0a090803020100ULL));\n+    t0 = _mm_add_epi32(t0, t4);\n+    t2 = _mm_shuffle_epi32(t0, 0x50);\n+\n+    Round(f, g, h, a, b, c, d, e, w32[3]);\n+    x0 = t3 = t2;\n+    t2 = _mm_srli_epi64(t2, 17);\n+    t3 = _mm_srli_epi64(t3, 19);\n+    x0 = _mm_srli_epi32(x0, 10);\n+    t2 = _mm_xor_si128(t2, t3);\n+    x0 = _mm_add_epi32(_mm_shuffle_epi8(_mm_xor_si128(x0, t2), _mm_set_epi64x(0x0b0a090803020100ULL, 0xFFFFFFFFFFFFFFFFULL)), t0);\n+}\n+\n+void inline __attribute__((always_inline)) QuadRound(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i x0, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[32];\n+\n+    x0 = _mm_add_epi32(x0, w);\n+    _mm_store_si128((__m128i*)w32, x0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r219691694",
      "id" : 219691694,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTY5MTY5NA==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 137,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : 137,
      "pull_request_review_id" : 157932296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/219691694",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222819351"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222819351"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is the value read from `w32[0]` is guaranteed to be initialised here?",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-10-04T20:39:43Z",
      "diff_hunk" : "@@ -6,6 +10,211 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from a\n+* NASM implementation by Intel, found at\n+* https://github.com/intel/intel-ipsec-mb/blob/master/sse/sha256_one_block_sse.asm\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+/** Compute one round of SHA256. */\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t t0, t1, t2;\n+    t0 = Ror(e, 25 - 11) ^ e;\n+    t1 = Ror(a, 22 - 13) ^ a;\n+    t2 = (f ^ g) & e;\n+    t0 = Ror(t0, 11 - 6) ^ e;\n+    t1 = Ror(t1, 13 - 2) ^ a;\n+    t0 = Ror(t0, 6);\n+    t2 = (t2 ^ g) + t0 + w;\n+    t1 = Ror(t1, 2);\n+    h += t2;\n+    t0 = (a | c) & b;\n+    d += h;\n+    h += t1;\n+    t0 |= (a & c);\n+    h += t0;\n+}\n+\n+/** Compute 4 rounds of SHA256, while simultaneously computing the expansion for\n+ *  16 rounds later.\n+ *\n+ *  Input: a,b,c,d,e,f,g,h: The state variables to update with 4 rounds\n+ *         x0,x1,x2,x3:     4 128-bit variables containing expansions.\n+ *                          If the current round is r, x0,x1,x2,x3 contain the\n+ *                          expansions for rounds r..r+15. x0 will be updated\n+ *                          to have the expansions for round r+16..r+19.\n+ *         W:               The round constants for r..r+3.\n+ */\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& x0, __m128i x1, __m128i x2, __m128i x3, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[4];\n+    __m128i t0, t1, t2, t3, t4;\n+\n+    w = _mm_add_epi32(w, x0);\n+    _mm_store_si128((__m128i*)w32, w);\n+\n+    Round(a, b, c, d, e, f, g, h, w32[0]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222819351",
      "id" : 222819351,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjgxOTM1MQ==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 97,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : 97,
      "pull_request_review_id" : 161800412,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222819351",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222819584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222819584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Same here and throughout this function :-)",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-10-04T20:40:25Z",
      "diff_hunk" : "@@ -6,6 +10,211 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from a\n+* NASM implementation by Intel, found at\n+* https://github.com/intel/intel-ipsec-mb/blob/master/sse/sha256_one_block_sse.asm\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+/** Compute one round of SHA256. */\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t t0, t1, t2;\n+    t0 = Ror(e, 25 - 11) ^ e;\n+    t1 = Ror(a, 22 - 13) ^ a;\n+    t2 = (f ^ g) & e;\n+    t0 = Ror(t0, 11 - 6) ^ e;\n+    t1 = Ror(t1, 13 - 2) ^ a;\n+    t0 = Ror(t0, 6);\n+    t2 = (t2 ^ g) + t0 + w;\n+    t1 = Ror(t1, 2);\n+    h += t2;\n+    t0 = (a | c) & b;\n+    d += h;\n+    h += t1;\n+    t0 |= (a & c);\n+    h += t0;\n+}\n+\n+/** Compute 4 rounds of SHA256, while simultaneously computing the expansion for\n+ *  16 rounds later.\n+ *\n+ *  Input: a,b,c,d,e,f,g,h: The state variables to update with 4 rounds\n+ *         x0,x1,x2,x3:     4 128-bit variables containing expansions.\n+ *                          If the current round is r, x0,x1,x2,x3 contain the\n+ *                          expansions for rounds r..r+15. x0 will be updated\n+ *                          to have the expansions for round r+16..r+19.\n+ *         W:               The round constants for r..r+3.\n+ */\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& x0, __m128i x1, __m128i x2, __m128i x3, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[4];\n+    __m128i t0, t1, t2, t3, t4;\n+\n+    w = _mm_add_epi32(w, x0);\n+    _mm_store_si128((__m128i*)w32, w);\n+\n+    Round(a, b, c, d, e, f, g, h, w32[0]);\n+    t0 = _mm_add_epi32(_mm_alignr_epi8(x3, x2, 4), x0);\n+    t3 = t2 = t1 = _mm_alignr_epi8(x1, x0, 4);\n+    t2 = _mm_srli_epi32(t2, 7);\n+    t1 = _mm_or_si128(_mm_slli_epi32(t1, 32 - 7), t2);\n+\n+    Round(h, a, b, c, d, e, f, g, w32[1]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222819584",
      "id" : 222819584,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjgxOTU4NA==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 103,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : 103,
      "pull_request_review_id" : 161800704,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222819584",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222820713"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222820713"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Move the `if` statement inside of the `#if defined(ENABLE_SSE41) && !defined(BUILD_BITCOIN_INTERNAL)` to remove the possibility of an empty if statement.",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2018-10-04T20:44:06Z",
      "diff_hunk" : "@@ -615,12 +615,9 @@ std::string SHA256AutoDetect()\n #endif\n \n     if (have_sse4) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r222820713",
      "id" : 222820713,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjgyMDcxMw==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 29,
      "path" : "src/crypto/sha256.cpp",
      "position" : 29,
      "pull_request_review_id" : 161802155,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2018-10-12T23:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222820713",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Are you still working on this?",
      "created_at" : "2019-05-20T17:53:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494087868",
      "id" : 494087868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA4Nzg2OA==",
      "updated_at" : "2019-05-20T17:53:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494087868",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What version of clang are we using now? It's probably not a good idea to proceed with this unless it can be shown it doesn't have negative impact on performance on all release platforms.",
      "created_at" : "2019-05-20T17:55:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494088457",
      "id" : 494088457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA4ODQ1Nw==",
      "updated_at" : "2019-05-20T17:55:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494088457",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "* 3.7 (#16052) for gitian\r\n* FreeBSD 12: clang version 6.0.1\r\n* not sure what the default is on macos when self-compiled",
      "created_at" : "2019-05-20T18:12:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494094418",
      "id" : 494094418,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA5NDQxOA==",
      "updated_at" : "2019-05-20T18:12:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494094418",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r285711058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285711058"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, in the line above.",
      "commit_id" : "4a221cef1bc5ce093616f58d2295bad9dc6ad5b1",
      "created_at" : "2019-05-20T18:13:57Z",
      "diff_hunk" : "@@ -6,6 +10,211 @@\n #include <crypto/sha256.h>\n #include <crypto/common.h>\n \n+namespace sha256_sse41 {\n+\n+/*\n+* The implementation in this namespace is a conversion to intrinsics from a\n+* NASM implementation by Intel, found at\n+* https://github.com/intel/intel-ipsec-mb/blob/master/sse/sha256_one_block_sse.asm\n+*\n+* Its original copyright text:\n+\n+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n+; Copyright (c) 2012, Intel Corporation\n+;\n+; All rights reserved.\n+;\n+; Redistribution and use in source and binary forms, with or without\n+; modification, are permitted provided that the following conditions are\n+; met:\n+;\n+; * Redistributions of source code must retain the above copyright\n+;   notice, this list of conditions and the following disclaimer.\n+;\n+; * Redistributions in binary form must reproduce the above copyright\n+;   notice, this list of conditions and the following disclaimer in the\n+;   documentation and/or other materials provided with the\n+;   distribution.\n+;\n+; * Neither the name of the Intel Corporation nor the names of its\n+;   contributors may be used to endorse or promote products derived from\n+;   this software without specific prior written permission.\n+;\n+; THIS SOFTWARE IS PROVIDED BY INTEL CORPORATION \"AS IS\" AND ANY\n+; EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+; IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n+; PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL INTEL CORPORATION OR\n+; CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n+; EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n+; PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n+; PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n+; LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n+; NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+; SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+*/\n+\n+namespace {\n+\n+uint32_t inline __attribute__((always_inline)) Ror(uint32_t x, int val) { return ((x >> val) | (x << (32 - val))); }\n+\n+/** Compute one round of SHA256. */\n+void inline __attribute__((always_inline)) Round(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, uint32_t w)\n+{\n+    uint32_t t0, t1, t2;\n+    t0 = Ror(e, 25 - 11) ^ e;\n+    t1 = Ror(a, 22 - 13) ^ a;\n+    t2 = (f ^ g) & e;\n+    t0 = Ror(t0, 11 - 6) ^ e;\n+    t1 = Ror(t1, 13 - 2) ^ a;\n+    t0 = Ror(t0, 6);\n+    t2 = (t2 ^ g) + t0 + w;\n+    t1 = Ror(t1, 2);\n+    h += t2;\n+    t0 = (a | c) & b;\n+    d += h;\n+    h += t1;\n+    t0 |= (a & c);\n+    h += t0;\n+}\n+\n+/** Compute 4 rounds of SHA256, while simultaneously computing the expansion for\n+ *  16 rounds later.\n+ *\n+ *  Input: a,b,c,d,e,f,g,h: The state variables to update with 4 rounds\n+ *         x0,x1,x2,x3:     4 128-bit variables containing expansions.\n+ *                          If the current round is r, x0,x1,x2,x3 contain the\n+ *                          expansions for rounds r..r+15. x0 will be updated\n+ *                          to have the expansions for round r+16..r+19.\n+ *         W:               The round constants for r..r+3.\n+ */\n+void inline __attribute__((always_inline)) QuadRoundSched(uint32_t& a, uint32_t& b, uint32_t& c, uint32_t& d, uint32_t& e, uint32_t& f, uint32_t& g, uint32_t& h, __m128i& x0, __m128i x1, __m128i x2, __m128i x3, __m128i w)\n+{\n+    alignas(__m128i) uint32_t w32[4];\n+    __m128i t0, t1, t2, t3, t4;\n+\n+    w = _mm_add_epi32(w, x0);\n+    _mm_store_si128((__m128i*)w32, w);\n+\n+    Round(a, b, c, d, e, f, g, h, w32[0]);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#discussion_r285711058",
      "id" : 285711058,
      "in_reply_to_id" : 222819351,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NTcxMTA1OA==",
      "original_commit_id" : "8655e7829c0dd7f98410c5632acb8851fbba5ec6",
      "original_position" : 97,
      "path" : "src/crypto/sha256_sse41.cpp",
      "position" : 97,
      "pull_request_review_id" : 239650358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13442",
      "updated_at" : "2019-05-20T18:13:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/285711058",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll close this for now, then.",
      "created_at" : "2019-05-20T18:24:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494098387",
      "id" : 494098387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDA5ODM4Nw==",
      "updated_at" : "2019-05-20T18:24:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494098387",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke, Clang on my macOS machine (Xcode 10.2.1) is:\r\n```\r\nApple LLVM version 10.0.1 (clang-1001.0.46.4)\r\nTarget: x86_64-apple-darwin18.6.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n```",
      "created_at" : "2019-05-21T04:55:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494239125",
      "id" : 494239125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDIzOTEyNQ==",
      "updated_at" : "2019-05-21T04:55:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494239125",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "...which is actually Clang 5.",
      "created_at" : "2019-05-21T12:46:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-494375870",
      "id" : 494375870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NDM3NTg3MA==",
      "updated_at" : "2019-05-21T12:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/494375870",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/23437045?v=4",
         "events_url" : "https://api.github.com/users/DesWurstes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DesWurstes/followers",
         "following_url" : "https://api.github.com/users/DesWurstes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DesWurstes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DesWurstes",
         "id" : 23437045,
         "login" : "DesWurstes",
         "node_id" : "MDQ6VXNlcjIzNDM3MDQ1",
         "organizations_url" : "https://api.github.com/users/DesWurstes/orgs",
         "received_events_url" : "https://api.github.com/users/DesWurstes/received_events",
         "repos_url" : "https://api.github.com/users/DesWurstes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DesWurstes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DesWurstes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DesWurstes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm going to reopen this, as we will be switching to a newer version of `Clang` in gitian. ",
      "created_at" : "2019-05-23T18:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-495334642",
      "id" : 495334642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NTMzNDY0Mg==",
      "updated_at" : "2019-05-23T18:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/495334642",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll benchmark again in clang-7.",
      "created_at" : "2019-05-23T19:05:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-495345637",
      "id" : 495345637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NTM0NTYzNw==",
      "updated_at" : "2019-05-23T19:05:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/495345637",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I see a slowdown in `SHA256` and `SHA256_32b` with both gcc-9 and clang-8",
      "created_at" : "2019-05-23T19:16:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-495349438",
      "id" : 495349438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5NTM0OTQzOA==",
      "updated_at" : "2019-05-23T19:16:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/495349438",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Futher benchmarking reported here and outside this PR have shown that there are likely slowdown issues with this change and recent versions of Clang. Closing again for now.",
      "created_at" : "2019-06-24T08:09:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-504905736",
      "id" : 504905736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDkwNTczNg==",
      "updated_at" : "2019-06-24T08:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504905736",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Picked up for MSVC builds in https://github.com/bitcoin/bitcoin/pull/28526.",
      "created_at" : "2023-09-24T14:19:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13442#issuecomment-1732583755",
      "id" : 1732583755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13442",
      "node_id" : "IC_kwDOABII585nRSFL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1732583755/reactions"
      },
      "updated_at" : "2023-09-24T14:19:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1732583755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
