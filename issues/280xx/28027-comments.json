[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/28027#pullrequestreview-1592524137), [Sjors](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1748297694) |\n| Concept ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620768425) |\n| Approach ACK | [S3RK](https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1630248097) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28528](https://github.com/bitcoin/bitcoin/pull/28528) (test: Use test framework utils in functional tests by osagie98)\n* [#26728](https://github.com/bitcoin/bitcoin/pull/26728) (wallet: Have the wallet store the key for automatically generated descriptors by achow101)\n* [#25907](https://github.com/bitcoin/bitcoin/pull/25907) (wallet: rpc to add automatically generated descriptors by achow101)\n* [#20892](https://github.com/bitcoin/bitcoin/pull/20892) (tests: Run both descriptor and legacy tests within a single test invocation by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-07-04T03:03:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1619399483",
      "id" : 1619399483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585ghhM7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1619399483/reactions"
      },
      "updated_at" : "2023-10-05T07:46:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1619399483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1251525740"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1251525740"
         }
      },
      "author_association" : "MEMBER",
      "body" : "only if you re-touch, style nit in 95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8 (and following commits): The `*_path` node properties can use the shorter `a / b / c` syntax, over  `os.path.join(a, b, c)`.",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-04T06:05:16Z",
      "diff_hunk" : "@@ -160,18 +155,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if node.version == 160300:\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        os.path.join(node_master.wallets_path, wallet, \"wallet.dat\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1251525740",
      "id" : 1251525740,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585KmMRs",
      "original_commit_id" : "95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8",
      "original_line" : 169,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1512116964,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1251525740/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-04T06:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1251525740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for improving these tests. Added to review list.",
      "created_at" : "2023-07-04T14:29:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620356102",
      "id" : 1620356102,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585glKwG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620356102/reactions"
      },
      "updated_at" : "2023-07-04T14:29:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620356102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-07-04T21:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1620768425",
      "id" : 1620768425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585gmvap",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620768425/reactions"
      },
      "updated_at" : "2023-07-04T21:32:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620768425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-07-06T11:17:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1623493693",
      "id" : 1623493693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585gxIw9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623493693/reactions"
      },
      "updated_at" : "2023-07-06T11:17:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623493693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257851249"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257851249"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "v0.16 is different in many regards, does it make sense to have a separate test to check incompatibility?",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T07:43:38Z",
      "diff_hunk" : "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257851249",
      "id" : 1257851249,
      "line" : 183,
      "node_id" : "PRRC_kwDOABII585K-Ulx",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 183,
      "original_position" : 138,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 138,
      "pull_request_review_id" : 1521467578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257851249/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-10T07:43:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257851249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257854317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257854317"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "pull up the comment explaining why?",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T07:46:36Z",
      "diff_hunk" : "@@ -208,13 +235,29 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(os.path.join(node_master.wallets_path, wallet_name))\n+                        shutil.copytree(\n+                            os.path.join(n.wallets_path, wallet_name),\n+                            os.path.join(node_master.wallets_path, wallet_name),\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                if node.version < 180000:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1257854317",
      "id" : 1257854317,
      "line" : 255,
      "node_id" : "PRRC_kwDOABII585K-VVt",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 255,
      "original_position" : 194,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 205,
      "pull_request_review_id" : 1521472220,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257854317/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-10T07:46:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1257854317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613252"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613252"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done where the code was more than just moved.",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T17:11:41Z",
      "diff_hunk" : "@@ -160,18 +155,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if node.version == 160300:\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        os.path.join(node_master.wallets_path, wallet, \"wallet.dat\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613252",
      "id" : 1258613252,
      "in_reply_to_id" : 1251525740,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LBOoE",
      "original_commit_id" : "95b140a4b75c61e4ae3f4d1ea6e2d4a6b9fa15e8",
      "original_line" : 169,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1522581655,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613252/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-10T17:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613989"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613989"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps, but I think we should test it in this test as it's important to have the upgrade and downgrade tests for the older wallet version.",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T17:12:32Z",
      "diff_hunk" : "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258613989",
      "id" : 1258613989,
      "in_reply_to_id" : 1257851249,
      "line" : 183,
      "node_id" : "PRRC_kwDOABII585LBOzl",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 183,
      "original_position" : 138,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 138,
      "pull_request_review_id" : 1522582856,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613989/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-10T17:12:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258613989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258614077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258614077"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T17:12:38Z",
      "diff_hunk" : "@@ -208,13 +235,29 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(os.path.join(node_master.wallets_path, wallet_name))\n+                        shutil.copytree(\n+                            os.path.join(n.wallets_path, wallet_name),\n+                            os.path.join(node_master.wallets_path, wallet_name),\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                if node.version < 180000:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1258614077",
      "id" : 1258614077,
      "in_reply_to_id" : 1257854317,
      "line" : 255,
      "node_id" : "PRRC_kwDOABII585LBO09",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 255,
      "original_position" : 194,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 205,
      "pull_request_review_id" : 1522582991,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258614077/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-10T17:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1258614077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259010439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259010439"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The v19 test pubkeys `0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52` and `037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073`  are they relevant to the test?  I see they are the same as the one reported in #18075",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T23:40:56Z",
      "diff_hunk" : "@@ -72,10 +72,45 @@ def setup_nodes(self):\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n \n+    def test_v19_addmultisigaddress(self):\n+        # Specific test for addmultisigaddress using v19\n+        # See #18075\n+        self.log.info(\"Testing 0.19 addmultisigaddress case (#18075)\")\n+        node_master = self.nodes[1]\n+        node_v19 = self.nodes[self.num_nodes - 4]\n+        node_v19.rpc.createwallet(wallet_name=\"w1_v19\")\n+        wallet = node_v19.get_wallet_rpc(\"w1_v19\")\n+        info = wallet.getwalletinfo()\n+        assert info['private_keys_enabled']\n+        assert info['keypoolsize'] > 0\n+        # Use addmultisigaddress (see #18075)\n+        address_18075 = wallet.rpc.addmultisigaddress(1, [\"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\", \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"], \"\", \"legacy\")[\"address\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259010439",
      "id" : 1259010439,
      "line" : 89,
      "node_id" : "PRRC_kwDOABII585LCvmH",
      "original_commit_id" : "0ffa0f1c370494b6b99a9cdf911b20ee655ac829",
      "original_line" : 87,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 42,
      "pull_request_review_id" : 1523177321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259010439/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-11T00:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259010439",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259013655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259013655"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`180000`, `210000`, e.t.c\r\nTo reduce the magic numbers we can create a variable for the versions, e.g `v18 = 180000`and  reuse it throughout the tests?",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T23:46:57Z",
      "diff_hunk" : "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259013655",
      "id" : 1259013655,
      "line" : 206,
      "node_id" : "PRRC_kwDOABII585LCwYX",
      "original_commit_id" : "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "original_line" : 206,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 161,
      "pull_request_review_id" : 1523177321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259013655/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-11T00:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259013655",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259015544"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259015544"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why are we no longer using the wallet?",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-10T23:51:01Z",
      "diff_hunk" : "@@ -127,13 +126,6 @@ def run_test(self):\n         assert wallet.getaddressinfo(address_18075)[\"solvable\"]\n         node_v19.unloadwallet(\"w1_v19\")\n \n-        # w1_v18: regular wallet, created with v0.18",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259015544",
      "id" : 1259015544,
      "line" : 135,
      "node_id" : "PRRC_kwDOABII585LCw14",
      "original_commit_id" : "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "original_line" : 130,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 96,
      "pull_request_review_id" : 1523177321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259015544/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-11T00:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259015544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259265158"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259265158"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "agree, you can resolve this",
      "commit_id" : "e40896845a57bb5bf657f51dc007c6563e4ca22c",
      "created_at" : "2023-07-11T06:50:23Z",
      "diff_hunk" : "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1259265158",
      "id" : 1259265158,
      "in_reply_to_id" : 1257851249,
      "line" : 183,
      "node_id" : "PRRC_kwDOABII585LDtyG",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 183,
      "original_position" : 138,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 138,
      "pull_request_review_id" : 1523538022,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259265158/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-11T06:50:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1259265158",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK",
      "created_at" : "2023-07-11T06:51:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1630248097",
      "id" : 1630248097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585hK5yh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1630248097/reactions"
      },
      "updated_at" : "2023-07-11T06:51:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1630248097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Running this test failed on my device not sure if it's from this PR though.\r\n\r\nIt looks like you're missing the 25.0 binaries. The test is expecting to find 25.0's bitcoind at `/home/abubakarsadiq/Desktop/bitcoin/releases/v25.0/bin/bitcoind` but doesn't.",
      "created_at" : "2023-07-13T19:19:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1634769028",
      "id" : 1634769028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585hcJiE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1634769028/reactions"
      },
      "updated_at" : "2023-07-13T19:19:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1634769028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262968377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262968377"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think the specific keys are relevant.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-13T19:20:05Z",
      "diff_hunk" : "@@ -72,10 +72,45 @@ def setup_nodes(self):\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n \n+    def test_v19_addmultisigaddress(self):\n+        # Specific test for addmultisigaddress using v19\n+        # See #18075\n+        self.log.info(\"Testing 0.19 addmultisigaddress case (#18075)\")\n+        node_master = self.nodes[1]\n+        node_v19 = self.nodes[self.num_nodes - 4]\n+        node_v19.rpc.createwallet(wallet_name=\"w1_v19\")\n+        wallet = node_v19.get_wallet_rpc(\"w1_v19\")\n+        info = wallet.getwalletinfo()\n+        assert info['private_keys_enabled']\n+        assert info['keypoolsize'] > 0\n+        # Use addmultisigaddress (see #18075)\n+        address_18075 = wallet.rpc.addmultisigaddress(1, [\"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\", \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"], \"\", \"legacy\")[\"address\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262968377",
      "id" : 1262968377,
      "in_reply_to_id" : 1259010439,
      "line" : 114,
      "node_id" : "PRRC_kwDOABII585LR145",
      "original_commit_id" : "0ffa0f1c370494b6b99a9cdf911b20ee655ac829",
      "original_line" : 114,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 58,
      "pull_request_review_id" : 1529106013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262968377/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-13T19:20:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262968377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262971716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262971716"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would guess that it was used in the up-downgrade test but was accidentally removed at some point. It isn't necessary anymore either as that test is now automated to go over all of the previous versions so the hardcoded specific wallet versions are no longer necessary.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-13T19:24:02Z",
      "diff_hunk" : "@@ -127,13 +126,6 @@ def run_test(self):\n         assert wallet.getaddressinfo(address_18075)[\"solvable\"]\n         node_v19.unloadwallet(\"w1_v19\")\n \n-        # w1_v18: regular wallet, created with v0.18",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262971716",
      "id" : 1262971716,
      "in_reply_to_id" : 1259015544,
      "line" : 135,
      "node_id" : "PRRC_kwDOABII585LR2tE",
      "original_commit_id" : "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "original_line" : 135,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 113,
      "pull_request_review_id" : 1529111506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262971716/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-13T19:24:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262971716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262972014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262972014"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Will do if I need to retouch.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-13T19:24:14Z",
      "diff_hunk" : "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1262972014",
      "id" : 1262972014,
      "in_reply_to_id" : 1259013655,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LR2xu",
      "original_commit_id" : "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "original_line" : 206,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1529112164,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262972014/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-13T19:24:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1262972014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264078873"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264078873"
         }
      },
      "author_association" : "MEMBER",
      "body" : "c31e0db7f4263096d503f07707af9d0a733e50da The original `< 170000` made it more clear that this applies to _all_ old versions. Not a big deal though, since it's unlikely we'll add even older nodes.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T19:27:32Z",
      "diff_hunk" : "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264078873",
      "id" : 1264078873,
      "in_reply_to_id" : 1257851249,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWFAZ",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 183,
      "original_position" : 138,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1530881379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264078873/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264078873",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264084847"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264084847"
         }
      },
      "author_association" : "MEMBER",
      "body" : "6a5d245b89c51a53989b984d31d7bb4d807837c3: if a node is node is not used, we should reduce the number of nodes and `node_v19` should be `self.num_nodes - 3`.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T19:35:06Z",
      "diff_hunk" : "@@ -76,7 +76,6 @@ def run_test(self):\n         node_miner = self.nodes[0]\n         node_master = self.nodes[1]\n         node_v19 = self.nodes[self.num_nodes - 4]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264084847",
      "id" : 1264084847,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWGdv",
      "original_commit_id" : "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "original_line" : 78,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1530881379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264084847/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264084847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264088086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264088086"
         }
      },
      "author_association" : "MEMBER",
      "body" : "72362ed1fbbab9dfbaf224f930ed9b328f29c55f: maybe keep all the `node_v..` definitions in one place at the top of the test?",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T19:40:01Z",
      "diff_hunk" : "@@ -261,6 +261,12 @@ def run_test(self):\n             else:\n                 node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n \n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor\n+        if self.options.descriptors:\n+            self.log.info(\"Test that 0.21 cannot open wallet containing tr() descriptors\")\n+            node_v21 = self.nodes[-6]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264088086",
      "id" : 1264088086,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWHQW",
      "original_commit_id" : "72362ed1fbbab9dfbaf224f930ed9b328f29c55f",
      "original_line" : 267,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1530881379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264088086/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264088086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "0ffa0f1c370494b6b99a9cdf911b20ee655ac829 (and later) breaks at line line 96 when you run `wallet_backwards_compatibility.py --descriptors` without BDB:\r\n\r\n```\r\nJSONRPCException: Wallet file verification failed. Failed to open database path '/tmp/bitcoin_func_test_x3n9_0vn/node1/regtest/wallets/w1_v19'. Build does not support Berkeley DB database format. (-18)\r\n```\r\n\r\nOtherwise it works, just some stylistic notes inline (e40896845a57bb5bf657f51dc007c6563e4ca22c).\r\n\r\n> 0.16 creating new wallets rather than testing the target wallets\r\n\r\nIs there an assert you can add in c31e0db7f4263096d503f07707af9d0a733e50da that would catch this directly? Right now a regression would be \"caught\" simply because it doesn't fail to load. Ideally we'd check this for every version before we dropped the \"just create a new one if it doesn't exist\" behavior was dropped.",
      "created_at" : "2023-07-14T20:06:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1636359937",
      "id" : 1636359937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585hiN8B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636359937/reactions"
      },
      "updated_at" : "2023-07-14T20:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636359937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264119254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264119254"
         }
      },
      "author_association" : "MEMBER",
      "body" : "0.18 is still tested, just not explicitly with its own special casing and variables.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T20:13:58Z",
      "diff_hunk" : "@@ -76,7 +76,6 @@ def run_test(self):\n         node_miner = self.nodes[0]\n         node_master = self.nodes[1]\n         node_v19 = self.nodes[self.num_nodes - 4]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264119254",
      "id" : 1264119254,
      "in_reply_to_id" : 1264084847,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWO3W",
      "original_commit_id" : "6a5d245b89c51a53989b984d31d7bb4d807837c3",
      "original_line" : 78,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1530966611,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264119254/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264119254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264136631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264136631"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, this is more correct. This behavior doesn't apply to all older versions, only to 0.16.x. Versions prior to this kept the wallet files in the main datadir. 0.16 added the wallet directory but the wallets are still per file. 0.17 moved wallets into the current one directory per wallet structure.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T20:24:47Z",
      "diff_hunk" : "@@ -158,34 +173,46 @@ def run_test(self):\n \n         # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = node_master.wallets_path\n-        node_v19_wallets_dir = node_v19.wallets_path\n-        node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n-\n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n+                if node.version == 160300:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264136631",
      "id" : 1264136631,
      "in_reply_to_id" : 1257851249,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWTG3",
      "original_commit_id" : "604440c0b86d1c5e5d359ababd23d3d2d07739e8",
      "original_line" : 183,
      "original_position" : 138,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1530995526,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264136631/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:24:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264136631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170579"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Instead of using magic numbers, I've changed the test to use helper functions that check the major version.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T20:57:40Z",
      "diff_hunk" : "@@ -192,52 +194,60 @@ def run_test(self):\n \n         self.test_v19_addmultisigaddress()\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Load modern wallet with older nodes\n-            for node in legacy_nodes:\n-                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                    if node.version < 170000:\n-                        # loadwallet was introduced in v0.17.0\n-                        continue\n-                    if node.version < 180000 and wallet_name == \"w3\":\n-                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n-                        continue\n-                    node.loadwallet(wallet_name)\n-                    wallet = node.get_wallet_rpc(wallet_name)\n-                    info = wallet.getwalletinfo()\n-                    if wallet_name == \"w1\":\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] > 0\n-                        txs = wallet.listtransactions()\n-                        assert_equal(len(txs), 5)\n-                        assert_equal(txs[1][\"txid\"], tx1_id)\n-                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-                        assert not txs[1][\"abandoned\"]\n-                        assert_equal(txs[1][\"confirmations\"], -1)\n-                        assert_equal(txs[2][\"blockindex\"], 1)\n-                        assert txs[3][\"abandoned\"]\n-                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-                        assert not hasattr(txs[3], \"blockindex\")\n-                    elif wallet_name == \"w2\":\n-                        assert info['private_keys_enabled'] == False\n-                        assert info['keypoolsize'] == 0\n-                    else:\n-                        assert info['private_keys_enabled'] == True\n-                        assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n+        self.log.info(\"Test that a wallet made on master can be opened on:\")\n+        # In descriptors wallet mode, run this test on the nodes that support descriptor wallets\n+        # In legacy wallets mode, run this test on the nodes that support legacy wallets\n+        for node in descriptors_nodes if self.options.descriptors else legacy_nodes:\n+            if node.version < 170000:\n+                # loadwallet was introduced in v0.17.0\n+                continue\n+            self.log.info(f\"- {node.version}\")\n+            for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                if node.version < 180000 and wallet_name == \"w3\":",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170579",
      "id" : 1264170579,
      "in_reply_to_id" : 1259013655,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWbZT",
      "original_commit_id" : "3e7bbf3a86c067427735ac30f8bbe496d61d5fb4",
      "original_line" : 206,
      "original_position" : 61,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1531038307,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170579/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:57:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-14T20:57:46Z",
      "diff_hunk" : "@@ -261,6 +261,12 @@ def run_test(self):\n             else:\n                 node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n \n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor\n+        if self.options.descriptors:\n+            self.log.info(\"Test that 0.21 cannot open wallet containing tr() descriptors\")\n+            node_v21 = self.nodes[-6]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264170660",
      "id" : 1264170660,
      "in_reply_to_id" : 1264088086,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LWbak",
      "original_commit_id" : "72362ed1fbbab9dfbaf224f930ed9b328f29c55f",
      "original_line" : 267,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1531038410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-14T20:57:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264170660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> [0ffa0f1](https://github.com/bitcoin/bitcoin/commit/0ffa0f1c370494b6b99a9cdf911b20ee655ac829) (and later) breaks at line line 96 when you run `wallet_backwards_compatibility.py --descriptors` without BDB:\r\n\r\nFixed\r\n\r\n> > 0.16 creating new wallets rather than testing the target wallets\r\n> \r\n> Is there an assert you can add in [c31e0db](https://github.com/bitcoin/bitcoin/commit/c31e0db7f4263096d503f07707af9d0a733e50da) that would catch this directly? Right now a regression would be \"caught\" simply because it doesn't fail to load. Ideally we'd check this for every version before we dropped the \"just create a new one if it doesn't exist\" behavior was dropped.\r\n\r\nWith the versions that have `loadwallet`, we catch that case by checking the contents of the wallet. The test previously wasn't doing that for 0.16 (it was actually one of the first things I changed before I realized there was an incompatibility).",
      "created_at" : "2023-07-14T21:01:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1636440917",
      "id" : 1636440917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585hihtV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636440917/reactions"
      },
      "updated_at" : "2023-07-14T21:01:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1636440917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264456268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264456268"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In df850c25:\r\nRemoved the only usage of the `nodes_wallet_dir` function but not the, now unused, function.",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-15T15:05:56Z",
      "diff_hunk" : "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264456268",
      "id" : 1264456268,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII585LXhJM",
      "original_commit_id" : "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "original_line" : 191,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 139,
      "pull_request_review_id" : 1531463402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264456268/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-15T15:31:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264456268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264460963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264460963"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In df850c25:\r\n\r\nCould simplify this:\r\n\r\n```suggestion\r\n            # Copy wallets to previous version\r\n            for wallet in os.listdir(node_master_wallets_dir):\r\n                source = node_master_wallets_dir / wallet\r\n                if self.major_version_equals(node, 16):\r\n                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\r\n                    source / \"wallet.dat\"\r\n                shutil.copytree(source, node.wallets_path / wallet)\r\n```",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-15T15:17:46Z",
      "diff_hunk" : "@@ -178,18 +178,25 @@ def run_test(self):\n         node_master_wallets_dir = node_master.wallets_path\n         node_v19_wallets_dir = node_v19.wallets_path\n         node_v17_wallets_dir = node_v17.wallets_path\n-        node_v16_wallets_dir = node_v16.chain_path\n+        node_v16_wallets_dir = node_v16.wallets_path\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n         node_master.unloadwallet(\"w3\")\n \n         for node in legacy_nodes:\n             # Copy wallets to previous version\n             for wallet in os.listdir(node_master_wallets_dir):\n-                shutil.copytree(\n-                    os.path.join(node_master_wallets_dir, wallet),\n-                    os.path.join(self.nodes_wallet_dir(node), wallet)\n-                )\n+                if self.major_version_equals(node, 16):\n+                    # 0.16 node expect the wallet to be in the wallet dir but as a plain file rather than in directories\n+                    shutil.copyfile(\n+                        node_master.wallets_path / wallet / \"wallet.dat\",\n+                        node.wallets_path / wallet,\n+                    )\n+                else:\n+                    shutil.copytree(\n+                        node_master_wallets_dir / wallet,\n+                        node.wallets_path / wallet,\n+                    )",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264460963",
      "id" : 1264460963,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585LXiSj",
      "original_commit_id" : "df850c257c77f86d2e05a1b6dd4d6baab2c2e61a",
      "original_line" : 199,
      "original_position" : 27,
      "original_start_line" : 187,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : null,
      "pull_request_review_id" : 1531463402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264460963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-15T15:31:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264460963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264468473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264468473"
         }
      },
      "author_association" : "MEMBER",
      "body" : "s/sinced/since",
      "commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "created_at" : "2023-07-15T15:40:07Z",
      "diff_hunk" : "@@ -208,130 +261,133 @@ def run_test(self):\n                     else:\n                         assert info['private_keys_enabled'] == True\n                         assert info['keypoolsize'] == 0\n-        else:\n-            for node in legacy_nodes:\n-                # Descriptor wallets appear to be corrupted wallets to old software\n-                # and loadwallet is introduced in v0.17.0\n-                if node.version >= 170000 and node.version < 210000:\n-                    for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n-                        assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n-        # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n-        # call failure, so the following test won't work:\n-        # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                    # Copy back to master\n+                    wallet.unloadwallet()\n+                    if n == node:\n+                        shutil.rmtree(node_master.wallets_path / wallet_name)\n+                        shutil.copytree(\n+                            n.wallets_path / wallet_name,\n+                            node_master.wallets_path / wallet_name,\n+                        )\n+\n+        # Check that descriptor wallets don't work on legacy only nodes\n+        if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility on:\")\n+            for node in legacy_only_nodes:\n+                # RPC loadwallet failure causes bitcoind to exit in <= 0.17, in addition to the RPC\n+                # call failure, so the following test won't work:\n+                # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n+                if self.major_version_less_than(node, 18):\n+                    continue\n+                self.log.info(f\"- {node.version}\")\n+                # Descriptor wallets appear to be corrupted wallets to old software\n+                assert self.major_version_at_least(node, 18) and self.major_version_less_than(node, 21)\n+                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                    assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n         # Instead, we stop node and try to launch it with the wallet:\n         self.stop_node(node_v17.index)\n         if self.options.descriptors:\n+            self.log.info(\"Test descriptor wallet incompatibility with 0.17\")\n             # Descriptor wallets appear to be corrupted wallets to old software\n             node_v17.assert_start_raises_init_error([\"-wallet=w1\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w2\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: wallet.dat corrupt, salvage failed\")\n         else:\n+            self.log.info(\"Test blank wallet incompatibility with v17\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n         self.start_node(node_v17.index)\n \n-        if not self.options.descriptors:\n-            # Descriptor wallets break compatibility, only run this test for legacy wallets\n-            # Open most recent wallet in v0.16 (no loadwallet RPC)\n-            self.restart_node(node_v16.index, extra_args=[\"-wallet=w2\"])\n-            wallet = node_v16.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['keypoolsize'] == 1\n-\n-        # Create upgrade wallet in v0.16\n-        self.restart_node(node_v16.index, extra_args=[\"-wallet=u1_v16\"])\n-        wallet = node_v16.get_wallet_rpc(\"u1_v16\")\n-        v16_addr = wallet.getnewaddress('', \"bech32\")\n-        v16_info = wallet.validateaddress(v16_addr)\n-        v16_pubkey = v16_info['pubkey']\n+        # No wallet created in master can be opened in 0.16\n+        self.log.info(\"Test that wallets created in master are too new for 0.16\")\n         self.stop_node(node_v16.index)\n+        for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+            if self.options.descriptors:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: {wallet_name} corrupt, salvage failed\")\n+            else:\n+                node_v16.assert_start_raises_init_error([f\"-wallet={wallet_name}\"], f\"Error: Error loading {wallet_name}: Wallet requires newer version of Bitcoin Core\")\n+\n+        # When descriptors are enabled, w1 cannot be opened by 0.21 sinced it contains a taproot descriptor",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#discussion_r1264468473",
      "id" : 1264468473,
      "line" : 311,
      "node_id" : "PRRC_kwDOABII585LXkH5",
      "original_commit_id" : "91f47e676ae3f131e7cecae9b5b5e50b358e9b32",
      "original_line" : 311,
      "original_position" : 266,
      "original_start_line" : null,
      "path" : "test/functional/wallet_backwards_compatibility.py",
      "position" : 266,
      "pull_request_review_id" : 1531492859,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28027",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264468473/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-15T15:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1264468473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 91f47e676ae3f131e7cecae9b5b5e50b358e9b32\r\n\r\nAlso tested that reverting 6a9510d2dabde1c9ee6c4226e3d16ca32eb48ac5 causes the test to fail when it tries to load the wallet in master after having loaded it in v25 (`Wallet corrupted`).",
      "created_at" : "2023-07-28T13:12:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1655662987",
      "id" : 1655662987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585ir2mL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655662987/reactions"
      },
      "updated_at" : "2023-07-28T13:12:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655662987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK afd9a673c458e97305da49a70a1ddbf60e651876",
      "created_at" : "2023-10-05T07:46:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28027#issuecomment-1748297694",
      "id" : 1748297694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28027",
      "node_id" : "IC_kwDOABII585oNOfe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1748297694/reactions"
      },
      "updated_at" : "2023-10-05T07:46:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1748297694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   }
]
