{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Current behaviour\r\n\r\n\"Local addresses\" section of \"netinfo\" does not show the IPv6 addresses added using  \"externalip\" config option. (Probably there is no announce of this addresses).\r\nBitnodes.io show the version string of all IPs, but after put many of the IPv6 on active monitoring, only the first one specified with \"externalip\" are \"UP\" and the others are \"UNREACHABLE\".\r\n(These are not my real addresses).\r\n\r\nroot@debianpc:~# bitcoin-cli -netinfo\r\n`  Bitcoin Core client v27.0.0 - server 70016/Satoshi:27.0.0/\r\n\r\n\r\n         ipv4   onion     i2p     npr   total   block\r\n    in          0       1       0       7       8\r\n    out         6       3       1       0      10       2\r\n    total       6       4       1       7      18\r\n\r\n  Local addresses\r\n  143.22.123.17                                                     port   8333    score     27\r\n  qsddczpwthdeddm3viv4brhxbbxdm5eh5ywasdfmmaefctwrrgjdw5hmid.onion     port   8333    score      4\r\n  awxyf6dvprtsssixojegfwjdn5xka62kpxecbwdovk23ohpqm.b32.i2p       port      0    score      4\r\n`\r\n\r\n### Expected behaviour\r\n\r\nroot@debianpc:~# bitcoin-cli -netinfo\r\n`  Bitcoin Core client v27.0.0 - server 70016/Satoshi:27.0.0/\r\n  \r\n         ipv4   onion     i2p     npr   total   block\r\n    in          0       1       0       7       8\r\n    out         6       3       1       0      10       2\r\n    total       6       4       1       7      18\r\n\r\n  Local addresses\r\n  143.22.123.17                                                       port   8333    score     27\r\n  2006:f10:0:aa::234                                                port   8333    score     16\r\n  2006:f10:0:aa::111                                                port   8333    score     16\r\n  qsddczpwthdeddm3viv4brhxbbxdm5eh5ywasdfmmaefctwrrgjdw5hmid.onion     port   8333    score      4\r\n  awxyf6dvprtsssixojegfwjdn5xka62kpxecbwdovk23ohpqm.b32.i2p       port      0    score      4\r\n`\r\n\r\n### Steps to reproduce\r\n\r\nThis is a very specific setup:\r\n1. In a machine A with no public IPv4 nor IPv6 address, start bitcoind with these options:\r\n\r\n #a public ipv4 and ipv6 address of another machine, let's say machine B\r\nexternalip=143.22.123.17 \r\nexternalip=qsddczpwthdeddm3viv4brhxbbxdm5eh5ywasdfmmaefctwrrgjdw5hmid.onion\r\nexternalip=2006:f10:0:aa::234\r\nexternalip=2006:f10:0:aa::111\r\n\r\n2. Now establish a reverse ssh tunnel from machine A to B\r\non machine A, run:\r\n autossh -N -f -o \"ExitOnForwardFailure=yes\" -o \"ServerAliveInterval=10\" -o \"ServerAliveCountMax=3\" -R 143.22.123.17:8333:127.0.0.1:8333 root@IP_machine_B\r\n\r\n3. Test all the externalip's using bitnodes.io, they shoud be reachable on the default port now. This configuration should provide IPv6 connectivity to the local node and the -netinfo should show the IPv6 announced using externalip config option (like it did with the public IPv4 specified).\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### How did you obtain Bitcoin Core\r\n\r\nPre-built binaries\r\n\r\n### What version of Bitcoin Core are you using?\r\n\r\nv27.0.0\r\n\r\n### Operating system and version\r\n\r\nDebian 11\r\n\r\n### Machine specifications\r\n\r\n_No response_",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165/comments",
   "created_at" : "2024-05-24T02:00:18Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/30165",
   "id" : 2314165065,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII586J71tJ",
   "number" : 30165,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165/timeline",
   "title" : "\"netinfo\" doesn't show IPv6 \"Local addresses\"",
   "updated_at" : "2024-05-24T02:47:19Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/8680067?v=4",
      "events_url" : "https://api.github.com/users/lcharles123/events{/privacy}",
      "followers_url" : "https://api.github.com/users/lcharles123/followers",
      "following_url" : "https://api.github.com/users/lcharles123/following{/other_user}",
      "gists_url" : "https://api.github.com/users/lcharles123/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/lcharles123",
      "id" : 8680067,
      "login" : "lcharles123",
      "node_id" : "MDQ6VXNlcjg2ODAwNjc=",
      "organizations_url" : "https://api.github.com/users/lcharles123/orgs",
      "received_events_url" : "https://api.github.com/users/lcharles123/received_events",
      "repos_url" : "https://api.github.com/users/lcharles123/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/lcharles123/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/lcharles123/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/lcharles123"
   }
}
