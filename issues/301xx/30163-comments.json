[
   {
      "author_association" : "MEMBER",
      "body" : "Using the same blocksdir for two different nodes is not supported. Nodes may download blocks in a different order and save them to different locations in the blocksfiles. This will lead to an error at some point, latest when one of the nodes can't find a block where it believes to be one.\r\n\r\nCurrently, I don't think what you are trying to achieve is possible without copying blocks.\r\n\r\n> If bitcoin-core assumes pruning to be enabled by default, at least it should have asked for confirmation to delete blocks it did not download.\r\n\r\nI don't think pruning is enabled by default. It would be a bug if it was.",
      "created_at" : "2024-05-23T18:40:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30163#issuecomment-2127810175",
      "id" : 2127810175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30163",
      "node_id" : "IC_kwDOABII585-085_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2127810175/reactions"
      },
      "updated_at" : "2024-05-23T18:40:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2127810175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Using the same blocksdir for two different nodes is not supported. Nodes may download blocks in a different order and save them to different locations in the blocksfiles. This will lead to an error at some point, latest when one of the nodes can't find a block where it believes to be one.\r\n> \r\n> Currently, I don't think what you are trying to achieve is possible without copying blocks.\r\n> \r\nHm, my experience differs: using this regularly and never ran into issues. Since the external HDD contains fully downloaded and validated blockchain, there is not much to dissent between different nodes besides the very last potentially incomplete block. There is this tool (https://github.com/bitcoin-core/bitcoin-maintainer-tools/blob/main/fastcopy-chaindata.py) which works with hardlinks but can't be used over filesystem boundaries - but generally it is possible.\r\n\r\n> > If bitcoin-core assumes pruning to be enabled by default, at least it should have asked for confirmation to delete blocks it did not download.\r\n> \r\n> I don't think pruning is enabled by default. It would be a bug if it was.\r\n\r\nMaybe problem is, I started bitcoin-core.qt first, which found my local SSD has insufficient space for the full blockchain and hence wrote a prune-enabled config, which I did not check when softlinking to my external blockchain. So I learned something for the price of a 2-day-IBD.\r\n\r\nProposal: don't prune if blocksdir is defined - or at least document that if pruning is enabled your externally kept blockchain will get deleted.",
      "created_at" : "2024-05-24T09:09:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30163#issuecomment-2129025083",
      "id" : 2129025083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30163",
      "node_id" : "IC_kwDOABII585-5lg7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2129025083/reactions"
      },
      "updated_at" : "2024-05-24T09:09:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2129025083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1355386?v=4",
         "events_url" : "https://api.github.com/users/zefir-k/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zefir-k/followers",
         "following_url" : "https://api.github.com/users/zefir-k/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zefir-k/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zefir-k",
         "id" : 1355386,
         "login" : "zefir-k",
         "node_id" : "MDQ6VXNlcjEzNTUzODY=",
         "organizations_url" : "https://api.github.com/users/zefir-k/orgs",
         "received_events_url" : "https://api.github.com/users/zefir-k/received_events",
         "repos_url" : "https://api.github.com/users/zefir-k/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zefir-k/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zefir-k/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zefir-k"
      }
   }
]
