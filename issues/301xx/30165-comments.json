[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Can you post the result of running `./src/bitcoin-cli getnetworkinfo` on your machine (with the same modified IPs as above)?  This is the information that `-netinfo` uses to fetch the local addresses.",
      "created_at" : "2024-05-24T02:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30165#issuecomment-2128362673",
      "id" : 2128362673,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165",
      "node_id" : "IC_kwDOABII585-3Dyx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2128362673/reactions"
      },
      "updated_at" : "2024-05-24T02:18:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2128362673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "root@debianpc:~# bcli getnetworkinfo\r\n{\r\n  \"version\": 270000,\r\n  \"subversion\": \"/Satoshi:27.0.0/\",\r\n  \"protocolversion\": 70016,\r\n  \"localservices\": \"0000000000000c09\",\r\n  \"localservicesnames\": [\r\n    \"NETWORK\",\r\n    \"WITNESS\",\r\n    \"NETWORK_LIMITED\",\r\n    \"P2P_V2\"\r\n  ],\r\n  \"localrelay\": true,\r\n  \"timeoffset\": -8,\r\n  \"networkactive\": true,\r\n  \"connections\": 68,\r\n  \"connections_in\": 58,\r\n  \"connections_out\": 10,\r\n  \"networks\": [\r\n    {\r\n      \"name\": \"ipv4\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"ipv6\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"onion\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:9050\",\r\n      \"proxy_randomize_credentials\": true\r\n    },\r\n    {\r\n      \"name\": \"i2p\",\r\n      \"limited\": false,\r\n      \"reachable\": true,\r\n      \"proxy\": \"127.0.0.1:7656\",\r\n      \"proxy_randomize_credentials\": false\r\n    },\r\n    {\r\n      \"name\": \"cjdns\",\r\n      \"limited\": true,\r\n      \"reachable\": false,\r\n      \"proxy\": \"\",\r\n      \"proxy_randomize_credentials\": false\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00001000,\r\n  \"incrementalfee\": 0.00001000,\r\n  \"localaddresses\": [\r\n    {\r\n      \"address\": \"143.22.123.17\",\r\n      \"port\": 8333,\r\n      \"score\": 127\r\n    },\r\n    {\r\n      \"address\": \"qsddczpwthdeddm3viv4brhxbbxdm5eh5ywasdfmmaefctwrrgjdw5hmid.onion\",\r\n      \"port\": 8333,\r\n      \"score\": 4\r\n    },\r\n    {\r\n      \"address\": \"awxyf6dvprtsssixojegfwjdn5xka62kpxecbwdovk23ohpqm.b32.i2p\",\r\n      \"port\": 0,\r\n      \"score\": 4\r\n    }\r\n  ],\r\n  \"warnings\": \"\"\r\n}\r\n",
      "created_at" : "2024-05-24T02:20:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30165#issuecomment-2128367476",
      "id" : 2128367476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165",
      "node_id" : "IC_kwDOABII585-3E90",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2128367476/reactions"
      },
      "updated_at" : "2024-05-24T02:20:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2128367476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8680067?v=4",
         "events_url" : "https://api.github.com/users/lcharles123/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lcharles123/followers",
         "following_url" : "https://api.github.com/users/lcharles123/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lcharles123/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lcharles123",
         "id" : 8680067,
         "login" : "lcharles123",
         "node_id" : "MDQ6VXNlcjg2ODAwNjc=",
         "organizations_url" : "https://api.github.com/users/lcharles123/orgs",
         "received_events_url" : "https://api.github.com/users/lcharles123/received_events",
         "repos_url" : "https://api.github.com/users/lcharles123/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lcharles123/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lcharles123/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lcharles123"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @lcharles123 for the info.\r\n\r\n> \"Local addresses\" section of \"netinfo\" does not show the IPv6 addresses added using \"externalip\" config option. (Probably there is no announce of this addresses).\r\n\r\nCLI `-netinfo` will only return the local addresses that are returned by RPC `getnetworkinfo`, as under the hood, -netinfo calls getnetworkinfo to fetch that info.\r\n\r\nOf the networks getnetworkinfo returns to you, IPv6 (and CJDNS, which is an IPv6 overlay network) are not reachable, which is why -netinfo isn't showing `ipv6` and `cjdns` columns. \r\n\r\nPerhaps IPv6 is blocked at some level in your environment, or the IPv6 IP needs to be specified in your ssh tunnel, I don't know.\r\n\r\nEdit: probably not the issue, but did you try using the -discover config option?\r\n\r\n> Bitnodes.io show the version string of all IPs, but after put many of the IPv6 on active monitoring, only the first one specified with \"externalip\" are \"UP\" and the others are \"UNREACHABLE\".\r\n\r\nYou may set multiple local addresses with -externalip, but the one bitcoind rumors to a particular peer will be the most compatible address (with some additional heuristics).\r\n",
      "created_at" : "2024-05-24T16:00:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30165#issuecomment-2129888738",
      "id" : 2129888738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165",
      "node_id" : "IC_kwDOABII585-84Xi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2129888738/reactions"
      },
      "updated_at" : "2024-05-24T16:06:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2129888738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Edit: probably not the issue, but did you try using the -discover config option?\r\n\r\nYes, but the addresses are unreachable anyway in local network, because the node are IPv4 only (and behind NAT).\r\n\r\nI guess I found the cause, because function `AddLocal` checks for connectivity on each -externalip entry using local interfaces, for IPv4 and others, its easy because it takes the normal way to the address. But there is no solution to reach v6 addresses on a machine v4 only without some config and external service. So a good modification on the code to allow adding the local v6 address can not be made. Or there is another way? ",
      "created_at" : "2024-05-25T02:44:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30165#issuecomment-2130694823",
      "id" : 2130694823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30165",
      "node_id" : "IC_kwDOABII585-_9Kn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2130694823/reactions"
      },
      "updated_at" : "2024-05-25T02:44:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2130694823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8680067?v=4",
         "events_url" : "https://api.github.com/users/lcharles123/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lcharles123/followers",
         "following_url" : "https://api.github.com/users/lcharles123/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lcharles123/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lcharles123",
         "id" : 8680067,
         "login" : "lcharles123",
         "node_id" : "MDQ6VXNlcjg2ODAwNjc=",
         "organizations_url" : "https://api.github.com/users/lcharles123/orgs",
         "received_events_url" : "https://api.github.com/users/lcharles123/received_events",
         "repos_url" : "https://api.github.com/users/lcharles123/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lcharles123/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lcharles123/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lcharles123"
      }
   }
]
