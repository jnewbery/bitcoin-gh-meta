[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30130).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Approach ACK | [AngusP](https://github.com/bitcoin/bitcoin/pull/30130#pullrequestreview-2064943454) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-05-17T16:10:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#issuecomment-2117928697",
      "id" : 2117928697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30130",
      "node_id" : "IC_kwDOABII585-PQb5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117928697/reactions"
      },
      "updated_at" : "2024-05-18T20:08:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117928697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed so that the commit message is the same as the PR title.",
      "created_at" : "2024-05-17T16:11:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#issuecomment-2117932334",
      "id" : 2117932334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30130",
      "node_id" : "IC_kwDOABII585-PRUu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117932334/reactions"
      },
      "updated_at" : "2024-05-17T16:11:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117932334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "A small caveat: I couldn't get rid of the `Could not satisfy difficulty target` message (see the debug log just before timestamp `2024-05-17 12:56:01`). This is emitted by `bitcoin-util` itself before failing. I could not find a way to make the Python script intercept that to keep the terminal clean. I fear the complexity to achieve such an effect would not justify the benefit.",
      "created_at" : "2024-05-17T16:33:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#issuecomment-2117967175",
      "id" : 2117967175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30130",
      "node_id" : "IC_kwDOABII585-PZ1H",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117967175/reactions"
      },
      "updated_at" : "2024-05-17T20:27:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2117967175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1605888170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605888170"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: given this is a debug log message and you're \"expecting\" this exception, I'm not sure it makes sense to include the word `exception`? Implies something went wrong.\r\n\r\n```suggestion\r\n            logging.debug('grind subprocess: {}'.format(e))\r\n```\r\n\r\nnit-ier: could use a shorter `f` string:\r\n\r\n```suggestion\r\n            logging.debug(f'grind subprocess: {e}')\r\n```",
      "commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "created_at" : "2024-05-18T19:48:12Z",
      "diff_hunk" : "@@ -406,16 +408,33 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            logging.debug('subprocess exception: {}'.format(e))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1605888170",
      "id" : 1605888170,
      "line" : 427,
      "node_id" : "PRRC_kwDOABII585ft-iq",
      "original_commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "original_line" : 427,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 62,
      "pull_request_review_id" : 2064943454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605888170/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-18T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605888170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1605890224"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605890224"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `subprocess.CalledProcessError` could contain the stderr&out and the return code -- given there are a couple of other cases where `bitcoin-util grind` can fail, it might be good to check we actually hit an exhaustion rather than the block header decode issue to prevent many retries when something else is wrong (even if in a rare/\"should never happen\" case)?\r\n\r\n```suggestion\r\n            if e.returncode == 1 and \"Could not satisfy difficulty target\" in e.stderr.decode(\"utf-8\"):\r\n                retries += 1\r\n            else:\r\n                raise\r\n```\r\n\r\n(Maybe don't need/want to check the return code)\r\n\r\nYou'd also need to change `stdout=subprocess.PIPE` to `capture_output=True` for these to be set on the exception `e`:\r\n\r\n```diff\r\ndiff --git a/contrib/signet/miner b/contrib/signet/miner\r\nindex 31035a5525..e50301639e 100755\r\n--- a/contrib/signet/miner\r\n+++ b/contrib/signet/miner\r\n@@ -105,7 +105,7 @@ def finish_block(block, signet_solution, grind_cmd):\r\n         headhex = CBlockHeader.serialize(block).hex()\r\n         logging.debug('grinding headhex: {}'.format(headhex))\r\n         cmd = grind_cmd.split(\" \") + [headhex]\r\n-        newheadhex = subprocess.run(cmd, stdout=subprocess.PIPE, input=b\"\", check=True).stdout.strip()\r\n+        newheadhex = subprocess.run(cmd, capture_output=True, input=b\"\", check=True).stdout.strip()\r\n         newhead = from_hex(CBlockHeader(), newheadhex.decode('utf8'))\r\n         block.nNonce = newhead.nNonce\r\n         block.rehash()\r\n```\r\n\r\n(untested with this script but I've checked a toy example so fairly sure this would work)",
      "commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "created_at" : "2024-05-18T20:04:27Z",
      "diff_hunk" : "@@ -406,16 +408,33 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            logging.debug('subprocess exception: {}'.format(e))\n+            logging.debug('finish_block failed, retrying')\n+            retries += 1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1605890224",
      "id" : 1605890224,
      "line" : 429,
      "node_id" : "PRRC_kwDOABII585ft_Cw",
      "original_commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "original_line" : 429,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 64,
      "pull_request_review_id" : 2064943454,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605890224/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-18T20:07:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1605890224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607048554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607048554"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll mark those as resolved since I simplified the strings in a reviewed commit. Turns out that the script is using this style all over: `logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)`",
      "commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "created_at" : "2024-05-20T17:21:55Z",
      "diff_hunk" : "@@ -406,16 +408,33 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            logging.debug('subprocess exception: {}'.format(e))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607048554",
      "id" : 1607048554,
      "in_reply_to_id" : 1605888170,
      "line" : 427,
      "node_id" : "PRRC_kwDOABII585fyZ1q",
      "original_commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "original_line" : 427,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 62,
      "pull_request_review_id" : 2066662280,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607048554/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-20T17:21:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607048554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607049322"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607049322"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, that did the job indeed.",
      "commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "created_at" : "2024-05-20T17:22:45Z",
      "diff_hunk" : "@@ -406,16 +408,33 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            logging.debug('subprocess exception: {}'.format(e))\n+            logging.debug('finish_block failed, retrying')\n+            retries += 1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607049322",
      "id" : 1607049322,
      "in_reply_to_id" : 1605890224,
      "line" : 429,
      "node_id" : "PRRC_kwDOABII585fyaBq",
      "original_commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "original_line" : 429,
      "original_position" : 64,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 64,
      "pull_request_review_id" : 2066663474,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607049322/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-20T17:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607049322",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the review, @AngusP. Your suggestion did the trick, indeed.\r\n\r\n<details>\r\n  <summary>Log from mining two blocks. The first exhausted the grinder search space. The second didn't.</summary>\r\n\r\n```bash\r\n2024-05-20 15:05:53 INFO Mined block at height 10142; next in -464h55m33s (mine)\r\n2024-05-20 15:05:53 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockchaininfo']\r\n2024-05-20 15:05:53 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockheader', '00000002135f8a02a04fd924c9e02901bf1682c4992988e2873450a955088f60']\r\n2024-05-20 15:05:53 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblocktemplate', '{\"rules\":[\"signet\",\"segwit\"]}']\r\n2024-05-20 15:05:53 DEBUG GBT template: {'capabilities': ['proposal'], 'version': 536870912, 'rules': ['csv', '!segwit', '!signet', 'taproot'], 'vbavailable': {}, 'vbrequired': 0, 'previousblockhash': '00000002135f8a02a04fd924c9e02901bf1682c4992988e2873450a955088f60', 'transactions': [], 'coinbaseaux': {}, 'coinbasevalue': 5000000000, 'longpollid': '00000002135f8a02a04fd924c9e02901bf1682c4992988e2873450a955088f6064', 'target': '0000000377ac0000000000000000000000000000000000000000000000000000', 'mintime': 1714553720, 'mutable': ['time', 'transactions', 'prevblock'], 'noncerange': '00000000ffffffff', 'sigoplimit': 80000, 'sizelimit': 4000000, 'weightlimit': 4000000, 'curtime': 1716228353, 'bits': '1d0377ac', 'height': 10143, 'signet_challenge': '0014f64c3c86285a5a14521fc05fd7e599a13f953350', 'default_witness_commitment': '6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9'}\r\n2024-05-20 15:05:53 DEBUG Mining block delta=2m30s start=1714554619 mine=True\r\n2024-05-20 15:05:53 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'walletprocesspsbt']\r\n2024-05-20 15:05:53 DEBUG grinding headhex: 00000020608f0855a9503487e2882999c48216bf0129e0c924d94fa0028a5f130200000063a1ad7c6fb413991c25e793160cdd4a3c3ef5681252711fb984a822b07ed2c6fb063266ac77031d00000000\r\n2024-05-20 15:10:36 DEBUG grinder exhausted the nonce search space, retrying with new block header\r\n2024-05-20 15:10:36 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockchaininfo']\r\n2024-05-20 15:10:36 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblocktemplate', '{\"rules\":[\"signet\",\"segwit\"]}']\r\n2024-05-20 15:10:36 DEBUG GBT template: {'capabilities': ['proposal'], 'version': 536870912, 'rules': ['csv', '!segwit', '!signet', 'taproot'], 'vbavailable': {}, 'vbrequired': 0, 'previousblockhash': '00000002135f8a02a04fd924c9e02901bf1682c4992988e2873450a955088f60', 'transactions': [], 'coinbaseaux': {}, 'coinbasevalue': 5000000000, 'longpollid': '00000002135f8a02a04fd924c9e02901bf1682c4992988e2873450a955088f6064', 'target': '0000000377ac0000000000000000000000000000000000000000000000000000', 'mintime': 1714553720, 'mutable': ['time', 'transactions', 'prevblock'], 'noncerange': '00000000ffffffff', 'sigoplimit': 80000, 'sizelimit': 4000000, 'weightlimit': 4000000, 'curtime': 1716228636, 'bits': '1d0377ac', 'height': 10143, 'signet_challenge': '0014f64c3c86285a5a14521fc05fd7e599a13f953350', 'default_witness_commitment': '6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9'}\r\n2024-05-20 15:10:36 DEBUG Mining block delta=2m31s start=1714554620 mine=True\r\n2024-05-20 15:10:36 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'walletprocesspsbt']\r\n2024-05-20 15:10:36 DEBUG grinding headhex: 00000020608f0855a9503487e2882999c48216bf0129e0c924d94fa0028a5f1302000000891fb5f93c91c9ffbe1cfcfd31f0c1cbce05ad41a9cd7c6f9da5cfa7efc36814fc063266ac77031d00000000\r\n2024-05-20 15:11:42 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'submitblock']\r\n2024-05-20 15:11:42 DEBUG Block hash 00000000bd1904f056ab49c086438fdc779f8249219dd99ce92218dacc9045a3 payout to tb1qylfujt900rjxzfxjj7sktpu7dpm2n9j60ch7jt\r\n2024-05-20 15:11:42 INFO Mined block at height 10143; next in -464h58m52s (mine)\r\n2024-05-20 15:11:42 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockchaininfo']\r\n2024-05-20 15:11:42 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockheader', '00000000bd1904f056ab49c086438fdc779f8249219dd99ce92218dacc9045a3']\r\n2024-05-20 15:11:42 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblocktemplate', '{\"rules\":[\"signet\",\"segwit\"]}']\r\n2024-05-20 15:11:42 DEBUG GBT template: {'capabilities': ['proposal'], 'version': 536870912, 'rules': ['csv', '!segwit', '!signet', 'taproot'], 'vbavailable': {}, 'vbrequired': 0, 'previousblockhash': '00000000bd1904f056ab49c086438fdc779f8249219dd99ce92218dacc9045a3', 'transactions': [], 'coinbaseaux': {}, 'coinbasevalue': 5000000000, 'longpollid': '00000000bd1904f056ab49c086438fdc779f8249219dd99ce92218dacc9045a365', 'target': '0000000377ac0000000000000000000000000000000000000000000000000000', 'mintime': 1714553870, 'mutable': ['time', 'transactions', 'prevblock'], 'noncerange': '00000000ffffffff', 'sigoplimit': 80000, 'sizelimit': 4000000, 'weightlimit': 4000000, 'curtime': 1716228702, 'bits': '1d0377ac', 'height': 10144, 'signet_challenge': '0014f64c3c86285a5a14521fc05fd7e599a13f953350', 'default_witness_commitment': '6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9'}\r\n2024-05-20 15:11:42 DEBUG Mining block delta=2m30s start=1714554770 mine=True\r\n2024-05-20 15:11:42 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'walletprocesspsbt']\r\n2024-05-20 15:11:42 DEBUG grinding headhex: 00000020a34590ccda1822e99cd99d2149829f77dc8f4386c049ab56f00419bd00000000868b1b8cf4e05c4691a2b8e09b7e8eacac344de1a5aa8b00cbd9ca4ebbb5fd1492073266ac77031d00000000\r\n2024-05-20 15:15:10 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'submitblock']\r\n2024-05-20 15:15:10 DEBUG Block hash 000000010a8e7590525e9b727d118dfd07add9e7a6b1cc7e176449319a8b5c35 payout to tb1qylfujt900rjxzfxjj7sktpu7dpm2n9j60ch7jt\r\n2024-05-20 15:15:10 INFO Mined block at height 10144; next in -464h59m50s (mine)\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n  <summary>Mining interrupted with SIGINT.</summary>\r\n\r\n```bash\r\n2024-05-20 15:19:39 INFO Mined block at height 10156; next in -464h34m19s (mine)\r\n2024-05-20 15:19:39 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockchaininfo']\r\n2024-05-20 15:19:39 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockheader', '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d97']\r\n2024-05-20 15:19:39 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblocktemplate', '{\"rules\":[\"signet\",\"segwit\"]}']\r\n2024-05-20 15:19:39 DEBUG GBT template: {'capabilities': ['proposal'], 'version': 536870912, 'rules': ['csv', '!segwit', '!signet', 'taproot'], 'vbavailable': {}, 'vbrequired': 0, 'previousblockhash': '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d97', 'transactions': [], 'coinbaseaux': {}, 'coinbasevalue': 5000000000, 'longpollid': '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d9778', 'target': '0000000377ac0000000000000000000000000000000000000000000000000000', 'mintime': 1714555821, 'mutable': ['time', 'transactions', 'prevblock'], 'noncerange': '00000000ffffffff', 'sigoplimit': 80000, 'sizelimit': 4000000, 'weightlimit': 4000000, 'curtime': 1716229179, 'bits': '1d0377ac', 'height': 10157, 'signet_challenge': '0014f64c3c86285a5a14521fc05fd7e599a13f953350', 'default_witness_commitment': '6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9'}\r\n2024-05-20 15:19:39 DEBUG Mining block delta=2m30s start=1714556720 mine=True\r\n2024-05-20 15:19:39 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'walletprocesspsbt']\r\n2024-05-20 15:19:39 DEBUG grinding headhex: 00000020977d867c7de3682308149efc54a6fc7f0579c22adba2e2e3c6441d980100000027a2307dc3799e62088c8aec04cb69018572135edf9db5f3daee4ebfd6f79daf300f3266ac77031d00000000\r\n^C2024-05-20 15:19:50 DEBUG mining aborted by the user\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n  <summary>Killing bitcoin-util to simulate an unrecoverable failure</summary>\r\n\r\n```bash\r\nâ¯ $BTC_PATH/../contrib/signet/miner --debug --cli \"$BTC_PATH/bitcoin-cli -datadir=$DATADIR_PATH\" generate --address $MINER_ADDR --grind-cmd \"$BTC_PATH/bitcoin-util grind\" --nbits $NBITS --ongoing\r\n2024-05-20 15:20:06 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockchaininfo']\r\n2024-05-20 15:20:06 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblockheader', '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d97']\r\n2024-05-20 15:20:06 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getblocktemplate', '{\"rules\":[\"signet\",\"segwit\"]}']\r\n2024-05-20 15:20:06 DEBUG GBT template: {'capabilities': ['proposal'], 'version': 536870912, 'rules': ['csv', '!segwit', '!signet', 'taproot'], 'vbavailable': {}, 'vbrequired': 0, 'previousblockhash': '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d97', 'transactions': [], 'coinbaseaux': {}, 'coinbasevalue': 5000000000, 'longpollid': '00000001981d44c6e3e2a2db2ac279057ffca654fc9e14082368e37d7c867d9778', 'target': '0000000377ac0000000000000000000000000000000000000000000000000000', 'mintime': 1714555821, 'mutable': ['time', 'transactions', 'prevblock'], 'noncerange': '00000000ffffffff', 'sigoplimit': 80000, 'sizelimit': 4000000, 'weightlimit': 4000000, 'curtime': 1716229206, 'bits': '1d0377ac', 'height': 10157, 'signet_challenge': '0014f64c3c86285a5a14521fc05fd7e599a13f953350', 'default_witness_commitment': '6a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf9'}\r\n2024-05-20 15:20:06 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', 'getaddressinfo', 'tb1qylfujt900rjxzfxjj7sktpu7dpm2n9j60ch7jt']\r\n2024-05-20 15:20:06 DEBUG Mining block delta=2m30s start=1714556720 mine=True\r\n2024-05-20 15:20:06 DEBUG Calling bitcoin-cli: ['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-cli', '-datadir=/Users/jose.edil/2-development/bitcoin/signet-mining-experiments/signet-fix-hashing', '-signet', '-stdin', 'walletprocesspsbt']\r\n2024-05-20 15:20:06 DEBUG grinding headhex: 00000020977d867c7de3682308149efc54a6fc7f0579c22adba2e2e3c6441d980100000027a2307dc3799e62088c8aec04cb69018572135edf9db5f3daee4ebfd6f79daf300f3266ac77031d00000000\r\nTraceback (most recent call last):\r\n  File \"/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/../contrib/signet/miner\", line 567, in <module>\r\n    main()\r\n  File \"/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/../contrib/signet/miner\", line 561, in main\r\n    return args.fn(args)\r\n           ^^^^^^^^^^^^^\r\n  File \"/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/../contrib/signet/miner\", line 433, in do_generate\r\n    raise e\r\n  File \"/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/../contrib/signet/miner\", line 425, in do_generate\r\n    block = finish_block(block, signet_solution, args.grind_cmd)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/../contrib/signet/miner\", line 108, in finish_block\r\n    newheadhex = subprocess.run(cmd, capture_output=True, input=b\"\", check=True).stdout.strip()\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py\", line 571, in run\r\n    raise CalledProcessError(retcode, process.args,\r\nsubprocess.CalledProcessError: Command '['/Users/jose.edil/2-development/bitcoin/bitcoin-core/src/bitcoin-util', 'grind', '00000020977d867c7de3682308149efc54a6fc7f0579c22adba2e2e3c6441d980100000027a2307dc3799e62088c8aec04cb69018572135edf9db5f3daee4ebfd6f79daf300f3266ac77031d00000000']' died with <Signals.SIGTERM: 15>.\r\n```\r\n\r\n</details>",
      "created_at" : "2024-05-20T18:29:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#issuecomment-2120983038",
      "id" : 2120983038,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30130",
      "node_id" : "IC_kwDOABII585-a6H-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2120983038/reactions"
      },
      "updated_at" : "2024-05-20T18:29:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2120983038",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607133058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607133058"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah yes, I feel I should've remembered that ð it's usually considered correct-est to use the `%` formatting in log messages because that formatted string is only actually created if the message will be logged based on log-level, vs `f\"` or `.format` or `\" % ...` which are always created. Others may consider that premature optimisation if string-formatting due to logging has negligible perf impact ð",
      "commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "created_at" : "2024-05-20T18:35:49Z",
      "diff_hunk" : "@@ -406,16 +408,33 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            logging.debug('subprocess exception: {}'.format(e))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1607133058",
      "id" : 1607133058,
      "in_reply_to_id" : 1605888170,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585fyueC",
      "original_commit_id" : "67fbf378ab577742a29d269b5fef2394dcd64cf7",
      "original_line" : 427,
      "original_position" : 62,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : null,
      "pull_request_review_id" : 2066789703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607133058/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-20T18:35:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1607133058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608940916"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608940916"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry style nit here and later on, should use `\"` not `'` for strings (judging by the rest of the file) and `%` formatting for logging\r\n```suggestion\r\n        logging.debug(\"grinding headhex: %s\", headhex)\r\n```",
      "commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "created_at" : "2024-05-21T20:55:21Z",
      "diff_hunk" : "@@ -103,8 +103,9 @@ def finish_block(block, signet_solution, grind_cmd):\n         block.solve()\n     else:\n         headhex = CBlockHeader.serialize(block).hex()\n+        logging.debug('grinding headhex: {}'.format(headhex))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608940916",
      "id" : 1608940916,
      "line" : 106,
      "node_id" : "PRRC_kwDOABII585f5n10",
      "original_commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "original_line" : 106,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 4,
      "pull_request_review_id" : 2069607288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608940916/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-21T20:56:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608940916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608941385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941385"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n                logging.debug(\"grinder exhausted the nonce search space, retrying with new block header\")\r\n```",
      "commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "created_at" : "2024-05-21T20:55:50Z",
      "diff_hunk" : "@@ -406,16 +408,36 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            # Look for the return code and output message raised by bitcoin-util\n+            if e.returncode == 1 and \"Could not satisfy difficulty target\" in e.stderr.decode(\"utf-8\"):\n+                logging.debug('grinder exhausted the nonce search space, retrying with new block header')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608941385",
      "id" : 1608941385,
      "line" : 429,
      "node_id" : "PRRC_kwDOABII585f5n9J",
      "original_commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "original_line" : 429,
      "original_position" : 67,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 67,
      "pull_request_review_id" : 2069607288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941385/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-21T20:56:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608941525"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941525"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n            logging.debug(\"mining aborted by the user\")\r\n```",
      "commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "created_at" : "2024-05-21T20:56:00Z",
      "diff_hunk" : "@@ -406,16 +408,36 @@ def do_generate(args):\n \n         # mine block\n         logging.debug(\"Mining block delta=%s start=%s mine=%s\", seconds_to_hms(mine_time-bestheader[\"time\"]), mine_time, is_mine)\n-        mined_blocks += 1\n         psbt = generate_psbt(tmpl, reward_spk, blocktime=mine_time)\n         input_stream = os.linesep.join([psbt, \"true\", \"ALL\"]).encode('utf8')\n         psbt_signed = json.loads(args.bcli(\"-stdin\", \"walletprocesspsbt\", input=input_stream))\n+\n         if not psbt_signed.get(\"complete\",False):\n             logging.debug(\"Generated PSBT: %s\" % (psbt,))\n             sys.stderr.write(\"PSBT signing failed\\n\")\n             return 1\n         block, signet_solution = do_decode_psbt(psbt_signed[\"psbt\"])\n-        block = finish_block(block, signet_solution, args.grind_cmd)\n+\n+        # finish_block() will call bitcoin-util to grind PoW. If the nonce field search space is exhausted,\n+        # the subprocess will fail and thus the miner. In case of failure, increment the retries var,\n+        # use it to create a new block header and try again.\n+        try:\n+            block = finish_block(block, signet_solution, args.grind_cmd)\n+        except subprocess.CalledProcessError as e:\n+            # Look for the return code and output message raised by bitcoin-util\n+            if e.returncode == 1 and \"Could not satisfy difficulty target\" in e.stderr.decode(\"utf-8\"):\n+                logging.debug('grinder exhausted the nonce search space, retrying with new block header')\n+                retries += 1\n+                continue\n+            else: # bitcoin-util raised another error, pass it along and let the user know\n+                raise e\n+        # capture keyboard interrupt so one can stop the miner with SIGINT (Ctrl-C)\n+        except KeyboardInterrupt:\n+            logging.debug('mining aborted by the user')",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1608941525",
      "id" : 1608941525,
      "line" : 436,
      "node_id" : "PRRC_kwDOABII585f5n_V",
      "original_commit_id" : "2a5bd91c764041227f9b5423d61511725d7c1739",
      "original_line" : 436,
      "original_position" : 74,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 74,
      "pull_request_review_id" : 2069607288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941525/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-21T20:56:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608941525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1328814?v=4",
         "events_url" : "https://api.github.com/users/AngusP/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AngusP/followers",
         "following_url" : "https://api.github.com/users/AngusP/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AngusP/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AngusP",
         "id" : 1328814,
         "login" : "AngusP",
         "node_id" : "MDQ6VXNlcjEzMjg4MTQ=",
         "organizations_url" : "https://api.github.com/users/AngusP/orgs",
         "received_events_url" : "https://api.github.com/users/AngusP/received_events",
         "repos_url" : "https://api.github.com/users/AngusP/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AngusP/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AngusP/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AngusP"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fair enough, committed the style suggestions.",
      "created_at" : "2024-05-22T02:12:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#issuecomment-2123743474",
      "id" : 2123743474,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30130",
      "node_id" : "IC_kwDOABII585-lcDy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123743474/reactions"
      },
      "updated_at" : "2024-05-22T02:12:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123743474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/78322931?v=4",
         "events_url" : "https://api.github.com/users/edilmedeiros/events{/privacy}",
         "followers_url" : "https://api.github.com/users/edilmedeiros/followers",
         "following_url" : "https://api.github.com/users/edilmedeiros/following{/other_user}",
         "gists_url" : "https://api.github.com/users/edilmedeiros/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/edilmedeiros",
         "id" : 78322931,
         "login" : "edilmedeiros",
         "node_id" : "MDQ6VXNlcjc4MzIyOTMx",
         "organizations_url" : "https://api.github.com/users/edilmedeiros/orgs",
         "received_events_url" : "https://api.github.com/users/edilmedeiros/received_events",
         "repos_url" : "https://api.github.com/users/edilmedeiros/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/edilmedeiros/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/edilmedeiros/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/edilmedeiros"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1612527980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612527980"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think you also would want to change:\r\n\r\n```\r\n        if tmpl[\"mintime\"] > mine_time:\r\n            logging.info(\"Updating block time from %d to %d\", mine_time, tmpl[\"mintime\"])\r\n            mine_time = tmpl[\"mintime\"]\r\n```\r\n\r\nto be\r\n\r\n```\r\n    mintime = tmpl[\"mintime\"] + retries\r\n    if mine_time < mintime:\r\n         logging.info(...)\r\n         mine_time = mintime\r\n```",
      "commit_id" : "1cf174a2954b434e9623afe86f3643be8eec2d70",
      "created_at" : "2024-05-24T00:59:22Z",
      "diff_hunk" : "@@ -350,7 +352,7 @@ def do_generate(args):\n             is_mine = True\n         else:\n             time_delta = next_block_delta(int(bestheader[\"bits\"], 16), bci[\"bestblockhash\"], ultimate_target, args.poisson, args.max_interval)\n-            mine_time = bestheader[\"time\"] + time_delta\n+            mine_time = bestheader[\"time\"] + time_delta + retries",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30130#discussion_r1612527980",
      "id" : 1612527980,
      "line" : 355,
      "node_id" : "PRRC_kwDOABII585gHTls",
      "original_commit_id" : "1cf174a2954b434e9623afe86f3643be8eec2d70",
      "original_line" : 355,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "contrib/signet/miner",
      "position" : 39,
      "pull_request_review_id" : 2075397622,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30130",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612527980/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-24T00:59:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612527980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
