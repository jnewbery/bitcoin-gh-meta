[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-06-06T13:44:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1147463839",
      "id" : 1147463839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585EZOif",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1147463839/reactions"
      },
      "updated_at" : "2022-06-06T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1147463839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/25284#pullrequestreview-1596363843) |\n| Concept ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1147463839) |\n| Stale ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/25284#pullrequestreview-1563400593) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26859](https://github.com/bitcoin/bitcoin/pull/26859) (fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses by vasild)\n* [#26621](https://github.com/bitcoin/bitcoin/pull/26621) (refactor: Continue moving application data from CNode to Peer by dergoegge)\n* [#24034](https://github.com/bitcoin/bitcoin/pull/24034) (p2p: delete anchors.dat after trying to connect to that peers by brunoerg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-06-07T09:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1148401322",
      "id" : 1148401322,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585Eczaq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148401322/reactions"
      },
      "updated_at" : "2023-08-25T19:13:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1148401322",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">It seems confusing to have consensus (weakly) depend on low level BIP 155 addrv2 serialization.\r\n\r\nYou mean the \"consensus\" module, right, not actual consensus?",
      "created_at" : "2022-06-18T16:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1159490585",
      "id" : 1159490585,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585FHGwZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1159490585/reactions"
      },
      "updated_at" : "2022-06-18T16:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1159490585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, just the module",
      "created_at" : "2022-06-18T16:15:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1159491107",
      "id" : 1159491107,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585FHG4j",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1159491107/reactions"
      },
      "updated_at" : "2022-06-18T16:15:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1159491107",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-12T15:15:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1181889586",
      "id" : 1181889586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585GcjQy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181889586/reactions"
      },
      "updated_at" : "2022-07-12T15:15:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1181889586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-27T11:22:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1196601684",
      "id" : 1196601684,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585HUrFU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196601684/reactions"
      },
      "updated_at" : "2022-07-27T11:22:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196601684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-09-16T10:16:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1249188452",
      "id" : 1249188452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585KdRpk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249188452/reactions"
      },
      "updated_at" : "2022-09-16T10:16:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249188452",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--13523179cfe9479db18ec6c5d236f789-->\nThere hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? â¡ï¸ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? â¡ï¸ Please close.\n* Did the author lose interest or time to work on this? â¡ï¸ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "created_at" : "2022-12-15T00:45:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1352410596",
      "id" : 1352410596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585QnCXk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352410596/reactions"
      },
      "updated_at" : "2022-12-15T00:45:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1352410596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-01-19T16:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1397236897",
      "id" : 1397236897,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585TSCSh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1397236897/reactions"
      },
      "updated_at" : "2023-01-19T16:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1397236897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and changed title\r\n\r\n<!--\r\n\r\n\r\ntemplate <typename MParams, typename MSubStream>\r\nauto MakeParamsStream(const MParams& params, MSubStream& substream) {\r\n    std::cout << __LINE__ << std::endl;\r\n    return ParamsStream{params, substream};\r\n}\r\ntemplate <typename MParams, typename MSParams, typename MSSubStream>\r\nauto MakeParamsStream(const MParams& params,\r\n                      ParamsStream<MSParams, MSSubStream>& substream) {\r\n    std::cout << __LINE__ << std::endl;\r\n    return ParamsStream{params, substream.m_substream};\r\n}",
      "created_at" : "2023-01-31T18:40:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1410886593",
      "id" : 1410886593,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585UGGvB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410886593/reactions"
      },
      "updated_at" : "2023-01-31T18:40:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1410886593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-01-31T22:58:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1411184315",
      "id" : 1411184315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585UHPa7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411184315/reactions"
      },
      "updated_at" : "2023-01-31T22:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1411184315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-05-30T16:01:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1568693241",
      "id" : 1568693241,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585dgFv5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568693241/reactions"
      },
      "updated_at" : "2023-05-30T16:01:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1568693241",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2023-07-06T11:12:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1623488101",
      "id" : 1623488101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585gxHZl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623488101/reactions"
      },
      "updated_at" : "2023-07-06T11:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623488101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-07-13T23:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1635069230",
      "id" : 1635069230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585hdS0u",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1635069230/reactions"
      },
      "updated_at" : "2023-07-13T23:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1635069230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, will have a look.",
      "created_at" : "2023-07-28T02:20:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1654879568",
      "id" : 1654879568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585io3VQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1654879568/reactions"
      },
      "updated_at" : "2023-07-28T02:20:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1654879568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-08-03T17:26:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1664361540",
      "id" : 1664361540,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585jNCRE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664361540/reactions"
      },
      "updated_at" : "2023-08-03T17:26:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1664361540",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1284741805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284741805"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ef03a51\r\n```suggestion\r\n/** Convert any argument to a reference to X, maintaining constness.\r\n```\r\n\r\n-----\r\n\r\nalso here\r\n\r\n```diff\r\n-/* ::GetSerializeSize implementations\r\n+/** ::GetSerializeSize implementations\r\n```\r\n",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-04T18:49:45Z",
      "diff_hunk" : "@@ -133,12 +134,29 @@ enum\n     SER_GETHASH         = (1 << 2),\n };\n \n-//! Convert the reference base type to X, without changing constness or reference type.\n-template<typename X> X& ReadWriteAsHelper(X& x) { return x; }\n-template<typename X> const X& ReadWriteAsHelper(const X& x) { return x; }\n+/* Convert any argument to a reference to X, maintaining constness.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1284741805",
      "id" : 1284741805,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mk5qt",
      "original_commit_id" : "6a99da9fa4a66e343df0910918da0ba9686d0fde",
      "original_line" : 137,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/serialize.h",
      "position" : null,
      "pull_request_review_id" : 1563400593,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284741805/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T19:26:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284741805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1284769402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284769402"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "6a99da9 If the `#if` directive is inversed\r\n\r\n```\r\ntest/serialize_tests.cpp:281:22: error: use of undeclared identifier 'ParseUint32'; did you mean 'ParseUInt32'?\r\n                ok = ParseUint32(str, &data);\r\n                     ^~~~~~~~~~~\r\n                     ParseUInt32\r\n./util/strencodings.h:225:20: note: 'ParseUInt32' declared here\r\n[[nodiscard]] bool ParseUInt32(std::string_view str, uint32_t *out);\r\n```\r\n\r\n",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-04T19:21:02Z",
      "diff_hunk" : "@@ -254,4 +255,175 @@ BOOST_AUTO_TEST_CASE(class_methods)\n     }\n }\n \n+enum class BaseFormat {\n+    DEC,\n+    HEX,\n+};\n+\n+/// (Un)serialize a number as a string either from/to decimal or hexadecimal.\n+class Base\n+{\n+public:\n+    uint8_t m_base_data;\n+\n+    Base() : m_base_data(17) {}\n+    explicit Base(uint8_t data) : m_base_data(data) {}\n+\n+#if 0 // the following two are equivalent\n+    SERIALIZE_METHODS_PARAMS(Base, obj, BaseFormat, fmt)\n+    {\n+        if (ser_action.ForRead()) {\n+            std::string str;\n+            s >> str;\n+            assert(str.size() == 2 || (fmt == BaseFormat::DEC && str.size() == 3));\n+            uint32_t data;\n+            bool ok;\n+            if (fmt == BaseFormat::DEC) {\n+                ok = ParseUint32(str, &data);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1284769402",
      "id" : 1284769402,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MlAZ6",
      "original_commit_id" : "6a99da9fa4a66e343df0910918da0ba9686d0fde",
      "original_line" : 282,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/test/serialize_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1563400593,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284769402/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T19:26:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284769402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1288277494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277494"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch. The test was written by @vasild. I've removed the code, since there is already another unit test checking `SERIALIZE_METHODS_PARAMS`.\r\n\r\nAlso, I've replaced `DEC` by `RAW` to remove the dependency on tinyformat for the unit test and instead only use Bitcoin Core's own util functions.",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-09T10:26:24Z",
      "diff_hunk" : "@@ -254,4 +255,175 @@ BOOST_AUTO_TEST_CASE(class_methods)\n     }\n }\n \n+enum class BaseFormat {\n+    DEC,\n+    HEX,\n+};\n+\n+/// (Un)serialize a number as a string either from/to decimal or hexadecimal.\n+class Base\n+{\n+public:\n+    uint8_t m_base_data;\n+\n+    Base() : m_base_data(17) {}\n+    explicit Base(uint8_t data) : m_base_data(data) {}\n+\n+#if 0 // the following two are equivalent\n+    SERIALIZE_METHODS_PARAMS(Base, obj, BaseFormat, fmt)\n+    {\n+        if (ser_action.ForRead()) {\n+            std::string str;\n+            s >> str;\n+            assert(str.size() == 2 || (fmt == BaseFormat::DEC && str.size() == 3));\n+            uint32_t data;\n+            bool ok;\n+            if (fmt == BaseFormat::DEC) {\n+                ok = ParseUint32(str, &data);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1288277494",
      "id" : 1288277494,
      "in_reply_to_id" : 1284769402,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MyY32",
      "original_commit_id" : "6a99da9fa4a66e343df0910918da0ba9686d0fde",
      "original_line" : 282,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/test/serialize_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1569235054,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277494/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-09T10:26:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1288277658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277658"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks, fixed doxygen",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-09T10:26:34Z",
      "diff_hunk" : "@@ -133,12 +134,29 @@ enum\n     SER_GETHASH         = (1 << 2),\n };\n \n-//! Convert the reference base type to X, without changing constness or reference type.\n-template<typename X> X& ReadWriteAsHelper(X& x) { return x; }\n-template<typename X> const X& ReadWriteAsHelper(const X& x) { return x; }\n+/* Convert any argument to a reference to X, maintaining constness.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1288277658",
      "id" : 1288277658,
      "in_reply_to_id" : 1284741805,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MyY6a",
      "original_commit_id" : "6a99da9fa4a66e343df0910918da0ba9686d0fde",
      "original_line" : 137,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/serialize.h",
      "position" : null,
      "pull_request_review_id" : 1569235302,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277658/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-09T10:26:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288277658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302182555"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302182555"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe constrain this with `std::is_base_of` and SFINAE until we get concepts?",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-22T20:50:23Z",
      "diff_hunk" : "@@ -133,12 +133,30 @@ enum\n     SER_GETHASH         = (1 << 2),\n };\n \n-//! Convert the reference base type to X, without changing constness or reference type.\n-template<typename X> X& ReadWriteAsHelper(X& x) { return x; }\n-template<typename X> const X& ReadWriteAsHelper(const X& x) { return x; }\n+/**\n+ * Convert any argument to a reference to X, maintaining constness.\n+ *\n+ * This can be used in serialization code to invoke a base class's\n+ * serialization routines.\n+ *\n+ * Example use:\n+ *   class Base { ... };\n+ *   class Child : public Base {\n+ *     int m_data;\n+ *   public:\n+ *     SERIALIZE_METHODS(Child, obj) {\n+ *       READWRITE(AsBase<Base>(obj), obj.m_data);\n+ *     }\n+ *   };\n+ *\n+ * static_cast cannot easily be used here, as the type of Obj will be const Child&\n+ * during serialization and Child& during deserialization. AsBase will convert to\n+ * const Base& and Base& appropriately.\n+ */\n+template <typename X> X& AsBase(X& x) { return x; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302182555",
      "id" : 1302182555,
      "line" : 157,
      "node_id" : "PRRC_kwDOABII585Nnbqb",
      "original_commit_id" : "667cf7e210747de24b28612049fb58fe85c041fe",
      "original_line" : 156,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/serialize.h",
      "position" : 35,
      "pull_request_review_id" : 1590318929,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302182555/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-22T20:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302182555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302696191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302696191"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would there be a reason to check `std::is_base_of`? IIUC the compiler already checks this internally on the argument when the function is called. And if the function call argument is a violating `reinterpret_cast` we can't protect against this anyway inside this function or the function signature.",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-23T08:48:52Z",
      "diff_hunk" : "@@ -133,12 +133,30 @@ enum\n     SER_GETHASH         = (1 << 2),\n };\n \n-//! Convert the reference base type to X, without changing constness or reference type.\n-template<typename X> X& ReadWriteAsHelper(X& x) { return x; }\n-template<typename X> const X& ReadWriteAsHelper(const X& x) { return x; }\n+/**\n+ * Convert any argument to a reference to X, maintaining constness.\n+ *\n+ * This can be used in serialization code to invoke a base class's\n+ * serialization routines.\n+ *\n+ * Example use:\n+ *   class Base { ... };\n+ *   class Child : public Base {\n+ *     int m_data;\n+ *   public:\n+ *     SERIALIZE_METHODS(Child, obj) {\n+ *       READWRITE(AsBase<Base>(obj), obj.m_data);\n+ *     }\n+ *   };\n+ *\n+ * static_cast cannot easily be used here, as the type of Obj will be const Child&\n+ * during serialization and Child& during deserialization. AsBase will convert to\n+ * const Base& and Base& appropriately.\n+ */\n+template <typename X> X& AsBase(X& x) { return x; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302696191",
      "id" : 1302696191,
      "in_reply_to_id" : 1302182555,
      "line" : 157,
      "node_id" : "PRRC_kwDOABII585NpZD_",
      "original_commit_id" : "667cf7e210747de24b28612049fb58fe85c041fe",
      "original_line" : 156,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/serialize.h",
      "position" : 35,
      "pull_request_review_id" : 1591084332,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302696191/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-23T08:48:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302696191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302996454"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302996454"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It will try conversion functions, eg:\r\n\r\n```c++\r\ntemplate<typename T> T& AsBase(T& x) { return x; }\r\n\r\ntemplate<typename T, typename A, \r\n    typename = typename std::enable_if<\r\n        std::is_base_of<T, A>::value, void\r\n    >::type>\r\nT& AsBaseSafe(A& x) { return x; }\r\n\r\nstruct Foo { };\r\nstruct Bar : public Foo { };\r\n\r\nBar b;\r\nFoo& fb = AsBase<Foo>(b); // fine\r\nFoo& fbsafe = AsBaseSafe<Foo>(b); // fine\r\n\r\nBar g_foobar;\r\nstruct Nope { operator Foo&() { return g_foobar; }; };\r\nNope n;\r\nFoo& f = AsBase<Foo>(n); // fine\r\nFoo& fsafe = AsBaseSafe<Foo>(n); // error: no matching function for call to 'AsBaseSafe'\r\n\r\nstruct Nope2 { operator Bar() { return g_foobar; }; };\r\nNope2 n2;\r\nBar& n2b = AsBase<Bar>(n2); // error: no matching function for call to 'AsBase'\r\nconst Bar& n2bc = AsBase<const Bar>(n2); // fine\r\nconst Foo& n2fc = AsBase<const Foo>(n2); // fine\r\nconst Bar& n2bcsafe = AsBaseSafe<const Bar>(n2); // error: no matching...\r\nconst Foo& n2fcsafe = AsBaseSafe<const Foo>(n2); // error: no matching...\r\n```",
      "commit_id" : "9dfc1f373e5a896ae63f535c4c3b7d6e6e6d08d0",
      "created_at" : "2023-08-23T13:10:31Z",
      "diff_hunk" : "@@ -133,12 +133,30 @@ enum\n     SER_GETHASH         = (1 << 2),\n };\n \n-//! Convert the reference base type to X, without changing constness or reference type.\n-template<typename X> X& ReadWriteAsHelper(X& x) { return x; }\n-template<typename X> const X& ReadWriteAsHelper(const X& x) { return x; }\n+/**\n+ * Convert any argument to a reference to X, maintaining constness.\n+ *\n+ * This can be used in serialization code to invoke a base class's\n+ * serialization routines.\n+ *\n+ * Example use:\n+ *   class Base { ... };\n+ *   class Child : public Base {\n+ *     int m_data;\n+ *   public:\n+ *     SERIALIZE_METHODS(Child, obj) {\n+ *       READWRITE(AsBase<Base>(obj), obj.m_data);\n+ *     }\n+ *   };\n+ *\n+ * static_cast cannot easily be used here, as the type of Obj will be const Child&\n+ * during serialization and Child& during deserialization. AsBase will convert to\n+ * const Base& and Base& appropriately.\n+ */\n+template <typename X> X& AsBase(X& x) { return x; }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1302996454",
      "id" : 1302996454,
      "in_reply_to_id" : 1302182555,
      "line" : 157,
      "node_id" : "PRRC_kwDOABII585NqiXm",
      "original_commit_id" : "667cf7e210747de24b28612049fb58fe85c041fe",
      "original_line" : 156,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/serialize.h",
      "position" : 35,
      "pull_request_review_id" : 1591560782,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25284",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302996454/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-23T13:10:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1302996454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Edit: Most of the below was written with a misunderstanding of how these params actually work. I was trying (unsuccessfully) to shoe-horn params into the existing stream behavior. I'll leave my clueless comments in case they help anyone else with the same misunderstanding. See [this follow-up comment](https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693406525) for a more reasonable take.\r\n\r\n---\r\n\r\nWhat is the future of `s.GetType() & SER_GETHASH` and `s.GetVersion() & SERIALIZE_TRANSACTION_NO_WITNESS` ?\r\n\r\nI'm working on trying to switch #28327 to this approach, but I'm running into some issues.\r\n\r\n`CBlockLocator` and  `CDiskBlockIndex` both check for `SER_GETHASH` and conditionally skip some serializing if we're hashing. So i've introduced a `bool hashing` in `SerParams` for those classes.\r\n\r\nBut now we have a problem in `net_processing`:\r\nhttps://github.com/bitcoin/bitcoin/blob/33da5d0eb155993ab0d07c95704a0dd9e981c100/src/net_processing.cpp#L2630\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/33da5d0eb155993ab0d07c95704a0dd9e981c100/src/netmessagemaker.h#L18-L24\r\n\r\nIt's not clear how to set `!hashing` for `locator` there.\r\n\r\nOne solution is to have global params which could apply to any class:\r\n```c++\r\nstruct GlobalParams {\r\n    enum class hashing{\r\n        on,\r\n        off\r\n    };\r\n    bool is_hashing() const\r\n    {\r\n        return do_hashing == hashing::on;\r\n    }\r\n    hashing do_hashing;\r\n};\r\n```\r\n\r\nThen places like netmessagemaker can override for all structures:\r\n```c++\r\n CSerializedNetMsg Make(int nFlags, std::string msg_type, Args&&... args) const \r\n { \r\n    CSerializedNetMsg msg;\r\n    msg.m_type = std::move(msg_type);\r\n    CVectorWriter vecwriter{ SER_NETWORK, nFlags | nVersion, msg.data, 0};\r\n    GlobalParams ser_params{GlobalParams::hashing::off};\r\n    ParamsStream s{ser_params, vecwriter};\r\n    ::SerializeMany(s, std::forward<Args>(args)...);\r\n    return msg;\r\n}\r\n```\r\n\r\nThat works but:\r\n- `SER_NETWORK` and `GlobalParams::hashing::off` are redundant\r\n- Now `CTransaction` fails to serialize because `ParamsStream` deletes `GetVersion()`.\r\n\r\nFinally.. that could be fixed by turning `SERIALIZE_TRANSACTION_NO_WITNESS` into a global param as well. But that seems like it puts us back where we started, with everything jumbled up in the same place.\r\n\r\n~So while I appreciate the approach here for CAddress, it's not clear to me how it interacts with the last few serialization quirks.~",
      "created_at" : "2023-08-23T19:36:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1690530501",
      "id" : 1690530501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585kw3LF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690530501/reactions"
      },
      "updated_at" : "2023-08-25T14:03:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690530501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's also unclear to me how this should work when the thing-to-be-serialized is a template param:\r\nhttps://github.com/bitcoin/bitcoin/blob/33da5d0eb155993ab0d07c95704a0dd9e981c100/src/dbwrapper.h#L168-L177\r\n\r\nIn that case we'll need to set some params for some types of `V` but not others. How to do that generically?",
      "created_at" : "2023-08-23T20:05:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1690563812",
      "id" : 1690563812,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585kw_Tk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690563812/reactions"
      },
      "updated_at" : "2023-08-23T20:05:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690563812",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@theuni This is very generic, and I haven't tried any of this, but roughly my thinking is the following.\r\n\r\nFor transactions (CTransaction, CMutableTransaction), I'd expect a TransactionParams with a boolean that indicates whether the witness is to be serialized or not (and whether it's accepted on deserialization). I'd think we'd want that passed through when serializing blocks, so `CBlock` would also want a `TransactionParams`. But \"higher\" than that (e.g. in CNetMsgMaker or database logic) it would feel wrong to try to support having TransactionParams, because that code shouldn't know or care about what blocks or transactions are. Instead, whenever there is code that tries to give (say) a transaction to a database writing, *that* code should instead serialize a `WithParams(TransactionParams{.segwit=...}, tx)` rather than a `tx`, because presumably *that* code knows whether witness serialization is supposed to be used. In a sense, my view is that the real problem is trying to even have a way to \"globally\" set witness or not - it should be confined to logic that knows what that means.\r\n\r\nFor the distinct serializations of CBlockLocator and CDiskBlockIndex, I suspect there are similar things possible. Yes, introduce a parameter, locally for them, and we'll find a place not much higher in the stack where the parameter value can be set, without needing to go all the way to very generic code.",
      "created_at" : "2023-08-23T20:28:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1690592983",
      "id" : 1690592983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585kxGbX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690592983/reactions"
      },
      "updated_at" : "2023-08-24T15:01:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1690592983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> should instead give a `WithParams(TransactionParams{.segwit=...}, tx)` rather than `tx` to be serialized,\r\n\r\nMaybe something like:\r\n\r\n * replace `CTransaction::Serialize(stream)` with `CTransaction::Serialize(stream, txseropts)` -- so bare `CTransaction` isn't serializable anymore\r\n * add an automatic wrapper, so instead of `stream << tx` you write `stream << seropt(tx, {.with_witness=true})`\r\n\r\nIn that case, I think the idea could just be to have that wrapper be something like:\r\n\r\n```c++\r\ntemplate<typename T, typename O>\r\nclass serializable_with_options\r\n{\r\nprivate:\r\n    T& obj;\r\n    O opts;\r\npublic:\r\n    serializable_with_options(T& obj, O&& opts) : obj{obj}, opts{std::move(opts)} { }\r\n\r\n    template<typename Stream>\r\n    inline void Serialize(Stream& s) const { obj.Serialize(s, opts); }\r\n\r\n    template<typename Stream> \r\n    inline void Unserialize(Stream& s) { obj.Unserialize(s, opts); }\r\n};\r\n\r\ntemplate<typename T>\r\nauto seropt(T& obj, typename T::SerOptions&& opts)\r\n{\r\n    return serializable_with_options<T, typename T::SerOptions>(obj, std::move(opts));\r\n}\r\n```\r\n\r\nProbably needs some further tweaking to handle constyness?\r\n\r\nHere's a patch that may be fun to play with: https://github.com/ajtowns/bitcoin/commit/19cdc6b66cdf3c27d1fe895c39ab4075372bf99b . Seems workable?\r\n\r\nEDIT: On second thoughts, it doesn't seem very workable -- inheriting CNetAddr options through its child classes and across vectors of CNetAddrs and such kinda sucks.",
      "created_at" : "2023-08-24T07:28:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1691151071",
      "id" : 1691151071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585kzOrf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1691151071/reactions"
      },
      "updated_at" : "2023-08-24T15:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1691151071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> For the distinct serializations of CBlockLocator and CDiskBlockIndex, I suspect there are similar things possible. Yes, introduce a parameter, locally for them, and we'll find a place not much higher in the stack where the parameter value can be set, without needing to go all the way to very generic code.\r\n\r\n@sipa Thanks for the explanation. After playing with this some more I realized that I had a pretty significant misunderstanding, having a hard time not still thinking in terms of setting options for the entire stream. I see what you mean now about setting the param at the appropriate level in the stack.\r\n\r\nI took another stab at a [POC for using params for CBlockLocator](https://github.com/theuni/bitcoin/commit/99d23d6559503f112ac62ef082536c6b641bbf6f) as you described, which I think turned out looking quite reasonable (ironically I'm not sure if anything ever actually uses hashing mode, I'll trace that out).\r\n\r\n> So while I appreciate the approach here for CAddress, it's not clear to me how it interacts with the last few serialization quirks.\r\n\r\nI take that back. Having now implemented some of those quirks in the commit above, it interacts just fine. ",
      "created_at" : "2023-08-25T14:00:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693406525",
      "id" : 1693406525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585k71U9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693406525/reactions"
      },
      "updated_at" : "2023-08-25T14:00:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693406525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> (ironically I'm not sure if anything ever actually uses hashing mode, I'll trace that out).\r\n\r\nI don't think anything does, but I am not aware of a simple way to find out at compile time. Maybe use this pull request and remove the `GetType` definition and confirm it only fails in CTransaction/CBlock? Slightly related, most uses of the legacy interface `CHashWriter` are not needed at all, see https://github.com/bitcoin/bitcoin/pull/28341",
      "created_at" : "2023-08-25T15:14:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693525192",
      "id" : 1693525192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585k8STI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693525192/reactions"
      },
      "updated_at" : "2023-08-25T15:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693525192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added a commit to remove code",
      "created_at" : "2023-08-25T16:02:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693585364",
      "id" : 1693585364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585k8g_U",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693585364/reactions"
      },
      "updated_at" : "2023-08-25T16:02:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693585364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > (ironically I'm not sure if anything ever actually uses hashing mode, I'll trace that out).\r\n> \r\n> I don't think anything does, but I am not aware of a simple way to find out at compile time. Maybe use this pull request and remove the `GetType` definition and confirm it only fails in CTransaction/CBlock? Slightly related, most uses of the legacy interface `CHashWriter` are not needed at all, see #28341\r\n\r\nIt's worth pointing out that, as you mentioned, it's hard to trace this path in the current code. But a nice feature of the approach in the PR is that the params are now enforced at compile time and closer to the callsite, so it's trivial to see what's being used.\r\n\r\nSo after converting `CBLockLocator`, compile fails for every serialization because params are missing. That's fixed by switching `CDataStream` -> `DataStream` and handling the params. If none of the deleted `CDataStream` usages were `SER_GETHASH`, I think it's safe to say we don't need the `hashing` param at all?\r\n\r\nAnd yes, from a quick check, that's the case everywhere but `CTransaction`. So specifically, I propose that we nuke the hashing checks in `CDiskBlockIndex`/`CBLockLocator`/`CKeyPool`. Presumably the lack of usage means that a hash has never had meaning for those. There's still the question about whether or not to use dummy `nVersion`s  though.",
      "created_at" : "2023-08-25T16:45:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693650533",
      "id" : 1693650533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585k8w5l",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693650533/reactions"
      },
      "updated_at" : "2023-08-25T16:45:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1693650533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "From https://github.com/bitcoin/bitcoin/pull/19503 :\r\n> In this PR, the feature is only used for CAddress serialization, but I plan to also convert SERIALIZE_TRANSACTION_NO_WITNESS in a follow-up.\r\n\r\n@sipa follow-up reminder in case this gets merged :p\r\n\r\nCombined with https://github.com/bitcoin/bitcoin/pull/28341 and https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1693650533, that would go a long way towards (,if not completely) eliminating the legacy flags.",
      "created_at" : "2023-08-26T21:42:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25284#issuecomment-1694507114",
      "id" : 1694507114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25284",
      "node_id" : "IC_kwDOABII585lACBq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694507114/reactions"
      },
      "updated_at" : "2023-08-26T21:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1694507114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   }
]
