[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28573).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1749097082), [RandyMcMillan](https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1749380103) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-10-03T13:05:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1744941016",
      "id" : 1744941016,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28573",
      "node_id" : "IC_kwDOABII585oAa_Y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744941016/reactions"
      },
      "updated_at" : "2023-10-05T17:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744941016",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64)\n\n| File | commit 97f756b12c8d8a9d3b621f296725dd7bf36bc8a9<br>(master) | commit 6307893d248c73c29d449eaf4749fb6e77a09491<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`fa4d8592bca59c4a...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/SHA256SUMS.part) | [`1306ba4631a4ef15...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/SHA256SUMS.part) |\n| *-aarch64-linux-gnu-debug.tar.gz | [`5580ec85fb2ce064...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-aarch64-linux-gnu-debug.tar.gz) | [`459a52f461d39e59...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`78b6d232d5120a1b...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-aarch64-linux-gnu.tar.gz) | [`b957063d725ce128...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`3d982ec7d8bf74c8...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-arm-linux-gnueabihf-debug.tar.gz) | [`e6763e27bc2760fb...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`d668677bff8761e9...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-arm-linux-gnueabihf.tar.gz) | [`e3bb01f3bd1ae2b7...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`27d5c72f99042fd1...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-arm64-apple-darwin-unsigned.tar.gz) | [`4fbe35f8c9c26506...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`0a40c1c9d69914d8...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-arm64-apple-darwin-unsigned.zip) | [`df1c30ac6d0026d6...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-arm64-apple-darwin-unsigned.zip) |\n| *-arm64-apple-darwin.tar.gz | [`58a0486742a08c78...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-arm64-apple-darwin.tar.gz) | [`9f78f7648ac61eaa...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-arm64-apple-darwin.tar.gz) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`e995b1125000df19...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-powerpc64-linux-gnu-debug.tar.gz) | [`5611a7db5002f33e...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`a299139b47c371a6...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-powerpc64-linux-gnu.tar.gz) | [`16ceeb250faf19f2...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-powerpc64-linux-gnu.tar.gz) |\n| *-powerpc64le-linux-gnu-debug.tar.gz | [`9a7bceae7ca985ff...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-powerpc64le-linux-gnu-debug.tar.gz) | [`4a83cd3ec117031d...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-powerpc64le-linux-gnu-debug.tar.gz) |\n| *-powerpc64le-linux-gnu.tar.gz | [`ceffc3d58f9a85c9...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-powerpc64le-linux-gnu.tar.gz) | [`164bc2e891b49173...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-powerpc64le-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`2fbc6bb55aca9e4d...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-riscv64-linux-gnu-debug.tar.gz) | [`c0163cb35062c278...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`0e4f173506cd129a...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-riscv64-linux-gnu.tar.gz) | [`bb2753593fcad11d...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`8d369cd8f6307c6d...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-x86_64-apple-darwin-unsigned.tar.gz) | [`984c45b5b11cd568...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`79fd330511b22d30...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-x86_64-apple-darwin-unsigned.zip) | [`051a60c655956a3c...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-apple-darwin.tar.gz | [`4823f3b58d113f18...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-x86_64-apple-darwin.tar.gz) | [`e5588ef943838709...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-x86_64-apple-darwin.tar.gz) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`3dc47f3e2f985104...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-x86_64-linux-gnu-debug.tar.gz) | [`53973ff976b337b0...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`ea95470b6d8861d4...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d-x86_64-linux-gnu.tar.gz) | [`7ea69e767ccb06cb...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`c40470ff5c25bfb3...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/bitcoin-97f756b12c8d.tar.gz) | [`2f81ff640a1831ea...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/bitcoin-6307893d248c.tar.gz) |\n| guix_build.log | [`adc6a469498c651d...`](https://drahtbot.space/guix/bitcoin/bitcoin/97f756b12c8d8a9d3b621f296725dd7bf36bc8a9/guix_build.log) | [`4b83bdc86274211c...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/guix_build.log) |\n| guix_build.log.diff |  | [`e062eb0dad2a14ba...`](https://drahtbot.space/guix/bitcoin/bitcoin/6307893d248c73c29d449eaf4749fb6e77a09491/guix_build.log.diff) |\n\n",
      "created_at" : "2023-10-04T00:27:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1745939385",
      "id" : 1745939385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28573",
      "node_id" : "IC_kwDOABII585oEOu5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745939385/reactions"
      },
      "updated_at" : "2023-10-04T00:27:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745939385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346049203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049203"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) HEAD ^$(git rev-list -n1 --merges HEAD)^@ | tail -1)\" >> \"$GITHUB_ENV\"\r\n```",
      "commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-04T15:12:12Z",
      "diff_hunk" : "@@ -31,19 +31,31 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent\n+          # merge commit, and taking the first one. If branch contains up to\n+          # MAX_COUNT ancestor commits after the last merge commit, all of those\n+          # commits will be tested. If it contains more, only the most recent\n+          # MAX_COUNT commits will be tested.\n+          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) --reverse HEAD ^$(git rev-list -n1 --merges HEAD)^@ | head -1)\" >> \"$GITHUB_ENV\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346049203",
      "id" : 1346049203,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585QOxSz",
      "original_commit_id" : "3447796bf524d7e3eaa3287df284ef9718bc3e81",
      "original_line" : 59,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 32,
      "pull_request_review_id" : 1657887520,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049203/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:17:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346049641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049641"
         }
      },
      "author_association" : "MEMBER",
      "body" : "(Can be written shorter)",
      "commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-04T15:12:21Z",
      "diff_hunk" : "@@ -31,19 +31,31 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent\n+          # merge commit, and taking the first one. If branch contains up to\n+          # MAX_COUNT ancestor commits after the last merge commit, all of those\n+          # commits will be tested. If it contains more, only the most recent\n+          # MAX_COUNT commits will be tested.\n+          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) --reverse HEAD ^$(git rev-list -n1 --merges HEAD)^@ | head -1)\" >> \"$GITHUB_ENV\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346049641",
      "id" : 1346049641,
      "in_reply_to_id" : 1346049203,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585QOxZp",
      "original_commit_id" : "3447796bf524d7e3eaa3287df284ef9718bc3e81",
      "original_line" : 59,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 32,
      "pull_request_review_id" : 1657887520,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049641/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:17:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346049641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346057441"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346057441"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you link to the documentation of the `^commit_id^@` syntax?",
      "commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-04T15:16:49Z",
      "diff_hunk" : "@@ -31,19 +31,31 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent\n+          # merge commit, and taking the first one. If branch contains up to\n+          # MAX_COUNT ancestor commits after the last merge commit, all of those\n+          # commits will be tested. If it contains more, only the most recent\n+          # MAX_COUNT commits will be tested.\n+          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) --reverse HEAD ^$(git rev-list -n1 --merges HEAD)^@ | head -1)\" >> \"$GITHUB_ENV\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346057441",
      "id" : 1346057441,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585QOzTh",
      "original_commit_id" : "3447796bf524d7e3eaa3287df284ef9718bc3e81",
      "original_line" : 59,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 32,
      "pull_request_review_id" : 1657887520,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346057441/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:17:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346057441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346158780"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346158780"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346049641\r\n\r\n> (Can be written shorter)\r\n\r\nThis is a little shorter, but I prefer head instead of tail in cases like this because the rev-list command can detect when the pipe is closed and avoid generating unnecessary output.",
      "commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-04T16:28:37Z",
      "diff_hunk" : "@@ -31,19 +31,31 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent\n+          # merge commit, and taking the first one. If branch contains up to\n+          # MAX_COUNT ancestor commits after the last merge commit, all of those\n+          # commits will be tested. If it contains more, only the most recent\n+          # MAX_COUNT commits will be tested.\n+          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) --reverse HEAD ^$(git rev-list -n1 --merges HEAD)^@ | head -1)\" >> \"$GITHUB_ENV\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346158780",
      "id" : 1346158780,
      "in_reply_to_id" : 1346049203,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585QPMC8",
      "original_commit_id" : "3447796bf524d7e3eaa3287df284ef9718bc3e81",
      "original_line" : 59,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 32,
      "pull_request_review_id" : 1658048028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346158780/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T16:47:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346158780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346159279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346159279"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346057441\r\n\r\n> Can you link to the documentation of the `^commit_id^@` syntax?\r\n\r\nSure, added links to https://git-scm.com/docs/git-rev-parse#_other_rev_parent_shorthand_notations and https://git-scm.com/docs/git-rev-list",
      "commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-04T16:29:06Z",
      "diff_hunk" : "@@ -31,19 +31,31 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent\n+          # merge commit, and taking the first one. If branch contains up to\n+          # MAX_COUNT ancestor commits after the last merge commit, all of those\n+          # commits will be tested. If it contains more, only the most recent\n+          # MAX_COUNT commits will be tested.\n+          echo \"TEST_BASE=$(git rev-list -n$((${{ env.MAX_COUNT }} + 1)) --reverse HEAD ^$(git rev-list -n1 --merges HEAD)^@ | head -1)\" >> \"$GITHUB_ENV\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1346159279",
      "id" : 1346159279,
      "in_reply_to_id" : 1346057441,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII585QPMKv",
      "original_commit_id" : "3447796bf524d7e3eaa3287df284ef9718bc3e81",
      "original_line" : 59,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 32,
      "pull_request_review_id" : 1658048028,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346159279/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T16:47:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346159279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1347253140"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347253140"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n          # HEAD, excluding ancestors of the most recent\r\n```\r\n\r\nI don't think this is relevant, because merges are excluded and the remaining commits are linear, thus topologically sorted.",
      "commit_id" : "88c8e3a0e4d6bee015a348536c6e12a2c7835896",
      "created_at" : "2023-10-05T11:16:56Z",
      "diff_hunk" : "@@ -31,19 +31,38 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1347253140",
      "id" : 1347253140,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QTXOU",
      "original_commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "original_line" : 47,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : null,
      "pull_request_review_id" : 1659581103,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347253140/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-05T11:18:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347253140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "lgtmcr ACK a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "created_at" : "2023-10-05T11:19:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1748686004",
      "id" : 1748686004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28573",
      "node_id" : "IC_kwDOABII585oOtS0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1748686004/reactions"
      },
      "updated_at" : "2023-10-05T11:19:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1748686004",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1347540594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347540594"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1347253140\r\n\r\nThanks, removed the part about timestamps.\r\n\r\nI didn't realize the list was topologically sorted, but this does seem to be the case according to documentation ([\"Show no parents before all of its children are shown, but otherwise show commits in the commit timestamp order.\"](https://git-scm.com/docs/git-rev-list#Documentation/git-rev-list.txt---date-order)) and some local testing. Before I thought that git commit lists had same problem github commit lists have and relied on timestamps, so the script might test more or fewer commits than supposed to, and the comment would be relevant. But glad the script is more reliable and the comment is wrong.",
      "commit_id" : "88c8e3a0e4d6bee015a348536c6e12a2c7835896",
      "created_at" : "2023-10-05T14:42:43Z",
      "diff_hunk" : "@@ -31,19 +31,38 @@ jobs:\n     env:\n       MAX_COUNT: 6\n     steps:\n-      - run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n+      - name: Determine fetch depth\n+        run: echo \"FETCH_DEPTH=$((${{ github.event.pull_request.commits }} + 2))\" >> \"$GITHUB_ENV\"\n       - uses: actions/checkout@v4\n         with:\n           ref: ${{ github.event.pull_request.head.sha }}\n           fetch-depth: ${{ env.FETCH_DEPTH }}\n-      - run: |\n+      - name: Determine commit range\n+        run: |\n+          # Checkout HEAD~ and find the test base commit\n+          # Checkout HEAD~ because it would be wasteful to rerun tests on the PR\n+          # head commit that are already run by other jobs.\n           git checkout HEAD~\n-          echo \"COMMIT_AFTER_LAST_MERGE=$(git log $(git log --merges -1 --format=%H)..HEAD --format=%H --max-count=${{ env.MAX_COUNT }} | tail -1)\" >> \"$GITHUB_ENV\"\n+          # Figure out test base commit by listing up to MAX_COUNT ancestors of\n+          # HEAD in order by timestamp, excluding ancestors of the most recent",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#discussion_r1347540594",
      "id" : 1347540594,
      "in_reply_to_id" : 1347253140,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QUdZy",
      "original_commit_id" : "a32719139954e268a8c9dd02e3982731fdbc1e4d",
      "original_line" : 47,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : null,
      "pull_request_review_id" : 1660060931,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28573",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347540594/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-05T15:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1347540594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "lgtmrecr ACK 88c8e3a0e4d6bee015a348536c6e12a2c7835896",
      "created_at" : "2023-10-05T15:07:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1749097082",
      "id" : 1749097082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28573",
      "node_id" : "IC_kwDOABII585oQRp6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1749097082/reactions"
      },
      "updated_at" : "2023-10-05T15:07:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1749097082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 88c8e3a",
      "created_at" : "2023-10-05T17:47:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28573#issuecomment-1749380103",
      "id" : 1749380103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28573",
      "node_id" : "IC_kwDOABII585oRWwH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1749380103/reactions"
      },
      "updated_at" : "2023-10-05T17:47:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1749380103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/152159?v=4",
         "events_url" : "https://api.github.com/users/RandyMcMillan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RandyMcMillan/followers",
         "following_url" : "https://api.github.com/users/RandyMcMillan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RandyMcMillan",
         "id" : 152159,
         "login" : "RandyMcMillan",
         "node_id" : "MDQ6VXNlcjE1MjE1OQ==",
         "organizations_url" : "https://api.github.com/users/RandyMcMillan/orgs",
         "received_events_url" : "https://api.github.com/users/RandyMcMillan/received_events",
         "repos_url" : "https://api.github.com/users/RandyMcMillan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RandyMcMillan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RandyMcMillan"
      }
   }
]
