{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Our mempool may receive a CPFP of a transaction that is below our peer's mempool minimum feerate. There are many possible reasons, but the most common is when our peer's mempool has a smaller capacity and so their mempool minimum feerate is higher than ours. In the future, another likely reason is that we accept packages but they don't (this change was originally part of package relay but seems beneficial today).\r\n\r\nToday, we broadcast this CPFP transaction to our peers (assuming its individual feerate is above the fee filter). Assuming they're running Bitcoin Core, this happens:\r\n- Peer requests the child\r\n- We send the child\r\n- The peer sees this child as an orphan, stores it in orphanage, and requests the parent\r\n- We send the parent\r\n- The parent is rejected for being too low feerate\r\n\r\nThis is a waste of bandwidth and computation. It also wastes the peer's orphanage slots - instagibbs has been monitoring orphanage usage recently and noted that this is happening pretty frequently.\r\n\r\nWhen announcing a transaction, if it contains a mempool ancestor below the peer's fee filter, drop it.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533/comments",
   "created_at" : "2023-09-26T09:56:36Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/28533",
   "id" : 1913147925,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "description" : null,
         "id" : 98298007,
         "name" : "P2P",
         "node_id" : "MDU6TGFiZWw5ODI5ODAwNw==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585bNj3r",
   "number" : 28533,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/28533.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28533",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/28533.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28533"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533/timeline",
   "title" : "p2p: stop announcing txs with ancestors below fee filter",
   "updated_at" : "2023-09-26T09:56:39Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28533",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
      "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
      "followers_url" : "https://api.github.com/users/glozow/followers",
      "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
      "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/glozow",
      "id" : 25183001,
      "login" : "glozow",
      "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
      "organizations_url" : "https://api.github.com/users/glozow/orgs",
      "received_events_url" : "https://api.github.com/users/glozow/received_events",
      "repos_url" : "https://api.github.com/users/glozow/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/glozow"
   }
}
