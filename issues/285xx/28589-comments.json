[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747140555), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/28589#pullrequestreview-1657974263), [fjahr](https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747196676), [achow101](https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747239526) |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747121031) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-10-04T15:05:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747077592",
      "id" : 1747077592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oIknY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747077592/reactions"
      },
      "updated_at" : "2023-10-04T16:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747077592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 5bd2010f024b5bcccf1d57bae6fc36c53f5facc5\r\n\r\nI had just written the same fix essentially. The `stopatheight` node shuts down before the list of `wait_until` checks in `connect_nodes` succeeds. I guess in the python execution is slower in CI but the node and sync is still comparatively fast. ",
      "created_at" : "2023-10-04T15:09:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747088079",
      "id" : 1747088079,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oInLP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747088079/reactions"
      },
      "updated_at" : "2023-10-04T15:11:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747088079",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346063393"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346063393"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not sure. What is the goal of those changes, other than making the code more verbose and harder to read?",
      "commit_id" : "7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:20:45Z",
      "diff_hunk" : "@@ -130,8 +130,8 @@ def no_sync():\n \n         monitor = n1.getchainstates()\n         assert_equal(monitor['normal']['blocks'], START_HEIGHT)\n-        assert_equal(monitor['snapshot']['blocks'], SNAPSHOT_BASE_HEIGHT)\n-        assert_equal(monitor['snapshot']['snapshot_blockhash'], dump_output['base_hash'])\n+        assert_equal(monitor.get('snapshot', {}).get('blocks'), SNAPSHOT_BASE_HEIGHT)\n+        assert_equal(monitor.get('snapshot', {}).get('snapshot_blockhash'), dump_output['base_hash'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346063393",
      "id" : 1346063393,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QO0wh",
      "original_commit_id" : "eae98ccef53eecf678a76adb5f26e87200d7c34d",
      "original_line" : 134,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_assumeutxo.py",
      "position" : null,
      "pull_request_review_id" : 1657908392,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346063393/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:20:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346063393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346065502"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346065502"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`snapshot` is an optional key in the RPC's return value, so if the above call returns before a snapshot chainstate is loaded, it will `KeyError` as I've shown in https://github.com/bitcoin/bitcoin/issues/28585.",
      "commit_id" : "7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:21:59Z",
      "diff_hunk" : "@@ -130,8 +130,8 @@ def no_sync():\n \n         monitor = n1.getchainstates()\n         assert_equal(monitor['normal']['blocks'], START_HEIGHT)\n-        assert_equal(monitor['snapshot']['blocks'], SNAPSHOT_BASE_HEIGHT)\n-        assert_equal(monitor['snapshot']['snapshot_blockhash'], dump_output['base_hash'])\n+        assert_equal(monitor.get('snapshot', {}).get('blocks'), SNAPSHOT_BASE_HEIGHT)\n+        assert_equal(monitor.get('snapshot', {}).get('snapshot_blockhash'), dump_output['base_hash'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346065502",
      "id" : 1346065502,
      "in_reply_to_id" : 1346063393,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QO1Re",
      "original_commit_id" : "eae98ccef53eecf678a76adb5f26e87200d7c34d",
      "original_line" : 134,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_assumeutxo.py",
      "position" : null,
      "pull_request_review_id" : 1657910953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346065502/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:22:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346065502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346068013"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068013"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oh I see what you're saying - the test will still fail; of course... Reverting those.",
      "commit_id" : "7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:23:48Z",
      "diff_hunk" : "@@ -130,8 +130,8 @@ def no_sync():\n \n         monitor = n1.getchainstates()\n         assert_equal(monitor['normal']['blocks'], START_HEIGHT)\n-        assert_equal(monitor['snapshot']['blocks'], SNAPSHOT_BASE_HEIGHT)\n-        assert_equal(monitor['snapshot']['snapshot_blockhash'], dump_output['base_hash'])\n+        assert_equal(monitor.get('snapshot', {}).get('blocks'), SNAPSHOT_BASE_HEIGHT)\n+        assert_equal(monitor.get('snapshot', {}).get('snapshot_blockhash'), dump_output['base_hash'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346068013",
      "id" : 1346068013,
      "in_reply_to_id" : 1346063393,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QO14t",
      "original_commit_id" : "eae98ccef53eecf678a76adb5f26e87200d7c34d",
      "original_line" : 134,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_assumeutxo.py",
      "position" : null,
      "pull_request_review_id" : 1657914766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068013/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346068790"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068790"
         }
      },
      "author_association" : "MEMBER",
      "body" : "But then the assert_equal will fail anyway later on, no?",
      "commit_id" : "7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:24:21Z",
      "diff_hunk" : "@@ -130,8 +130,8 @@ def no_sync():\n \n         monitor = n1.getchainstates()\n         assert_equal(monitor['normal']['blocks'], START_HEIGHT)\n-        assert_equal(monitor['snapshot']['blocks'], SNAPSHOT_BASE_HEIGHT)\n-        assert_equal(monitor['snapshot']['snapshot_blockhash'], dump_output['base_hash'])\n+        assert_equal(monitor.get('snapshot', {}).get('blocks'), SNAPSHOT_BASE_HEIGHT)\n+        assert_equal(monitor.get('snapshot', {}).get('snapshot_blockhash'), dump_output['base_hash'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#discussion_r1346068790",
      "id" : 1346068790,
      "in_reply_to_id" : 1346063393,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QO2E2",
      "original_commit_id" : "eae98ccef53eecf678a76adb5f26e87200d7c34d",
      "original_line" : 134,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_assumeutxo.py",
      "position" : null,
      "pull_request_review_id" : 1657915888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28589",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068790/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T15:24:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346068790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2023-10-04T15:25:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747121031",
      "id" : 1747121031,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oIvOH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747121031/reactions"
      },
      "updated_at" : "2023-10-04T15:25:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747121031",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "lgtm ACK 5bd2010f024b5bcccf1d57bae6fc36c53f5facc5",
      "created_at" : "2023-10-04T15:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747124071",
      "id" : 1747124071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oIv9n",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747124071/reactions"
      },
      "updated_at" : "2023-10-04T15:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747124071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Even with latest HEAD, still seeing an apparent race. Still investigating.\r\n\r\n```\r\n2023-10-04T15:24:47.476000Z TestFramework (INFO): Restarted node before snapshot validation completed, reloading...\r\n2023-10-04T15:24:47.782000Z TestFramework (INFO): Ensuring snapshot chain syncs to tip. (399)\r\n2023-10-04T15:25:47.828000Z TestFramework.utils (ERROR): wait_until() failed. Predicate: ''''\r\n            lambda: n1.getchainstates().get('snapshot', {}).get('blocks') == FINAL_HEIGHT)\r\n'''\r\n2023-10-04T15:25:47.828000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/james/src/bitcoin/test/functional/test_framework/test_framework.py\", line 131, in main\r\n    self.run_test()\r\n  File \"/home/james/src/bitcoin/./test/functional/feature_assumeutxo.py\", line 162, in run_test\r\n    wait_until_helper(\r\n  File \"/home/james/src/bitcoin/test/functional/test_framework/util.py\", line 276, in wait_until_helper\r\n    raise AssertionError(\"Predicate {} not true after {} seconds\".format(predicate_source, timeout))\r\nAssertionError: Predicate ''''\r\n            lambda: n1.getchainstates().get('snapshot', {}).get('blocks') == FINAL_HEIGHT)\r\n''' not true after 60.0 seconds\r\n2023-10-04T15:25:47.879000Z TestFramework (INFO): Stopping nodes\r\n```",
      "created_at" : "2023-10-04T15:28:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747126261",
      "id" : 1747126261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oIwf1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747126261/reactions"
      },
      "updated_at" : "2023-10-04T15:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747126261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "lgtm ACK 7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:34:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747140555",
      "id" : 1747140555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oIz_L",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747140555/reactions"
      },
      "updated_at" : "2023-10-04T15:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747140555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Alright, I'm guessing we're fixed for real this time; https://github.com/bitcoin/bitcoin/pull/28589/commits/7e4003226030a04a19c718a4b1b83b4ca40ca33f accounts for the late change that we made on @ryanofsky's recommendation to list what was the `snapshot` chainstate as the `normal` chainstate once background validation completes. There was a race in the test during the first time we check for the final height, which may be done *after* background validation completed.\r\n\r\nI'm going to keep running the test in a loop on my end and will post back in a bit to confirm that I think we're good to go.",
      "created_at" : "2023-10-04T15:35:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747143744",
      "id" : 1747143744,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oI0xA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747143744/reactions"
      },
      "updated_at" : "2023-10-04T15:35:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747143744",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code review ACK 7e4003226030a04a19c718a4b1b83b4ca40ca33f",
      "created_at" : "2023-10-04T15:54:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747196676",
      "id" : 1747196676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oJBsE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747196676/reactions"
      },
      "updated_at" : "2023-10-04T15:54:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747196676",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 7e4003226030a04a19c718a4b1b83b4ca40ca33f\r\n\r\nGonna let this run in a loop for a bit before merging.",
      "created_at" : "2023-10-04T16:19:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747239526",
      "id" : 1747239526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oJMJm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747239526/reactions"
      },
      "updated_at" : "2023-10-04T16:23:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747239526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Test has been running on my machine in a loop without failure for about an hour now.",
      "created_at" : "2023-10-04T16:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28589#issuecomment-1747297195",
      "id" : 1747297195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28589",
      "node_id" : "IC_kwDOABII585oJaOr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747297195/reactions"
      },
      "updated_at" : "2023-10-04T16:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747297195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   }
]
