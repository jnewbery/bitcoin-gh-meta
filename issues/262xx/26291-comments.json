[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "#15169 proposed having net_processing not ban nodes for txs that didn't meet soft fork rules, which then allowed dropping the `MANDATORY_SCRIPT_VERIFY_FLAGS` constant entirely. Is that a better approach?\r\n\r\nOther previous discussion of the topic: https://github.com/bitcoin/bitcoin/pull/23536#pullrequestreview-905402394 https://github.com/bitcoin/bitcoin/pull/5696\r\n\r\n(EDIT: I was poking at this because I got an error about a taproot consensus rule that said it was \"non-mandatory\", which seemed misleading)",
      "created_at" : "2022-10-11T05:25:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1274104323",
      "id" : 1274104323,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585L8UoD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274104323/reactions"
      },
      "updated_at" : "2022-10-11T05:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274104323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seems like this could result in banning pre-Segwit and pre-Taproot nodes?",
      "created_at" : "2022-10-25T15:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1290731675",
      "id" : 1290731675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585M7wCb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290731675/reactions"
      },
      "updated_at" : "2022-10-25T15:15:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290731675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Seems like this could result in banning pre-Segwit and pre-Taproot nodes?\r\n\r\nIt would only impact nodes that produce/relay invalid segwit/taproot spends, ie ones that don't implement standardness checks. It also only triggers discouragement not banning, so affected peers can still reconnect. If we don't want to do that, we should probably drop `MaybePunishNodeForTx` entirely.",
      "created_at" : "2022-10-25T16:59:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1290869190",
      "id" : 1290869190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585M8RnG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290869190/reactions"
      },
      "updated_at" : "2022-10-25T16:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290869190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK\r\n\r\nThe `non-mandatory` part is very misleading for actual consensus issues. Worse, the `TxValidationResult` is explicitly `TX_NOT_STANDARD`. \r\n\r\nI got about halfway through a very similar change before I found this PR. I don't think the risk of discouraging old nodes is all that high. As you said, it's only those who eschew standardness checks. We probably wouldn't want them to keep sending us incomplete or invalid data anyway.\r\n\r\n",
      "created_at" : "2023-01-23T19:56:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897110",
      "id" : 1400897110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Tf_5W",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897110/reactions"
      },
      "updated_at" : "2023-01-23T19:56:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1683765931), [darosior](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684894313), [theStack](https://github.com/bitcoin/bitcoin/pull/26291#pullrequestreview-1585775865) |\n| Concept ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1476478682), [glozow](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479684455) |\n| Approach ACK | [john-moffett](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897110) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-01-23T19:56:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897144",
      "id" : 1400897144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Tf_54",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897144/reactions"
      },
      "updated_at" : "2023-08-20T02:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "strong concept ACK on making it more clear on what flags are doing what(I find those names super unhelpful)\r\n\r\nCompletely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?",
      "created_at" : "2023-03-20T15:44:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1476478682",
      "id" : 1476478682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YAUba",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476478682/reactions"
      },
      "updated_at" : "2023-03-20T15:44:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476478682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Completely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?\r\n\r\nI've added logging for `TX_NOT_STANDARD` in `MaybePunishNodeForTx`. After 20 hours or so running that on a listening node, I've had a couple of instances of rejections for `dust` (via `IsStandardTx` for outputs matching `IsDust`), but so far that's it.",
      "created_at" : "2023-03-21T13:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1477834856",
      "id" : 1477834856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YFfho",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477834856/reactions"
      },
      "updated_at" : "2023-03-21T13:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477834856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK to at least not reporting consensus script failures as \"non-mandatory.\"\r\n\r\nwrt how the `TxValidationResult` types are used in `MaybePunishNodeForTx`, is something like this what `TX_RECENT_CONSENSUS_CHANGE` was intended for?",
      "created_at" : "2023-03-22T14:37:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479684455",
      "id" : 1479684455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YMjFn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479684455/reactions"
      },
      "updated_at" : "2023-03-22T14:37:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479684455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> wrt how the `TxValidationResult` types are used in `MaybePunishNodeForTx`, is something like this what `TX_RECENT_CONSENSUS_CHANGE` was intended for?\r\n\r\nSee #15141 where `RECENT_CONSENSUS_CHANGE` was introduced, and #11639 where it was discussed more (under the name `SOFT_FORK`). (Note that at that time, it applied to both blocks and txs, the validation results weren't separated  until #15921 -- so some of the discussion there focuses more on blocks that violate recent soft fork rules rather than txs)",
      "created_at" : "2023-03-22T15:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479772800",
      "id" : 1479772800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YM4qA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479772800/reactions"
      },
      "updated_at" : "2023-03-22T15:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479772800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Completely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?\r\n> \r\n> I've added logging for `TX_NOT_STANDARD` in `MaybePunishNodeForTx`. After 20 hours or so running that on a listening node, I've had a couple of instances of rejections for `dust` (via `IsStandardTx` for outputs matching `IsDust`), but so far that's it.\r\n\r\nI've been running this on mainnet for a week now and have only caught non-standard tx failures for dust, so, no, I don't think we're seeing these in the wild. FWIW, my node discarded 505 non-standard txs, all due to the dust rule, and 493 of those txs were from a single node. Example discarded tx:\r\n\r\n```\r\n2023-03-28T06:35:05Z non-standard tx 95cfc86ba6e3141a991ad296fe6c3dba96879446bdac6a053529e08d97328f9a from peer=XXX: dust\r\n```",
      "created_at" : "2023-03-28T06:54:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1486312984",
      "id" : 1486312984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Yl1YY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486312984/reactions"
      },
      "updated_at" : "2023-03-28T06:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486312984",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think these changes would mean we'd get taproot \"consensus\" looking failure strings for a test network for taproot isn't active? The rest of the flags being moved are under buried deployments which means block height N and beyond are enforcing it(including the next block definitionally). I haven't looked at this in a long time.\r\n\r\nedit: @ajtowns notes offline that while not buried, it's actually enforced on all post-segwit blocks(with a couple of exceptions hardcoded): https://github.com/bitcoin/bitcoin/pull/23536\r\n\r\nwill test...",
      "created_at" : "2023-06-23T14:50:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1604393299",
      "id" : 1604393299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585foRlT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604393299/reactions"
      },
      "updated_at" : "2023-06-23T16:12:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604393299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've been running this for the last week, no transaction-based misbehavior reports in my logs. still unsure the juice is worth the squeeze, but appears to not be obviously harmful.\r\n\r\nedit: one option is to merge this, and still consider removing disconnects entirely as done in https://github.com/bitcoin/bitcoin/pull/15169, but it seems to be a much larger delta with unresolved conversations ",
      "created_at" : "2023-07-03T17:29:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1618920692",
      "id" : 1618920692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585gfsT0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1618920692/reactions"
      },
      "updated_at" : "2023-07-03T17:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1618920692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1295210529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Strictly speaking, wouldn't this sentence belong to `STANDARD_NOT_MANDATORY_VERIFY_FLAGS` rather than to `STANDARD_SCRIPT_VERIFY_FLAGS`? The latter includes mandatory flags, for which a violation _does_ lead to a ban/disconnect, as just stated in the same commit a few lines above (\"may trigger a DoS ban\").",
      "commit_id" : "02356fb84b0ff080b524fe26a30571d8a2f13377",
      "created_at" : "2023-08-15T22:33:21Z",
      "diff_hunk" : "@@ -69,10 +69,22 @@ static constexpr unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KVB{101};\n  * configurable as it doesn't materially change DoS parameters.\n  */\n static constexpr unsigned int EXTRA_DESCENDANT_TX_SIZE_LIMIT{10000};\n+\n+\n+/**\n+ * Mandatory script verification flags that all new transactions must comply with for\n+ * them to be valid. Failing one of these tests may trigger a DoS ban;\n+ * see CheckInputScripts() for details.\n+ *\n+ * Note that this does not affect consensus validity; see GetBlockScriptFlags()\n+ * for that.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;\n+\n /**\n  * Standard script verification flags that standard transactions will comply\n- * with. However scripts violating these flags may still be present in valid\n- * blocks and we must accept those blocks.\n+ * with. However we do not ban/disconnect nodes that forward txs violating\n+ * these rules, for better forwards and backwards compatability.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1295210529",
      "id" : 1295210529,
      "line" : 93,
      "node_id" : "PRRC_kwDOABII585NM1gh",
      "original_commit_id" : "461259c4ecc1e48d028eaea56061e72a6667ce4f",
      "original_line" : 87,
      "original_position" : 21,
      "original_start_line" : 86,
      "path" : "src/policy/policy.h",
      "position" : 27,
      "pull_request_review_id" : 1579561775,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 92,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-15T22:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1296582840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296582840"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure. Presuming #28244 is merged, will tweak the wording when rebasing on that",
      "commit_id" : "1b09cc5959d4719ffad131b395f8185e9ab4b1a1",
      "created_at" : "2023-08-17T01:29:50Z",
      "diff_hunk" : "@@ -69,10 +69,22 @@ static constexpr unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KVB{101};\n  * configurable as it doesn't materially change DoS parameters.\n  */\n static constexpr unsigned int EXTRA_DESCENDANT_TX_SIZE_LIMIT{10000};\n+\n+\n+/**\n+ * Mandatory script verification flags that all new transactions must comply with for\n+ * them to be valid. Failing one of these tests may trigger a DoS ban;\n+ * see CheckInputScripts() for details.\n+ *\n+ * Note that this does not affect consensus validity; see GetBlockScriptFlags()\n+ * for that.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;\n+\n /**\n  * Standard script verification flags that standard transactions will comply\n- * with. However scripts violating these flags may still be present in valid\n- * blocks and we must accept those blocks.\n+ * with. However we do not ban/disconnect nodes that forward txs violating\n+ * these rules, for better forwards and backwards compatability.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1296582840",
      "id" : 1296582840,
      "in_reply_to_id" : 1295210529,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NSEi4",
      "original_commit_id" : "461259c4ecc1e48d028eaea56061e72a6667ce4f",
      "original_line" : 87,
      "original_position" : 21,
      "original_start_line" : 86,
      "path" : "src/policy/policy.h",
      "position" : null,
      "pull_request_review_id" : 1581633403,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296582840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-17T01:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296582840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1297949804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297949804"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1b09cc5959d4719ffad131b395f8185e9ab4b1a1",
      "created_at" : "2023-08-18T03:31:02Z",
      "diff_hunk" : "@@ -69,10 +69,22 @@ static constexpr unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KVB{101};\n  * configurable as it doesn't materially change DoS parameters.\n  */\n static constexpr unsigned int EXTRA_DESCENDANT_TX_SIZE_LIMIT{10000};\n+\n+\n+/**\n+ * Mandatory script verification flags that all new transactions must comply with for\n+ * them to be valid. Failing one of these tests may trigger a DoS ban;\n+ * see CheckInputScripts() for details.\n+ *\n+ * Note that this does not affect consensus validity; see GetBlockScriptFlags()\n+ * for that.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;\n+\n /**\n  * Standard script verification flags that standard transactions will comply\n- * with. However scripts violating these flags may still be present in valid\n- * blocks and we must accept those blocks.\n+ * with. However we do not ban/disconnect nodes that forward txs violating\n+ * these rules, for better forwards and backwards compatability.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1297949804",
      "id" : 1297949804,
      "in_reply_to_id" : 1295210529,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NXSRs",
      "original_commit_id" : "461259c4ecc1e48d028eaea56061e72a6667ce4f",
      "original_line" : 87,
      "original_position" : 21,
      "original_start_line" : 86,
      "path" : "src/policy/policy.h",
      "position" : null,
      "pull_request_review_id" : 1583780664,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297949804/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-18T03:31:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297949804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "First commit from this has been merged via #28244; rebased on top of that. See #28285 or #28289 for CI failure.",
      "created_at" : "2023-08-18T03:40:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1683303626",
      "id" : 1683303626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kVSzK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1683303626/reactions"
      },
      "updated_at" : "2023-08-18T03:40:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1683303626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Code review ACK 1b09cc5959d4719ffad131b395f8185e9ab4b1a1\r\n\r\nRunning some logging as well.",
      "created_at" : "2023-08-18T11:18:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1683765931",
      "id" : 1683765931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kXDqr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1683765931/reactions"
      },
      "updated_at" : "2023-08-18T11:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1683765931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Seems like this could result in banning pre-Segwit and pre-Taproot nodes?\r\n> \r\n> It would only impact nodes that produce/relay invalid segwit/taproot spends, ie ones that don't implement standardness checks. It also only triggers discouragement not banning, so affected peers can still reconnect. If we don't want to do that, we should probably drop `MaybePunishNodeForTx` entirely.\r\n\r\nAn invalid p2sh-wrapped Segwit spend [would be considered standard](https://github.com/bitcoin/bitcoin/blob/9779e1e1f320a45255f2e81325f2feceec3fa944/src/policy/policy.cpp#L139-L151) by a pre-segwit node, but consensus-invalid by a post-segwit node. So this change would make it possible for an attacker to broadcast an invalid spend of any p2sh-wrapped Segwit UTxO to all pre-0.13 nodes on the network thereby splitting them from the network.\r\n\r\nThey could still reconnect, but would be disconnected again until either a block is mined with a (valid) spend of the p2sh-wrapped segwit coin, or they manually purge the invalid transaction from their mempool. But it would be trivial for the attacker to send another invalid spend of an unspent p2sh-wrapped segwit coin.",
      "created_at" : "2023-08-18T15:41:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684100400",
      "id" : 1684100400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kYVUw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684100400/reactions"
      },
      "updated_at" : "2023-08-18T15:41:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684100400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should we add exception(s) to `MaybePunishNodeForTx` for where a soft-fork made a previously standard transaction consensus invalid? Is this the only time that happened?",
      "created_at" : "2023-08-18T15:48:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684108390",
      "id" : 1684108390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kYXRm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684108390/reactions"
      },
      "updated_at" : "2023-08-18T15:48:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684108390",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's not really about `MaybePunishNodeForTx` (which already does not add a `Misbehaving` score for `TX_RECENT_CONSENSUS_CHANGE`), but rather to actually detect it's due to a recent consensus change and not a pre-existing consensus rule and return `TX_RECENT_CONSENSUS_CHANGE` in this case.",
      "created_at" : "2023-08-18T16:06:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684130991",
      "id" : 1684130991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kYcyv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684130991/reactions"
      },
      "updated_at" : "2023-08-18T16:06:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684130991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Isn't `TX_RECENT_CONSENSUS_CHANGE` meant for _more_ recent consensus changes?",
      "created_at" : "2023-08-18T18:12:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684266302",
      "id" : 1684266302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kY90-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684266302/reactions"
      },
      "updated_at" : "2023-08-18T18:12:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684266302",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> An invalid p2sh-wrapped Segwit spend [would be considered standard](https://github.com/bitcoin/bitcoin/blob/9779e1e1f320a45255f2e81325f2feceec3fa944/src/policy/policy.cpp#L139-L151) by a pre-segwit node, but consensus-invalid by a post-segwit node.\r\n\r\nAn invalid p2sh-wrapped segwit spend will violate the cleanstack rule (#5143,  released in v0.11.0 2015-07-12), by leaving both the segwit version and the witness program on the stack. For bitcoind versions prior to v10.0, I believe it would fail standardness checks due to only specific script templates being allowed, and segwit/p2sh not being one of them. So I think only bitcoind v10.x would relay this sort of tx.\r\n\r\n> So this change would make it possible for an attacker to broadcast an invalid spend of any p2sh-wrapped Segwit UTxO to all pre-0.13 nodes on the network thereby splitting them from the network.\r\n\r\nThe error for an invalid spend like that will be [overridden as `TX_WITNESS_STRIPPED`](https://github.com/bitcoin/bitcoin/blob/9b066da8af77f971046a42118fd65046321bed1b/src/validation.cpp#L1022-L1026) which doesn't result in a ban. \r\n\r\nDERSIG-invalid txs could presumably be relayed by nodes running versions prior to 0.8.0 (2013-02-19, #2008) though, \r\nand NULLDUMMY-invalid txs were presumably relayable prior to 0.10.0 (2015-02-16 #3843). Both would result in a misbehaving score and possible disconnection/discouragement with this PR.\r\n\r\nNote that a ban here wouldn't split them from the network -- they'd still be able to remain connected to nodes running bitcoind versions up to v0.25 nodes who can then connect to nodes running v0.26+. Also, running very old versions of bitcoind likely leaves your node vulnerable to long-fixed bugs that can have similar or worse results, eg https://en.bitcoin.it/wiki/CVE-2013-2293 or https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10724 .\r\n\r\n> They could still reconnect, but would be disconnected again until either a block is mined with a (valid) spend of the p2sh-wrapped segwit coin,\r\n\r\nThey'd only be disconnected again if they rebroadcast the tx; I expect that would only occur if the tx was sent to their wallet address. But as you say,\r\n\r\n> [...] But it would be trivial for the attacker to send another invalid spend of an unspent p2sh-wrapped segwit coin.\r\n\r\nIn general, I think the idea is just: provided the tx has been non-standard for >5 years, and the tx is consensus invalid anyway, it's fine to ban nodes that try to relay the tx. The only nodes this could potentially cause problems for are ones that are very old (and thus are likely buggy for other reasons), and it's easily worked around (by running the old node in blocksonly mode, or hiding it behind a new blocksonly node, or hiding it behind a node that runs an intermediate version). I believe for all the cases here, the txs have been non-standard for >8 years.",
      "created_at" : "2023-08-19T01:06:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684625627",
      "id" : 1684625627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kaVjb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684625627/reactions"
      },
      "updated_at" : "2023-08-19T01:06:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684625627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1b09cc5959d4719ffad131b395f8185e9ab4b1a1\r\n\r\nThe segwit version and the witness program are pushed as a single item on the scriptSig (for instance `<0 <20-bytes pubkey hash>>` for a P2SH-P2WPKH) so i don't think it would violate the cleanstack rule of 0.11 and 0.12 nodes. Regarding the templates i believe you are right. So that's only 0.10, 0.11 and 0.12 nodes that would relay an invalid p2sh-wrapped segwit spending transaction.\r\nHowever, as you say those shouldn't be a concern since the error would be overridden as `TX_WITNESS_STRIPPED`.\r\n\r\nAll your other comments make sense to me.",
      "created_at" : "2023-08-19T08:36:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684894313",
      "id" : 1684894313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kbXJp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684894313/reactions"
      },
      "updated_at" : "2023-08-19T08:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684894313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The segwit version and the witness program are pushed as a single item on the scriptSig (for instance `<0 <20-bytes pubkey hash>>` for a P2SH-P2WPKH) so i don't think it would violate the cleanstack rule of 0.11 and 0.12 nodes.\r\n\r\nA p2sh spend is evaluated in two parts, first by running the scriptSig to generate the stack of elements, then checking the top-most stack element matches the hash from the scriptPubKey (ie, running the scriptPubKey), then by interpreting the top-most stack element as a script and executing it with the remaining elements from the stack. It's this second step that leaves two (or more) entries on the stack and violates the cleanstack rule if you're not segwit aware. See https://github.com/bitcoin/bitcoin/blob/v0.11.0/src/script/interpreter.cpp#L1137-L1147\r\n\r\nHere's an example:\r\n\r\n```sh\r\n$ wget https://bitcoincore.org/bin/bitcoin-core-0.10.3/bitcoin-0.10.3-linux64.tar.gz\r\n$ tar xzvf bitcoin-0.10.3-linux64.tar.gz\r\n$ cd bitcoin-0.10.3/bin\r\n$ wget http://azure.erisian.com.au/~aj/tmp/bitcoin-testcase-26291.tgz\r\n$ echo 'a8019a747e93c2bb35787a70400087361f90459e9f267a0103a22df1021f62f2  bitcoin-testcase-26291.tgz' | sha256sum -c\r\nbitcoin-testcase-26291.tgz: OK\r\n$ tar xzvf bitcoin-testcase-26291.tgz\r\n$ mkdir datadir\r\n$ echo 'rpcpassword=pass' > datadir/bitcoin.conf\r\n$ ./bitcoind -regtest -datadir=`pwd`/datadir -daemon\r\n$ cat blocks-no-witness.txt | while read blk; do ./bitcoin-cli -regtest -datadir=`pwd`/datadir submitblock $blk; done\r\n$ ./bitcoin-cli -regtest -datadir=`pwd`/datadir getblockchaininfo | jq .blocks\r\n102\r\n$ ./bitcoin-cli -regtest -datadir=`pwd`/datadir sendrawtransaction $(cat tx-no-witness)\r\n134dabc7cb0f9b16583a3cff5d48695aebbc0b8d24fe4a57983f1156494a6e55\r\n```\r\n\r\nWith 0.11.1 instead, you get:\r\n\r\n```\r\nerror: {\"code\":-26,\"message\":\"64: non-mandatory-script-verify-flag (No error)\"}\r\n```\r\n\r\n(The \"unknown error\" was fixed in #11418)\r\n\r\nEDIT: err, \"unknown error\" is from 0.12.0 which says:\r\n\r\n```\r\nerror code: -26\r\nerror message:\r\n64: non-mandatory-script-verify-flag (unknown error)\r\n```",
      "created_at" : "2023-08-19T10:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1684913450",
      "id" : 1684913450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kbb0q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684913450/reactions"
      },
      "updated_at" : "2023-08-20T04:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1684913450",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Nothing interesting in the logs for 3 days now.",
      "created_at" : "2023-08-21T09:21:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1685964343",
      "id" : 1685964343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kfcY3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1685964343/reactions"
      },
      "updated_at" : "2023-08-21T09:21:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1685964343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I wrote a test script which goes through all of our releases since 0.9.0 to check which things that violate the updated mandatory flags get relayed: https://github.com/achow101/bitcoin/commit/d4730529012a37539c54312302f77c1af414f0d6\r\n\r\nIt makes and uses `sendrawtransaction` on single input transactions with the following:\r\n* p2sh-p2wpkh with invalid signature\r\n* p2sh-p2wpkh without witness\r\n* p2wpkh with invalid signature\r\n* p2wpkh without witness\r\n* p2tr with invalid signature\r\n* p2tr with invalid witness\r\n* p2sh multisig with non-null dummy\r\n* simple csv script prior to relative lock time\r\n* simple cltv script prior to lock time\r\n* p2pkh with non-canonical signature\r\n\r\nFrom 0.11.0 onwards, all of the above transactions are rejected by `sendrawtransaction`.\r\n\r\n0.9.x and 0.10.x accept the p2sh-p2wpkh, p2wpkh, and p2tr witness stripped transactions. 0.9.x additionally allows the non-null dummy, csv, and cltv transactions.\r\n\r\nAll tested versions reject the non-canonical signature.\r\n\r\n",
      "created_at" : "2023-08-23T02:36:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1689172774",
      "id" : 1689172774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585krrsm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689172774/reactions"
      },
      "updated_at" : "2023-08-23T02:46:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689172774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 very cool. Perhaps we can add this test (in another PR) with the caveat that none of the old releases run on our CI. It should have a brief instruction for how to fetch the old releases for those who do want to try.",
      "created_at" : "2023-08-23T08:53:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1689555172",
      "id" : 1689555172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585ktJDk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689555172/reactions"
      },
      "updated_at" : "2023-08-23T08:53:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689555172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> 0.9.x and 0.10.x accept the p2sh-p2wpkh, p2wpkh, and p2tr witness stripped transactions.\r\n\r\nNote that versions 0.9.x and 0.10.x checked tx standardness rules (`IsStandardTx`, `AreInputsStandard`) _only_ on mainnet, and there was no way to enable them for regtest/testnet (the `-acceptnonstdtxn` parameter was introduced in v0.12.0). E.g. for 0.9.0:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/92d25e4eebbc20c4b056faeab688b2cef5790bac/src/main.cpp#L806-L808\r\n\r\nSo on mainnet, I think all of the segwit spend transactions listed above (p2sh-p2wpkh, p2wpkh, p2tr) are also rejected for 0.9.x, and 0.10.x only accepts the p2sh-segwit spend (0.10.x allows non-standard P2SH redeem-scripts, as long as they don't exceed a certain sigop count).",
      "created_at" : "2023-08-23T11:12:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1689771603",
      "id" : 1689771603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585kt95T",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689771603/reactions"
      },
      "updated_at" : "2023-08-23T11:12:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1689771603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   }
]
