[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "#15169 proposed having net_processing not ban nodes for txs that didn't meet soft fork rules, which then allowed dropping the `MANDATORY_SCRIPT_VERIFY_FLAGS` constant entirely. Is that a better approach?\r\n\r\nOther previous discussion of the topic: https://github.com/bitcoin/bitcoin/pull/23536#pullrequestreview-905402394 https://github.com/bitcoin/bitcoin/pull/5696\r\n\r\n(EDIT: I was poking at this because I got an error about a taproot consensus rule that said it was \"non-mandatory\", which seemed misleading)",
      "created_at" : "2022-10-11T05:25:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1274104323",
      "id" : 1274104323,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585L8UoD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274104323/reactions"
      },
      "updated_at" : "2022-10-11T05:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1274104323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Seems like this could result in banning pre-Segwit and pre-Taproot nodes?",
      "created_at" : "2022-10-25T15:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1290731675",
      "id" : 1290731675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585M7wCb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290731675/reactions"
      },
      "updated_at" : "2022-10-25T15:15:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290731675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Seems like this could result in banning pre-Segwit and pre-Taproot nodes?\r\n\r\nIt would only impact nodes that produce/relay invalid segwit/taproot spends, ie ones that don't implement standardness checks. It also only triggers discouragement not banning, so affected peers can still reconnect. If we don't want to do that, we should probably drop `MaybePunishNodeForTx` entirely.",
      "created_at" : "2022-10-25T16:59:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1290869190",
      "id" : 1290869190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585M8RnG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290869190/reactions"
      },
      "updated_at" : "2022-10-25T16:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290869190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Approach ACK\r\n\r\nThe `non-mandatory` part is very misleading for actual consensus issues. Worse, the `TxValidationResult` is explicitly `TX_NOT_STANDARD`. \r\n\r\nI got about halfway through a very similar change before I found this PR. I don't think the risk of discouraging old nodes is all that high. As you said, it's only those who eschew standardness checks. We probably wouldn't want them to keep sending us incomplete or invalid data anyway.\r\n\r\n",
      "created_at" : "2023-01-23T19:56:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897110",
      "id" : 1400897110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Tf_5W",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897110/reactions"
      },
      "updated_at" : "2023-01-23T19:56:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/116917595?v=4",
         "events_url" : "https://api.github.com/users/john-moffett/events{/privacy}",
         "followers_url" : "https://api.github.com/users/john-moffett/followers",
         "following_url" : "https://api.github.com/users/john-moffett/following{/other_user}",
         "gists_url" : "https://api.github.com/users/john-moffett/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/john-moffett",
         "id" : 116917595,
         "login" : "john-moffett",
         "node_id" : "U_kgDOBvgFWw",
         "organizations_url" : "https://api.github.com/users/john-moffett/orgs",
         "received_events_url" : "https://api.github.com/users/john-moffett/received_events",
         "repos_url" : "https://api.github.com/users/john-moffett/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/john-moffett/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/john-moffett/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/john-moffett"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1476478682), [glozow](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479684455) |\n| Approach ACK | [john-moffett](https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897110) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27926](https://github.com/bitcoin/bitcoin/pull/27926) (policy: make unstructured annex standard by joostjager)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-01-23T19:56:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1400897144",
      "id" : 1400897144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Tf_54",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897144/reactions"
      },
      "updated_at" : "2023-06-26T18:32:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1400897144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "strong concept ACK on making it more clear on what flags are doing what(I find those names super unhelpful)\r\n\r\nCompletely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?",
      "created_at" : "2023-03-20T15:44:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1476478682",
      "id" : 1476478682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YAUba",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476478682/reactions"
      },
      "updated_at" : "2023-03-20T15:44:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1476478682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Completely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?\r\n\r\nI've added logging for `TX_NOT_STANDARD` in `MaybePunishNodeForTx`. After 20 hours or so running that on a listening node, I've had a couple of instances of rejections for `dust` (via `IsStandardTx` for outputs matching `IsDust`), but so far that's it.",
      "created_at" : "2023-03-21T13:25:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1477834856",
      "id" : 1477834856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YFfho",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477834856/reactions"
      },
      "updated_at" : "2023-03-21T13:25:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1477834856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK to at least not reporting consensus script failures as \"non-mandatory.\"\r\n\r\nwrt how the `TxValidationResult` types are used in `MaybePunishNodeForTx`, is something like this what `TX_RECENT_CONSENSUS_CHANGE` was intended for?",
      "created_at" : "2023-03-22T14:37:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479684455",
      "id" : 1479684455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YMjFn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479684455/reactions"
      },
      "updated_at" : "2023-03-22T14:37:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479684455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> wrt how the `TxValidationResult` types are used in `MaybePunishNodeForTx`, is something like this what `TX_RECENT_CONSENSUS_CHANGE` was intended for?\r\n\r\nSee #15141 where `RECENT_CONSENSUS_CHANGE` was introduced, and #11639 where it was discussed more (under the name `SOFT_FORK`). (Note that at that time, it applied to both blocks and txs, the validation results weren't separated  until #15921 -- so some of the discussion there focuses more on blocks that violate recent soft fork rules rather than txs)",
      "created_at" : "2023-03-22T15:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1479772800",
      "id" : 1479772800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585YM4qA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479772800/reactions"
      },
      "updated_at" : "2023-03-22T15:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1479772800",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Completely unsure on increasing the scope of what we disconnect for. Are we seeing these messages in the wild?\r\n> \r\n> I've added logging for `TX_NOT_STANDARD` in `MaybePunishNodeForTx`. After 20 hours or so running that on a listening node, I've had a couple of instances of rejections for `dust` (via `IsStandardTx` for outputs matching `IsDust`), but so far that's it.\r\n\r\nI've been running this on mainnet for a week now and have only caught non-standard tx failures for dust, so, no, I don't think we're seeing these in the wild. FWIW, my node discarded 505 non-standard txs, all due to the dust rule, and 493 of those txs were from a single node. Example discarded tx:\r\n\r\n```\r\n2023-03-28T06:35:05Z non-standard tx 95cfc86ba6e3141a991ad296fe6c3dba96879446bdac6a053529e08d97328f9a from peer=XXX: dust\r\n```",
      "created_at" : "2023-03-28T06:54:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1486312984",
      "id" : 1486312984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585Yl1YY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486312984/reactions"
      },
      "updated_at" : "2023-03-28T06:54:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486312984",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think these changes would mean we'd get taproot \"consensus\" looking failure strings for a test network for taproot isn't active? The rest of the flags being moved are under buried deployments which means block height N and beyond are enforcing it(including the next block definitionally). I haven't looked at this in a long time.\r\n\r\nedit: @ajtowns notes offline that while not buried, it's actually enforced on all post-segwit blocks(with a couple of exceptions hardcoded): https://github.com/bitcoin/bitcoin/pull/23536\r\n\r\nwill test...",
      "created_at" : "2023-06-23T14:50:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1604393299",
      "id" : 1604393299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585foRlT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604393299/reactions"
      },
      "updated_at" : "2023-06-23T16:12:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1604393299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've been running this for the last week, no transaction-based misbehavior reports in my logs. still unsure the juice is worth the squeeze, but appears to not be obviously harmful.\r\n\r\nedit: one option is to merge this, and still consider removing disconnects entirely as done in https://github.com/bitcoin/bitcoin/pull/15169, but it seems to be a much larger delta with unresolved conversations ",
      "created_at" : "2023-07-03T17:29:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#issuecomment-1618920692",
      "id" : 1618920692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26291",
      "node_id" : "IC_kwDOABII585gfsT0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1618920692/reactions"
      },
      "updated_at" : "2023-07-03T17:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1618920692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1295210529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Strictly speaking, wouldn't this sentence belong to `STANDARD_NOT_MANDATORY_VERIFY_FLAGS` rather than to `STANDARD_SCRIPT_VERIFY_FLAGS`? The latter includes mandatory flags, for which a violation _does_ lead to a ban/disconnect, as just stated in the same commit a few lines above (\"may trigger a DoS ban\").",
      "commit_id" : "02356fb84b0ff080b524fe26a30571d8a2f13377",
      "created_at" : "2023-08-15T22:33:21Z",
      "diff_hunk" : "@@ -69,10 +69,22 @@ static constexpr unsigned int DEFAULT_DESCENDANT_SIZE_LIMIT_KVB{101};\n  * configurable as it doesn't materially change DoS parameters.\n  */\n static constexpr unsigned int EXTRA_DESCENDANT_TX_SIZE_LIMIT{10000};\n+\n+\n+/**\n+ * Mandatory script verification flags that all new transactions must comply with for\n+ * them to be valid. Failing one of these tests may trigger a DoS ban;\n+ * see CheckInputScripts() for details.\n+ *\n+ * Note that this does not affect consensus validity; see GetBlockScriptFlags()\n+ * for that.\n+ */\n+static const unsigned int MANDATORY_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH;\n+\n /**\n  * Standard script verification flags that standard transactions will comply\n- * with. However scripts violating these flags may still be present in valid\n- * blocks and we must accept those blocks.\n+ * with. However we do not ban/disconnect nodes that forward txs violating\n+ * these rules, for better forwards and backwards compatability.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26291#discussion_r1295210529",
      "id" : 1295210529,
      "line" : 93,
      "node_id" : "PRRC_kwDOABII585NM1gh",
      "original_commit_id" : "461259c4ecc1e48d028eaea56061e72a6667ce4f",
      "original_line" : 87,
      "original_position" : 21,
      "original_start_line" : 86,
      "path" : "src/policy/policy.h",
      "position" : 27,
      "pull_request_review_id" : 1579561775,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26291",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 92,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-15T22:33:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295210529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   }
]
