[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30246).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [fjahr](https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2155888680), [brunoerg](https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2158209801) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-06-07T12:59:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2154788470",
      "id" : 2154788470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30246",
      "node_id" : "IC_kwDOABII586Ab3Z2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2154788470/reactions"
      },
      "updated_at" : "2024-06-10T12:26:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2154788470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/25942564631</sub>",
      "created_at" : "2024-06-07T17:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2155237099",
      "id" : 2155237099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30246",
      "node_id" : "IC_kwDOABII586Adk7r",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2155237099/reactions"
      },
      "updated_at" : "2024-06-07T17:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2155237099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-06-08T09:19:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2155888680",
      "id" : 2155888680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30246",
      "node_id" : "IC_kwDOABII586AgEAo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2155888680/reactions"
      },
      "updated_at" : "2024-06-08T09:19:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2155888680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-06-10T12:26:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2158209801",
      "id" : 2158209801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30246",
      "node_id" : "IC_kwDOABII586Ao6sJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2158209801/reactions"
      },
      "updated_at" : "2024-06-10T12:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2158209801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I haven't looked at the code yet but I just tested it with two asmap files a few months apart and with 25k addresses, looks fine:\r\n```\r\n78 address(es) reassigned from unassigned to AS51167\r\n47 address(es) reassigned from AS198949 to AS15557\r\n38 address(es) reassigned from AS45758 to AS45629\r\n18 address(es) reassigned from AS12715 to AS12479\r\n15 address(es) reassigned from AS57269 to AS8708\r\n12 address(es) reassigned from AS174 to AS212238\r\n9 address(es) reassigned from AS41378 to AS60024\r\n7 address(es) reassigned from unassigned to AS212238\r\n6 address(es) reassigned from AS212238 to AS174\r\n6 address(es) reassigned from AS9009 to AS51167\r\n6 address(es) reassigned from unassigned to AS141995\r\n6 address(es) reassigned from AS64286 to AS137409\r\n5 address(es) reassigned from AS834 to AS51167\r\n5 address(es) reassigned from AS62240 to AS206092\r\n5 address(es) reassigned from AS42366 to AS147049\r\n5 address(es) reassigned from AS202685 to AS51396\r\n4 address(es) reassigned from AS8972 to AS20773\r\n4 address(es) reassigned from AS3758 to AS9506\r\n4 address(es) reassigned from AS20838 to AS12479\r\n3 address(es) reassigned from AS51167 to AS40021\r\n3 address(es) reassigned from AS28220 to AS53059\r\n3 address(es) reassigned from AS8972 to AS29066\r\n3 address(es) reassigned from AS60808 to AS38136\r\n3 address(es) reassigned from AS9664 to AS38136\r\n3 address(es) reassigned from unassigned to AS39351\r\n3 address(es) reassigned from unassigned to AS136787\r\n3 address(es) reassigned from AS30860 to AS6698\r\n3 address(es) reassigned from AS22394 to AS6167\r\n2 address(es) reassigned from AS34549 to AS212238\r\n2 address(es) reassigned from AS61317 to AS62240\r\n2 address(es) reassigned from AS12638 to AS6805\r\n2 address(es) reassigned from AS57169 to AS9009\r\n2 address(es) reassigned from unassigned to AS41745\r\n2 address(es) reassigned from AS17554 to AS24334\r\n2 address(es) reassigned from AS42366 to AS136787\r\n2 address(es) reassigned from AS43180 to AS6698\r\n2 address(es) reassigned from AS43146 to AS197695\r\n2 address(es) reassigned from AS135097 to AS142286\r\n2 address(es) reassigned from AS264228 to AS28656\r\n2 address(es) reassigned from AS56902 to AS35197\r\n1 address(es) reassigned from unassigned to AS47583\r\n1 address(es) reassigned from AS35154 to AS12668\r\n1 address(es) reassigned from AS49276 to AS47987\r\n1 address(es) reassigned from unassigned to AS40021\r\n1 address(es) reassigned from AS8781 to AS42298\r\n1 address(es) reassigned from unassigned to AS50666\r\n1 address(es) reassigned from AS20454 to AS49037\r\n1 address(es) reassigned from unassigned to AS215623\r\n1 address(es) reassigned from AS6128 to AS53488\r\n1 address(es) reassigned from AS63023 to AS400175\r\n1 address(es) reassigned from AS207375 to AS206238\r\n1 address(es) reassigned from unassigned to AS203446\r\n1 address(es) reassigned from AS6167 to AS22394\r\n1 address(es) reassigned from AS31257 to AS204137\r\n1 address(es) reassigned from AS14277 to AS31769\r\n1 address(es) reassigned from AS26479 to AS397872\r\n1 address(es) reassigned from AS63023 to AS61112\r\n1 address(es) reassigned from AS25577 to unassigned\r\n1 address(es) reassigned from AS21769 to AS215659\r\n1 address(es) reassigned from AS61317 to AS47583\r\n1 address(es) reassigned from AS48728 to AS19905\r\n1 address(es) reassigned from AS10429 to AS26599\r\n1 address(es) reassigned from AS203963 to AS212238\r\n1 address(es) reassigned from unassigned to AS216071\r\n1 address(es) reassigned from AS6703 to AS21497\r\n1 address(es) reassigned from unassigned to AS152485\r\n1 address(es) reassigned from AS49055 to AS198610\r\n1 address(es) reassigned from AS3356 to unassigned\r\n1 address(es) reassigned from AS12389 to AS21378\r\n1 address(es) reassigned from AS59077 to AS58466\r\n1 address(es) reassigned from AS47869 to AS6206\r\n1 address(es) reassigned from AS206003 to AS206264\r\n1 address(es) reassigned from AS834 to AS47583\r\n1 address(es) reassigned from AS174 to AS400618\r\n1 address(es) reassigned from AS4134 to AS58466\r\n1 address(es) reassigned from AS834 to AS216183\r\n1 address(es) reassigned from AS51765 to AS136258\r\n1 address(es) reassigned from AS13672 to AS13977\r\n1 address(es) reassigned from AS59711 to AS215467\r\n1 address(es) reassigned from AS15542 to AS15435\r\n1 address(es) reassigned from AS55577 to AS18209\r\n1 address(es) reassigned from AS834 to AS134143\r\n1 address(es) reassigned from AS14080 to AS10620\r\n1 address(es) reassigned from AS136787 to AS62240\r\n1 address(es) reassigned from AS8851 to unassigned\r\n1 address(es) reassigned from AS28968 to AS216363\r\n1 address(es) reassigned from AS2542 to AS25472\r\n1 address(es) reassigned from AS31034 to AS202613\r\n1 address(es) reassigned from AS21586 to AS27425\r\n1 address(es) reassigned from AS49348 to AS3280\r\n1 address(es) reassigned from unassigned to AS57043\r\n1 address(es) reassigned from AS174 to AS3257\r\n1 address(es) reassigned from AS61317 to AS212238\r\n1 address(es) reassigned from AS209984 to AS203936\r\n1 address(es) reassigned from AS133199 to AS133861\r\n1 address(es) reassigned from AS57427 to AS57523\r\n1 address(es) reassigned from unassigned to AS197695\r\n1 address(es) reassigned from AS203020 to AS136787\r\n1 address(es) reassigned from AS208599 to AS199087\r\n1 address(es) reassigned from AS25086 to AS8359\r\nSummary: 391 (1.51%) of 25,875 addresses were reassigned\r\n```\r\n\r\nLooking at the ASes into peering db, the reassignments make sense.",
      "created_at" : "2024-06-21T12:43:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#issuecomment-2182683989",
      "id" : 2182683989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30246",
      "node_id" : "IC_kwDOABII586CGR1V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2182683989/reactions"
      },
      "updated_at" : "2024-06-21T12:43:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2182683989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651050889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651050889"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: sys isn't in the right alphabetical order here. You could reorder it while you are at it.",
      "commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "created_at" : "2024-06-24T13:36:44Z",
      "diff_hunk" : "@@ -6,7 +6,9 @@\n import argparse\n import sys",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651050889",
      "id" : 1651050889,
      "line" : 7,
      "node_id" : "PRRC_kwDOABII585iaQmJ",
      "original_commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "original_line" : 7,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "contrib/asmap/asmap-tool.py",
      "position" : 2,
      "pull_request_review_id" : 2135834115,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651050889/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-24T13:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651050889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651055643"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651055643"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You should name the specific settings to run getnodeaddresses with so that the result is as expected. I guess that would be 0 and all (default) right? I fear that if people do it wrong they could get a result like \"nothing was reassigned\" and then think: oh great, the internet is so stable nowadays ;)",
      "commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "created_at" : "2024-06-24T13:39:56Z",
      "diff_hunk" : "@@ -113,6 +115,17 @@ def main():\n     parser_diff.add_argument('infile2', type=argparse.FileType('rb'),\n                              help=\"second file to compare (text or binary)\")\n \n+    parser_diff_addrs = subparsers.add_parser(\"diff_addrs\",\n+                                              help=\"compute difference between two asmap files for a set of addresses\")\n+    parser_diff_addrs.add_argument('-s', '--show-addresses', dest=\"show_addresses\", default=False, action=\"store_true\",\n+                                   help=\"include reassigned addresses in the output\")\n+    parser_diff_addrs.add_argument(\"infile1\", type=argparse.FileType(\"rb\"),\n+                                   help=\"first file to compare (text or binary)\")\n+    parser_diff_addrs.add_argument(\"infile2\", type=argparse.FileType(\"rb\"),\n+                                   help=\"second file to compare (text or binary)\")\n+    parser_diff_addrs.add_argument(\"addrs_file\", type=argparse.FileType(\"r\"),\n+                                   help=\"address file generated with getnodeaddresses to use in the comparison\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651055643",
      "id" : 1651055643,
      "line" : 127,
      "node_id" : "PRRC_kwDOABII585iaRwb",
      "original_commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "original_line" : 127,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "contrib/asmap/asmap-tool.py",
      "position" : 23,
      "pull_request_review_id" : 2135834115,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651055643/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-24T13:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651055643",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651063291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651063291"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe add the count of addresses that were unassigned here specifically in the summary. Those may be among the most interesting to look at so I think it could be highlighted.",
      "commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "created_at" : "2024-06-24T13:44:38Z",
      "diff_hunk" : "@@ -148,6 +161,29 @@ def main():\n             f\"# {ipv4_changed}{ipv4_change_str} IPv4 addresses changed; \"\n             f\"{ipv6_changed}{ipv6_change_str} IPv6 addresses changed\"\n         )\n+    elif args.subcommand == \"diff_addrs\":\n+        state1 = load_file(args.infile1)\n+        state2 = load_file(args.infile2)\n+        address_info = json.load(args.addrs_file)\n+        addrs = {a[\"address\"] for a in address_info if a[\"network\"] in [\"ipv4\", \"ipv6\"]}\n+        reassignments = defaultdict(list)\n+        for addr in addrs:\n+            net = ipaddress.ip_network(addr)\n+            prefix = asmap.net_to_prefix(net)\n+            old_asn = state1.lookup(prefix)\n+            new_asn = state2.lookup(prefix)\n+            if new_asn != old_asn:\n+                reassignments[(old_asn, new_asn)].append(addr)\n+        reassignments = sorted(reassignments.items(), key=lambda item: len(item[1]), reverse=True)\n+        for (old_asn, new_asn), reassigned_addrs in reassignments:\n+            num_reassigned = len(reassigned_addrs)\n+            old_asn = f\"AS{old_asn}\" if old_asn else \"unassigned\"\n+            new_asn = f\"AS{new_asn}\" if new_asn else \"unassigned\"\n+            opt = \": \" + \", \".join(reassigned_addrs) if args.show_addresses else \"\"\n+            print(f\"{num_reassigned} address(es) reassigned from {old_asn} to {new_asn}{opt}\")\n+        num_reassignments = sum(len(addrs) for _, addrs in reassignments)\n+        share = num_reassignments / len(addrs) if len(addrs) > 0 else 0\n+        print(f\"Summary: {num_reassignments:,} ({share:.2%}) of {len(addrs):,} addresses were reassigned.\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30246#discussion_r1651063291",
      "id" : 1651063291,
      "line" : 186,
      "node_id" : "PRRC_kwDOABII585iaTn7",
      "original_commit_id" : "42eb7b144c09f0404487f2f5d17ca1a3e91c9365",
      "original_line" : 186,
      "original_position" : 54,
      "original_start_line" : null,
      "path" : "contrib/asmap/asmap-tool.py",
      "position" : 54,
      "pull_request_review_id" : 2135834115,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30246",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651063291/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-24T13:46:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1651063291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
