[
   {
      "author_association" : "MEMBER",
      "body" : "Hi @Fonta1n3 \r\n\r\nI've taken a look at this , but in making a few changes one thing I wasn't sure of from a design perspective, was whether it would be more (or less) deisrable to have the `bip32derivs` bool always toggle _both_ input and output derivations, or might be preferable to have an option for doing each independently?\r\n\r\nI think having them both effected by the same option probably makes more sense (in terms of what a user would \"expect\"), and I think it would actually still be possible to add them to inputs _or_ outputs even with this new behaviour (by calling `walletprocesspsbt` individually for inputs and outputs with the flag inverted).\r\n\r\nBut I was wondering if you might be able to elaborate more on your use-case/workflow that you have in mind?\r\n\r\n",
      "created_at" : "2024-06-25T19:43:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30294#issuecomment-2189839521",
      "id" : 2189839521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30294",
      "node_id" : "IC_kwDOABII586Chkyh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2189839521/reactions"
      },
      "updated_at" : "2024-06-25T19:43:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2189839521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think it should remove all bip32derivs.\n\nMy flow is like this:\n\nCreate a psbt with bip32derivs included, pass psbt to offline signer which signs inputs.\n\nPass signed psbt to walletprocesspsbt with bip32derivs set to false so that I can share the resulting psbt with other parties to create collaborative transactions, currently they would see my seed fingerprint and derivation paths for outputs which is not ideal.",
      "created_at" : "2024-06-25T21:10:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30294#issuecomment-2189975986",
      "id" : 2189975986,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30294",
      "node_id" : "IC_kwDOABII586CiGGy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2189975986/reactions"
      },
      "updated_at" : "2024-06-25T21:10:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2189975986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/30832395?v=4",
         "events_url" : "https://api.github.com/users/Fonta1n3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Fonta1n3/followers",
         "following_url" : "https://api.github.com/users/Fonta1n3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Fonta1n3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Fonta1n3",
         "id" : 30832395,
         "login" : "Fonta1n3",
         "node_id" : "MDQ6VXNlcjMwODMyMzk1",
         "organizations_url" : "https://api.github.com/users/Fonta1n3/orgs",
         "received_events_url" : "https://api.github.com/users/Fonta1n3/received_events",
         "repos_url" : "https://api.github.com/users/Fonta1n3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Fonta1n3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Fonta1n3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Fonta1n3"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok I see, what you are actually after is an active \"eraser\", so that you can perform the signing (perhaps on an HWW) with derivation paths included, but then not have them present when passing on to another party. I think this works better for the `Combiner` role, personally.\r\n\r\nYour workflow would then work something more like this:\r\n\r\n> Create a psbt with bip32derivs included, pass psbt to offline signer which signs inputs.\r\n>\r\n> Pass signed psbt to `combinepsbt` with _some flag_ set to `false` so that I can share the resulting psbt with other parties to create collaborative transactions...\r\n\r\nI opened a draft PR https://github.com/bitcoin/bitcoin/pull/30341 to try and get some feedback on my current approach to this.\r\n",
      "created_at" : "2024-06-26T11:02:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/30294#issuecomment-2191419205",
      "id" : 2191419205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30294",
      "node_id" : "IC_kwDOABII586CnmdF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2191419205/reactions"
      },
      "updated_at" : "2024-06-26T11:05:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2191419205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
