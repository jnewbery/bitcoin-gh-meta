[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/30212).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/30212#pullrequestreview-2094224853), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/30212#pullrequestreview-2103261626) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-05-31T14:03:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#issuecomment-2142266947",
      "id" : 2142266947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30212",
      "node_id" : "IC_kwDOABII585_sGZD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2142266947/reactions"
      },
      "updated_at" : "2024-06-14T03:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2142266947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This addresses #19363 's concern:\r\n\r\n> If a transaction is already in the block chain, and all of its outputs are spent, the BroadcastTransaction() fails to detect the correct transaction status. It returns TransactionError::MISSING_INPUTS instead of TransactionError::ALREADY_IN_CHAIN.\r\n\r\n...by now returning `TransactionError::INPUTS_MISSING_OR_SPENT`. The [translation](https://github.com/bitcoin/bitcoin/blob/62f7f59ff495fbcbfc10c25e97bb0dc032647abf/src/util/error.cpp#L19) for this error message already indicated this error may mean the inputs were missing or spent.",
      "created_at" : "2024-05-31T14:07:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#issuecomment-2142284206",
      "id" : 2142284206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30212",
      "node_id" : "IC_kwDOABII585_sKmu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2142284206/reactions"
      },
      "updated_at" : "2024-05-31T14:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2142284206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1630291371"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630291371"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice, I think we should also rename the one in `TxValidationResult` enum.\r\n\r\ng/`TX_MISSING_INPUTS`/`TX_MISSING_INPUT_OR_SPENT`/g\r\nand update comments appropriately.",
      "commit_id" : "aa422bcb898b7e3aa8dca912d92016bd22cf243d",
      "created_at" : "2024-06-06T21:40:23Z",
      "diff_hunk" : "@@ -22,7 +22,7 @@ static TransactionError HandleATMPError(const TxValidationState& state, std::str\n     err_string_out = state.ToString();\n     if (state.IsInvalid()) {\n         if (state.GetResult() == TxValidationResult::TX_MISSING_INPUTS) {\n-            return TransactionError::MISSING_INPUTS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1630291371",
      "id" : 1630291371,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII585hLEWr",
      "original_commit_id" : "e9d2fd31c353e6e392d43df028685b0d1caf042d",
      "original_line" : 25,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/transaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 2103261626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630291371/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-07T08:48:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630291371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1636456867"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1636456867"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I did consider this, but it felt much less exposed to the user, only via `testmempoolaccept` AFAIK:\r\n\r\n```cpp\r\n    result_inner.pushKV(\"reject-reason\", \"missing-inputs\");\r\n```\r\n\r\nTherefore as an \"internal error\", `TX_MISSING_INPUTS` (for any reason) it felt more accurate to me to leave as is? Very happy to be persuaded away from this viewpoint though :)",
      "commit_id" : "aa422bcb898b7e3aa8dca912d92016bd22cf243d",
      "created_at" : "2024-06-12T13:22:23Z",
      "diff_hunk" : "@@ -22,7 +22,7 @@ static TransactionError HandleATMPError(const TxValidationState& state, std::str\n     err_string_out = state.ToString();\n     if (state.IsInvalid()) {\n         if (state.GetResult() == TxValidationResult::TX_MISSING_INPUTS) {\n-            return TransactionError::MISSING_INPUTS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1636456867",
      "id" : 1636456867,
      "in_reply_to_id" : 1630291371,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII585hilmj",
      "original_commit_id" : "e9d2fd31c353e6e392d43df028685b0d1caf042d",
      "original_line" : 25,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/transaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 2113010733,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1636456867/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-12T13:22:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1636456867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-06-12T22:26:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#issuecomment-2164000886",
      "id" : 2164000886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30212",
      "node_id" : "IC_kwDOABII586A_Ah2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2164000886/reactions"
      },
      "updated_at" : "2024-06-12T22:26:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2164000886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1638282582"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1638282582"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Therefore as an \"internal error\", TX_MISSING_INPUTS (for any reason) it felt more accurate to me to leave as is?\r\n\r\nI was reviewing this based on the PR rationale in the OP. You stated that \"a transaction's inputs are missing from the UTXO set, which could also be due to all inputs having already been spent (MISSING_INPUTS -> INPUTS_MISSING_OR_SPENT).\" That's why I suggested that `TxValidationResult` one  should be changed just for uniformity. But Internally, you're right `TX_MISSING_INPUTS` inferred or spent.\r\n\r\nMaybe just update the `testmempoolaccept` reject reason since it's user-facing?\r\n\r\nBut if you agree, you may have to update some functional tests that use it and maybe a release note since users heavily use the RPC.\r\n\r\nThis is a non blocking comment.\r\n\r\nThis PR is an improvement and will close the [issue](https://github.com/bitcoin/bitcoin/issues/19363)",
      "commit_id" : "aa422bcb898b7e3aa8dca912d92016bd22cf243d",
      "created_at" : "2024-06-13T14:05:29Z",
      "diff_hunk" : "@@ -22,7 +22,7 @@ static TransactionError HandleATMPError(const TxValidationState& state, std::str\n     err_string_out = state.ToString();\n     if (state.IsInvalid()) {\n         if (state.GetResult() == TxValidationResult::TX_MISSING_INPUTS) {\n-            return TransactionError::MISSING_INPUTS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1638282582",
      "id" : 1638282582,
      "in_reply_to_id" : 1630291371,
      "line" : 25,
      "node_id" : "PRRC_kwDOABII585hpjVW",
      "original_commit_id" : "e9d2fd31c353e6e392d43df028685b0d1caf042d",
      "original_line" : 25,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/node/transaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 2115911139,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1638282582/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-13T14:05:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1638282582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on master to fix merge conflict.\r\n\r\nAdded an extra commit to cover `PSBTError::MISSING_INPUTS`.",
      "created_at" : "2024-06-14T13:16:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#issuecomment-2168023304",
      "id" : 2168023304,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/30212",
      "node_id" : "IC_kwDOABII586BOWkI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2168023304/reactions"
      },
      "updated_at" : "2024-06-14T13:16:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2168023304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1645010762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645010762"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"refactor: PSBTError::MISSING_INPUTS\" (b2b4b932572c5bb1ffa3fc4f34e17130348fbc24)\r\n\r\nDoes the name INPUTS_MISSING_OR_SPENT actually make sense to describe these two errors from FillPSBT? I'm not sure, but it seems these errors would only happen if the PSBT data was not internally consistent, so maybe it would be more appropriate to call this error something like PSBTError::INPUTS_INVALID?",
      "commit_id" : "b2b4b932572c5bb1ffa3fc4f34e17130348fbc24",
      "created_at" : "2024-06-18T20:21:36Z",
      "diff_hunk" : "@@ -652,7 +652,7 @@ std::optional<PSBTError> LegacyScriptPubKeyMan::FillPSBT(PartiallySignedTransact\n         // Check non_witness_utxo has specified prevout\n         if (input.non_witness_utxo) {\n             if (txin.prevout.n >= input.non_witness_utxo->vout.size()) {\n-                return PSBTError::MISSING_INPUTS;\n+                return PSBTError::INPUTS_MISSING_OR_SPENT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1645010762",
      "id" : 1645010762,
      "line" : 655,
      "node_id" : "PRRC_kwDOABII585iDN9K",
      "original_commit_id" : "b2b4b932572c5bb1ffa3fc4f34e17130348fbc24",
      "original_line" : 655,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : 5,
      "pull_request_review_id" : 2126419118,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645010762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-18T20:21:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1645010762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1648820384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648820384"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes I agree on re-reading this that this error does not quite correctly describe the specific check being failed here, which is that the outpoints vout is not higher than the number of vouts in the input, i.e. it is by definition invalid.\r\n\r\nI have taken your suggestion on the wording in 77ef75d3ce4bff76a0db730b57896dcf7e8f3988",
      "commit_id" : "77ef75d3ce4bff76a0db730b57896dcf7e8f3988",
      "created_at" : "2024-06-21T11:07:55Z",
      "diff_hunk" : "@@ -652,7 +652,7 @@ std::optional<PSBTError> LegacyScriptPubKeyMan::FillPSBT(PartiallySignedTransact\n         // Check non_witness_utxo has specified prevout\n         if (input.non_witness_utxo) {\n             if (txin.prevout.n >= input.non_witness_utxo->vout.size()) {\n-                return PSBTError::MISSING_INPUTS;\n+                return PSBTError::INPUTS_MISSING_OR_SPENT;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/30212#discussion_r1648820384",
      "id" : 1648820384,
      "in_reply_to_id" : 1645010762,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585iRwCg",
      "original_commit_id" : "b2b4b932572c5bb1ffa3fc4f34e17130348fbc24",
      "original_line" : 655,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/scriptpubkeyman.cpp",
      "position" : null,
      "pull_request_review_id" : 2132417541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/30212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648820384/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-06-21T11:07:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1648820384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
