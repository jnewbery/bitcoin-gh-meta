[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29774).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2029699799) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28526](https://github.com/bitcoin/bitcoin/pull/28526) (Add 1-way SSE4 SHA256 implementation using intrinsics for MSVC builds by hebasto)\n* [#24773](https://github.com/bitcoin/bitcoin/pull/24773) (Enable HW-accelerated implementations of SHA256 for MSVC builds by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-03-31T16:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2028806381",
      "id" : 2028806381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII58547SDt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028806381/reactions"
      },
      "updated_at" : "2024-04-06T04:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028806381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Friendly ping @sipa @maflcko @sipsorcery @dergoegge ;)",
      "created_at" : "2024-03-31T16:01:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2028806559",
      "id" : 2028806559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII58547SGf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028806559/reactions"
      },
      "updated_at" : "2024-03-31T16:01:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028806559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@hebasto What is the issue with the bitdeque and miniscript fuzz tests?",
      "created_at" : "2024-03-31T16:07:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2028808614",
      "id" : 2028808614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII58547Smm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028808614/reactions"
      },
      "updated_at" : "2024-03-31T16:07:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028808614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What is the issue with the bitdeque and miniscript fuzz tests?\r\n\r\nHere is a [branch](https://github.com/hebasto/bitcoin/tree/240331-msvc-fuzz.bitdeque) with included `bitdeque.cpp` and the excerpt from its [build log](https://github.com/hebasto/bitcoin/actions/runs/8499430427/job/23280244758):\r\n```\r\n  bitdeque.cpp\r\nD:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(91,20): error C2248: 'bitdeque<128>::BITS_PER_WORD': cannot access private member declared in class 'bitdeque<128>' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\fuzz\\fuzz.vcxproj]\r\n  D:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(28,26): note: see declaration of 'bitdeque<128>::BITS_PER_WORD'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(18,23): note: see declaration of 'bitdeque<128>'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(91,20): note: the template instantiation context (the oldest one first) is\r\n  D:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(215,17): note: see reference to class template instantiation 'bitdeque<128>::Iterator<true>' being compiled\r\n  D:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(89,32): note: while compiling class template member function 'bitdeque<128>::Iterator<true>::difference_type operator -(const bitdeque<128>::Iterator<true> &,const bitdeque<128>::Iterator<true> &)'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(215,17): note: see the first reference to 'operator -' in 'bitdeque_fuzz_target::<lambda_18>::operator ()'\r\nD:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(91,20): error C2248: 'bitdeque<128>::BITS_PER_WORD': cannot access private member declared in class 'bitdeque<128>' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\fuzz\\fuzz.vcxproj]\r\n  (compiling source file '../../src/test/fuzz/bitdeque.cpp')\r\n  D:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(28,26):\r\n  see declaration of 'bitdeque<128>::BITS_PER_WORD'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(18,23):\r\n  see declaration of 'bitdeque<128>'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(91,20):\r\n  the template instantiation context (the oldest one first) is\r\n  \tD:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(215,17):\r\n  \tsee reference to class template instantiation 'bitdeque<128>::Iterator<true>' being compiled\r\n  \tD:\\a\\bitcoin\\bitcoin\\src\\util\\bitdeque.h(89,32):\r\n  \twhile compiling class template member function 'bitdeque<128>::Iterator<true>::difference_type operator -(const bitdeque<128>::Iterator<true> &,const bitdeque<128>::Iterator<true> &)'\r\n  \t\tD:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\bitdeque.cpp(215,17):\r\n  \t\tsee the first reference to 'operator -' in 'bitdeque_fuzz_target::<lambda_18>::operator ()'  \r\n```\r\n\r\nHere is a [branch](https://github.com/hebasto/bitcoin/tree/240331-msvc-fuzz.miniscript) with included `miniscript.cpp` and the excerpt from its [build log](https://github.com/hebasto/bitcoin/actions/runs/8499436657/job/23280257766):\r\n```\r\n  miniscript.cpp\r\nD:\\a\\bitcoin\\bitcoin\\src\\script\\miniscript.h(154,13): error C2248: 'miniscript::Type::Type': cannot access private member declared in class 'miniscript::Type' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\fuzz\\fuzz.vcxproj]\r\n  D:\\a\\bitcoin\\bitcoin\\src\\script\\miniscript.h(127,5): note: see declaration of 'miniscript::Type::Type'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\script\\miniscript.h(122,7): note: see declaration of 'miniscript::Type'\r\n  D:\\a\\bitcoin\\bitcoin\\src\\test\\fuzz\\miniscript.cpp(1226,53): note: while evaluating constexpr function 'miniscript::operator \"\"_mst'\r\n```",
      "created_at" : "2024-03-31T16:44:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2028819335",
      "id" : 2028819335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII58547VOH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028819335/reactions"
      },
      "updated_at" : "2024-03-31T16:44:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028819335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Closes https://github.com/bitcoin/bitcoin/issues/29760.\n> \n> Suggested in https://github.com/bitcoin/bitcoin/pull/29758#issuecomment-2025593572.\n> \n> Once this PR collects concept ACKs, I'm going to open dedicated PRs to fix portability issues in the code.\n\n",
      "created_at" : "2024-03-31T20:30:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2028897448",
      "id" : 2028897448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII58547oSo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028897448/reactions"
      },
      "updated_at" : "2024-03-31T20:30:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028897448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/135180067?v=4",
         "events_url" : "https://api.github.com/users/Richlilyjoy100/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Richlilyjoy100/followers",
         "following_url" : "https://api.github.com/users/Richlilyjoy100/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Richlilyjoy100/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Richlilyjoy100",
         "id" : 135180067,
         "login" : "Richlilyjoy100",
         "node_id" : "U_kgDOCA6vIw",
         "organizations_url" : "https://api.github.com/users/Richlilyjoy100/orgs",
         "received_events_url" : "https://api.github.com/users/Richlilyjoy100/received_events",
         "repos_url" : "https://api.github.com/users/Richlilyjoy100/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Richlilyjoy100/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Richlilyjoy100/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Richlilyjoy100"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1545857799"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545857799"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How about `key_data.size()` rather than `32`?",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-03-31T22:37:20Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@ void MockedDescriptorConverter::Init() {\n         // an extended one.\n         if (IdIsCompPubKey(i) || IdIsUnCompPubKey(i) || IdIsXOnlyPubKey(i) || IdIsConstPrivKey(i)) {\n             CKey privkey;\n-            privkey.Set(UCharCast(key_data.begin()), UCharCast(key_data.end()), !IdIsUnCompPubKey(i));\n+            privkey.Set(UCharCast(key_data.data()), UCharCast(key_data.data()) + 32, !IdIsUnCompPubKey(i));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1545857799",
      "id" : 1545857799,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585cI-sH",
      "original_commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "original_line" : 18,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 1970499269,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545857799/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-31T22:37:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545857799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2\r\n\r\nNice, I'm surprised how few changes/disabling of tests were needed to make this work.",
      "created_at" : "2024-04-01T12:43:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2029699799",
      "id" : 2029699799,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5854-sLX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029699799/reactions"
      },
      "updated_at" : "2024-04-01T12:43:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029699799",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546288181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546288181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain why `UCharCast` is needed? If there is no need for it, it may be better to remove it. If there is need for it, the `Set` function signature should be adjusted accordingly.",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-01T12:50:01Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@ void MockedDescriptorConverter::Init() {\n         // an extended one.\n         if (IdIsCompPubKey(i) || IdIsUnCompPubKey(i) || IdIsXOnlyPubKey(i) || IdIsConstPrivKey(i)) {\n             CKey privkey;\n-            privkey.Set(UCharCast(key_data.begin()), UCharCast(key_data.end()), !IdIsUnCompPubKey(i));\n+            privkey.Set(UCharCast(key_data.data()), UCharCast(key_data.data()) + 32, !IdIsUnCompPubKey(i));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546288181",
      "id" : 1546288181,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585cKnw1",
      "original_commit_id" : "f7846c09ad58b047cf5597cf856dff0e46a67720",
      "original_line" : 18,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 1971199694,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546288181/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-01T12:50:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546288181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546302381"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546302381"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Can avoid the cast when using `std::cin::char_type` for `buffer`",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-01T12:55:45Z",
      "diff_hunk" : "@@ -136,11 +135,13 @@ void initialize()\n static bool read_stdin(std::vector<uint8_t>& data)\n {\n     uint8_t buffer[1024];\n-    ssize_t length = 0;\n-    while ((length = read(STDIN_FILENO, buffer, 1024)) > 0) {\n+    size_t length = 0;\n+    do {\n+        std::cin.read(reinterpret_cast<char*>(buffer), 1024);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546302381",
      "id" : 1546302381,
      "line" : 140,
      "node_id" : "PRRC_kwDOABII585cKrOt",
      "original_commit_id" : "df5a7433dd3e96b4d448bdff91ae1e08ffb7575f",
      "original_line" : 140,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/fuzz.cpp",
      "position" : 16,
      "pull_request_review_id" : 1971218358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546302381/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-01T13:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546302381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546307563"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546307563"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain why the type is changed?",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-01T12:58:20Z",
      "diff_hunk" : "@@ -136,11 +135,13 @@ void initialize()\n static bool read_stdin(std::vector<uint8_t>& data)\n {\n     uint8_t buffer[1024];\n-    ssize_t length = 0;\n-    while ((length = read(STDIN_FILENO, buffer, 1024)) > 0) {\n+    size_t length = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546307563",
      "id" : 1546307563,
      "line" : 138,
      "node_id" : "PRRC_kwDOABII585cKsfr",
      "original_commit_id" : "df5a7433dd3e96b4d448bdff91ae1e08ffb7575f",
      "original_line" : 138,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/test/fuzz/fuzz.cpp",
      "position" : 14,
      "pull_request_review_id" : 1971218358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546307563/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-01T13:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546307563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546309747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546309747"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure about mixing exceptions and a bool return value. Either void+exceptions, or a bool return value + no exceptions, but bool return value + exceptions doesn't make sense, does it?",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-01T13:01:15Z",
      "diff_hunk" : "@@ -136,11 +135,13 @@ void initialize()\n static bool read_stdin(std::vector<uint8_t>& data)\n {\n     uint8_t buffer[1024];\n-    ssize_t length = 0;\n-    while ((length = read(STDIN_FILENO, buffer, 1024)) > 0) {\n+    size_t length = 0;\n+    do {\n+        std::cin.read(reinterpret_cast<char*>(buffer), 1024);\n+        length = std::cin.gcount();\n         data.insert(data.end(), buffer, buffer + length);\n-    }\n-    return length == 0;\n+    } while (length > 0);\n+    return std::cin.eof();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546309747",
      "id" : 1546309747,
      "line" : 144,
      "node_id" : "PRRC_kwDOABII585cKtBz",
      "original_commit_id" : "df5a7433dd3e96b4d448bdff91ae1e08ffb7575f",
      "original_line" : 144,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/test/fuzz/fuzz.cpp",
      "position" : 22,
      "pull_request_review_id" : 1971218358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546309747/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-01T13:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546309747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546311356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546311356"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        run: py -3 test\\fuzz\\test_runner.py --par %NUMBER_OF_PROCESSORS% --loglevel DEBUG %RUNNER_TEMP%\\qa-assets\\fuzz_seed_corpus\r\n```\r\n\r\nThis is for libfuzzer only, so could be removed?",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-01T13:03:28Z",
      "diff_hunk" : "@@ -295,3 +295,16 @@ jobs:\n           TEST_RUNNER_EXTRA: ${{ github.event_name != 'pull_request' && '--extended' || '' }}\n         shell: cmd\n         run: py -3 test\\functional\\test_runner.py --jobs %NUMBER_OF_PROCESSORS% --ci --quiet --tmpdirprefix=%RUNNER_TEMP% --combinedlogslen=99999999 --timeout-factor=%TEST_RUNNER_TIMEOUT_FACTOR% %TEST_RUNNER_EXTRA%\n+\n+      - name: Clone fuzz corpus\n+        run: |\n+          git clone --depth=1 https://github.com/bitcoin-core/qa-assets \"$env:RUNNER_TEMP\\qa-assets\"\n+          Set-Location \"$env:RUNNER_TEMP\\qa-assets\"\n+          Write-Host \"Using qa-assets repo from commit ...\"\n+          git log -1\n+\n+      - name: Run fuzz binaries\n+        env:\n+          BITCOINFUZZ: \"${{ github.workspace}}\\\\src\\\\fuzz.exe\"\n+        shell: cmd\n+        run: py -3 test\\fuzz\\test_runner.py --par %NUMBER_OF_PROCESSORS% --loglevel DEBUG --empty_min_time=60 %RUNNER_TEMP%\\qa-assets\\fuzz_seed_corpus",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1546311356",
      "id" : 1546311356,
      "line" : 310,
      "node_id" : "PRRC_kwDOABII585cKta8",
      "original_commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "original_line" : 310,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : ".github/workflows/ci.yml",
      "position" : 16,
      "pull_request_review_id" : 1971218358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546311356/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-01T13:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1546311356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I get 14 compiler errors when building this PR with Visual Studio.\r\n\r\nOne example on line 282 of transaction_tests.cpp:\r\n\r\n`UniValue tests = read_json(json_tests::tx_invalid);`\r\n\r\nGives compiler error of:\r\n\r\n```\r\nError\tC2664\t'UniValue read_json(const std::string &)': \r\ncannot convert argument 1 from 'const unsigned char [53413]' to 'const std::string &'\t\r\ntest_bitcoin\tC:\\dev\\github\\bitcoin\\src\\test\\transaction_tests.cpp\t282\r\n```\r\n\r\nIt's easy enough to fix by casting the unsigned char[] to std::string but perhaps there's a deeper issue?",
      "created_at" : "2024-04-01T17:27:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2030205417",
      "id" : 2030205417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855Annp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030205417/reactions"
      },
      "updated_at" : "2024-04-01T17:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030205417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipsorcery \r\n> I get 14 compiler errors when building this PR with Visual Studio.\r\n\r\nHow does your setup differ from the one in the CI?",
      "created_at" : "2024-04-01T18:08:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2030270823",
      "id" : 2030270823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855A3ln",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030270823/reactions"
      },
      "updated_at" : "2024-04-01T18:08:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030270823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> One example on line 282 of transaction_tests.cpp:\r\n\r\nI believe this is unrelated to this PR, see https://github.com/bitcoin/bitcoin/issues/29051. `make clean` and rebuilding should fix it.",
      "created_at" : "2024-04-05T14:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2039930366",
      "id" : 2039930366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855lt3-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2039930366/reactions"
      },
      "updated_at" : "2024-04-05T14:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2039930366",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I believe this is unrelated to this PR, see #29051. `make clean` and rebuilding should fix it.\r\n\r\nI'm on Windows and using msvc but I did do a clean build but it didn't help.\r\n\r\nI suspect it's down to msvc being less forgiving than gcc, probably due to a recent msvc change although I couldn't find anything in the release notes.\r\n\r\nApolgies for dumping a screenshot but it does show a succinct summary of the issue. This is from an attempt to compile (no linking involved) the single blockfilter_tests.cpp file.\r\n\r\n![image](https://github.com/bitcoin/bitcoin/assets/197660/55968ab6-3438-4043-8113-6d364ea88ac2)\r\n\r\n",
      "created_at" : "2024-04-05T21:38:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2040660307",
      "id" : 2040660307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855ogFT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2040660307/reactions"
      },
      "updated_at" : "2024-04-05T21:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2040660307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipsorcery \r\n> I'm on Windows and using msvc but I did do a clean build but it didn't help.\r\n\r\nWhat VS / MSVC versions do you use?",
      "created_at" : "2024-04-06T12:20:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2041067714",
      "id" : 2041067714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855qDjC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041067714/reactions"
      },
      "updated_at" : "2024-04-06T12:20:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041067714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This is from an attempt to compile (no linking involved) the single blockfilter_tests.cpp file.\r\n\r\nDoes it compile on the master branch for you?",
      "created_at" : "2024-04-06T12:22:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2041068131",
      "id" : 2041068131,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855qDpj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068131/reactions"
      },
      "updated_at" : "2024-04-06T12:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @sipsorcery\r\n> \r\n> > I'm on Windows and using msvc but I did do a clean build but it didn't help.\r\n> \r\n> What VS / MSVC versions do you use?\r\n\r\nVisual Studio (including msvc) updates get automatically pushed every couple of weeks. I'm generally always pretty close to the latest stable version.\r\n\r\nCurrently Visual Studio 2022 17.8.0\r\n\r\n```\r\nmsbuild --version\r\nMSBuild version 17.8.3+195e7f5a3 for .NET Framework\r\n17.8.3.51904\r\n```",
      "created_at" : "2024-04-06T12:24:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2041068497",
      "id" : 2041068497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855qDvR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068497/reactions"
      },
      "updated_at" : "2024-04-06T12:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > This is from an attempt to compile (no linking involved) the single blockfilter_tests.cpp file.\r\n> \r\n> Does it compile on the master branch for you?\r\n\r\nNo.\r\n\r\nI only checked that after posting the compiler error message. The msvc compiler error isn't related to this PR, it's on master as well.",
      "created_at" : "2024-04-06T12:25:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2041068780",
      "id" : 2041068780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855qDzs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068780/reactions"
      },
      "updated_at" : "2024-04-06T12:25:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041068780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The msvc compiler error isn't related to this PR, it's on master as well.\r\n\r\nCould you please open a separate issue then?\r\n\r\nFWIW, I have no compile errors for the master branch @ b5d21182e5a66110ce2796c2c99da39c8ebf0d72 using VS Community 2022 17.9.5. For example, the `test_bitcoin.exe` compiles for both `Debug` and `Release` configurations:\r\n```\r\n> msbuild --version\r\nMSBuild version 17.9.8+b34f75857 for .NET Framework\r\n17.9.8.16306\r\n> py -3 build_msvc\\msvc-autogen.py\r\n> msbuild build_msvc\\bitcoin.sln -p:UseMultiToolTask=true -p:Configuration=Debug -maxCpuCount -v:minimal -noLogo -t:test_bitcoin\r\n> msbuild build_msvc\\bitcoin.sln -p:UseMultiToolTask=true -p:Configuration=Release -maxCpuCount -v:minimal -noLogo -t:test_bitcoin",
      "created_at" : "2024-04-06T13:46:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#issuecomment-2041086383",
      "id" : 2041086383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29774",
      "node_id" : "IC_kwDOABII5855qIGv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041086383/reactions"
      },
      "updated_at" : "2024-04-06T13:46:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041086383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1554621632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554621632"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`... + 32` is consistent with other `CKey::Set()` calls in our codebase:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/bench/bip324_ecdh.cpp#L30\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/bench/ellswift.cpp#L20\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/key.cpp#L330\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/key.cpp#L393\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/key_io.cpp#L218\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/test/fuzz/miniscript.cpp#L57\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/test/miniscript_tests.cpp#L63\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/test/script_tests.cpp#L195\r\n\r\nwith an exception in https://github.com/bitcoin/bitcoin/blob/b5d21182e5a66110ce2796c2c99da39c8ebf0d72/src/test/orphanage_tests.cpp#L45",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-06T14:36:49Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@ void MockedDescriptorConverter::Init() {\n         // an extended one.\n         if (IdIsCompPubKey(i) || IdIsUnCompPubKey(i) || IdIsXOnlyPubKey(i) || IdIsConstPrivKey(i)) {\n             CKey privkey;\n-            privkey.Set(UCharCast(key_data.begin()), UCharCast(key_data.end()), !IdIsUnCompPubKey(i));\n+            privkey.Set(UCharCast(key_data.data()), UCharCast(key_data.data()) + 32, !IdIsUnCompPubKey(i));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1554621632",
      "id" : 1554621632,
      "in_reply_to_id" : 1545857799,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585cqaTA",
      "original_commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "original_line" : 18,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 1984569956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554621632/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-06T14:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554621632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1554623656"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554623656"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> If there is no need for it, it may be better to remove it.\r\n\r\nPlease see https://github.com/bitcoin/bitcoin/pull/29820.",
      "commit_id" : "239d1d62ac880dfd2a82c1c4b657e8fa5e5d26d2",
      "created_at" : "2024-04-06T14:51:11Z",
      "diff_hunk" : "@@ -15,7 +15,7 @@ void MockedDescriptorConverter::Init() {\n         // an extended one.\n         if (IdIsCompPubKey(i) || IdIsUnCompPubKey(i) || IdIsXOnlyPubKey(i) || IdIsConstPrivKey(i)) {\n             CKey privkey;\n-            privkey.Set(UCharCast(key_data.begin()), UCharCast(key_data.end()), !IdIsUnCompPubKey(i));\n+            privkey.Set(UCharCast(key_data.data()), UCharCast(key_data.data()) + 32, !IdIsUnCompPubKey(i));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29774#discussion_r1554623656",
      "id" : 1554623656,
      "in_reply_to_id" : 1546288181,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585cqayo",
      "original_commit_id" : "f7846c09ad58b047cf5597cf856dff0e46a67720",
      "original_line" : 18,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/util/descriptor.cpp",
      "position" : 5,
      "pull_request_review_id" : 1984571756,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554623656/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-06T14:51:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554623656",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
