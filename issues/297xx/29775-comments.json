[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29775).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [murchandamus](https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2030454739) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29686](https://github.com/bitcoin/bitcoin/pull/29686) (Update manpage descriptions by willcl-ark)\n* [#29678](https://github.com/bitcoin/bitcoin/pull/29678) (Bugfix: Correct first-run free space checks by luke-jr)\n* [#29432](https://github.com/bitcoin/bitcoin/pull/29432) (Stratum v2 Template Provider (take 3) by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-03-31T22:55:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2028938761",
      "id" : 2028938761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII58547yYJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028938761/reactions"
      },
      "updated_at" : "2024-05-03T06:18:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028938761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-04-01T19:54:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2030454739",
      "id" : 2030454739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5855BkfT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030454739/reactions"
      },
      "updated_at" : "2024-04-01T19:54:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2030454739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "When resetting a test chain, it is also important to consider the script interpreter coverage of the current chain. Test chains are (usually) the first place to go to, to test new script primitives and protocols, as well as consensus deployments. The existing chain thus serves as a test for consensus implementations, apart from basic unit test vectors. It would be good to think how to preserve the test vectors in the chain. See also https://github.com/bitcoin/bitcoin/pull/11739#issuecomment-346515145 . Or if it is not needed, it would be good to say so. Maybe https://github.com/bitcoin-core/qa-assets/blob/main/unit_test_data/script_assets_test.json already covers a good portion?\r\n\r\n\r\nMoreover, testnet is the only public chain where anyone can submit a nonstandard transaction from their laptop. Recall that policy is enforced on all networks equally (see commit e1dc15d69061e69351c72907444e8ded0ac7c88c), so getting a non-mempool transaction into a block is only possible for a miner, or by cooperating with a miner. So if the difficulty hack is removed completely, anyone wishing to submit a transaction would have to go purchase and set up mining hardware, or find a miner willing to accept the transaction. Not saying what is the best approach here, just saying that the effects should be considered and a change be done intentionally.",
      "created_at" : "2024-04-02T08:25:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2031379987",
      "id" : 2031379987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5855FGYT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031379987/reactions"
      },
      "updated_at" : "2024-04-02T08:25:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031379987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Probably we should support tracking both testnet3 and the new testnet4 for some time. Making the new code conditional on a different chain param that's only set for testnet4 would probably be the easiest way of accomplishing that?",
      "created_at" : "2024-04-02T16:08:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2032468336",
      "id" : 2032468336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5855JQFw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2032468336/reactions"
      },
      "updated_at" : "2024-04-02T16:08:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2032468336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pushed some improvements and addressed some feedback. I am experimenting with some of the proposals from the mailing list and so I added Andres Poelstra's suggested difficulty adjustment with 6h/1M from here: https://groups.google.com/g/bitcoindev/c/9bL00vRj7OU/m/kFPaQCzmBwAJ\r\n\r\n> Probably we should support tracking both testnet3 and the new testnet4 for some time. Making the new code conditional on a different chain param that's only set for testnet4 would probably be the easiest way of accomplishing that?\r\n\r\nUpdated the code to introduce T4 (`-testnet4`) and keep T3 in place but give some deprecation warning when it's used. I guess we would keep this in place for 1 or 2 releases and then remove T3 and then let `-testnet` run T4.\r\n\r\nI am using the Genesis block hash to distinguish between the two testnets. There may be cleaner solutions but I think this is ok since it would be only temporary until T3 is removed.\r\n\r\n> Moreover, testnet is the only public chain where anyone can submit a nonstandard transaction from their laptop.\r\n\r\nIs it really realistic that someone with just their CPU would be able to mine a block with their non-standard tx on the current testnet? If the bug isn't active currently they would need to wait for it to become active and that could take weeks, right? And when it becomes active I would imagine the miner who found the first block in the difficulty=1 series just blasts the network and the CPU miner still has no chance to get a block in between. \r\n\r\nWe could revert #28354 for testnet4 if this is a feature that matters to users. Is it too much to ask that people use `testmempoolaccept` or run their own testnet node with `-acceptnonstdtxn=0` when they want to test standardness of their tx? I would say no. And I don't see another option to solve this on layer 1 if we assume nobody changes the defaults.\r\n\r\n> It would be good to think how to preserve the test vectors in the chain.\r\n\r\nInteresting thought. I think once there is consensus to do T4 we will find a creative solution for this. Cool would be to convert this coverage to fuzzing coverage somehow but I am not sure if that's realistic or worth the effort. Otherwise, we could write a program that looks at all the different scripts that exist on T3 and replays them on T4 or if we can compress them somehow like by filtering everything that doesn't add coverage, then we turn it into a unit test that replays the interesting scripts.",
      "created_at" : "2024-04-06T17:03:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2041139129",
      "id" : 2041139129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5855qU-5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041139129/reactions"
      },
      "updated_at" : "2024-04-06T17:03:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2041139129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Since some people consider the blockstorms an interesting feature of Testnet3, it might be interesting to only raise the difficulty of the delayed block exception to 100,000 instead of 1,000,000. This would allow the network to return to the organic difficulty in fewer difficulty periods and slow down the blockstorms but not remove the feature altogether. My understanding is that this would correspond roughly a tenth of one S9 mining on the network, so if no one had mined for a while, a single S9 could restart the network with ~60â¯s blocks, but wouldnât churn out thousands of blocks per second.\r\n\r\nOnly allowing lower difficulty blocks after 6 hours could easily make testnet useless for extended periods, if someone put several ASICs on testnet for a while, it might prevent other users from getting confirmations for up to 6 hours. I could see an increase from the twenty minute rule to maybe an hour, but more seems counter to why the rule was introduced in the first place.",
      "created_at" : "2024-04-10T14:16:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2047673316",
      "id" : 2047673316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5856DQPk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047673316/reactions"
      },
      "updated_at" : "2024-04-10T14:16:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047673316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Is it really realistic that someone with just their CPU would be able to mine a block\r\n\r\nYes, I am not sure what would be the problem. All you have to do is to set the time +20min and mine a block on your laptop. If you don't want to try it yourself, you can come by to watch it on my laptop.\r\n\r\n\r\n\r\n> Since some people consider the blockstorms an interesting feature of Testnet3\r\n\r\nAfter a quick chat with @murchandamus, an alternative fix would be to require the pre-retarget block to have the \"correct\" difficulty, so that all retarget periods are organic. The +20min hack would remain to allow a CPU to mine a few blocks, if needed, however, a block storm would be naturally limited by the +120h cut-off rule. This would limit the block storms to small block \"gusts\", which seems good enough to make everyone happy?",
      "created_at" : "2024-04-10T14:44:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2047753470",
      "id" : 2047753470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5856Djz-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047753470/reactions"
      },
      "updated_at" : "2024-04-10T14:44:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2047753470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I spun up `seed.testnet4.bitcoin.sprovoost.nl` and set it to use the magic bytes and port number.\r\n\r\nWhen running with `-debug=net` I noticed it \"Added hardcoded seed\" a bunch of times for i2p and onion, which makes no sense. I'm guessing those are for testnet3.\r\n\r\n---\r\n\r\nIf anyone wants to deploy a faucet, let me know and I'll send some coins... unless someone reorgs me.",
      "created_at" : "2024-04-15T09:18:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2056345622",
      "id" : 2056345622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5856kVgW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2056345622/reactions"
      },
      "updated_at" : "2024-04-15T15:29:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2056345622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This seems too complicated for a testnet exception IMO. And it breaks the use case of someone testing being able to mine a block on-demand without actual mining hardware.\r\n\r\nShouldn't it be enough to just fix the timewarp bug?",
      "created_at" : "2024-04-20T21:40:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2067788551",
      "id" : 2067788551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857P_MH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067788551/reactions"
      },
      "updated_at" : "2024-04-20T21:40:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2067788551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> it breaks the use case of someone testing being able to mine a block on-demand without actual mining hardware\r\n\r\nI doubt many people do that. You can still set `nProofOfWorkLimit` to a lower value. We could add a code comment for that (or a setting). That way you can mine locally as fast as you want, without causing mayhem for others.",
      "created_at" : "2024-04-22T17:11:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2070283429",
      "id" : 2070283429,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857ZgSl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2070283429/reactions"
      },
      "updated_at" : "2024-04-22T17:11:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2070283429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I doubt many people do that.\r\n\r\nTwo people raised the concern in this thread, so why would you doubt it?",
      "created_at" : "2024-04-23T05:41:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2071451850",
      "id" : 2071451850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857d9jK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2071451850/reactions"
      },
      "updated_at" : "2024-04-23T05:41:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2071451850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Yes, I am not sure what would be the problem. All you have to do is to set the time +20min and mine a block on your laptop. If you don't want to try it yourself, you can come by to watch it on my laptop.\r\n\r\nI missed that response, so if this is possible at any time with or without a block storm happening, I am not sure how the change here is making a difference? I will give it a try.",
      "created_at" : "2024-04-23T14:48:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2072550269",
      "id" : 2072550269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857iJt9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072550269/reactions"
      },
      "updated_at" : "2024-04-23T14:48:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072550269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > I doubt many people do that.\r\n> \r\n> Two people raised the concern in this thread, so why would you doubt it?\r\n\r\n\"Many\" is very relative but I think we probably would not see a market for trading testnet coins against bitcoin if that is something everyone can do as easily as setting a bitcore core node for example.",
      "created_at" : "2024-04-23T15:11:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2072640353",
      "id" : 2072640353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857ifth",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072640353/reactions"
      },
      "updated_at" : "2024-04-23T15:11:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072640353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I am not sure how the change here is making a difference? \r\n\r\nIf it depends on the difficulty being 1 rather 1 million, that would make a difference. The two people who brought it up can definitely recompile, but maybe there's a better solution - maybe just a startup flag to override the minimum difficulty? ",
      "created_at" : "2024-04-23T17:01:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2072935478",
      "id" : 2072935478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857jnw2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072935478/reactions"
      },
      "updated_at" : "2024-04-23T17:01:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072935478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> maybe just a startup flag to override the minimum difficulty?\r\n\r\nI don't think consensus rules of remote nodes can be affected by a local startup flag (or re-compilation).\r\n\r\nIf someone wanted to create a block locally only, they could use regtest.",
      "created_at" : "2024-04-23T17:07:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2072953283",
      "id" : 2072953283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5857jsHD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072953283/reactions"
      },
      "updated_at" : "2024-04-23T17:07:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2072953283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587753988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587753988"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What's the reasoning for raising the minimum difficulty to 1 million? This will effectively prevent a developer from being able to move the chain forward without an ASIC.\r\n\r\nI'd think that closing the timewarp loophole + the difficulty adjustment loophole should be sufficient to prevent block storms without actually making it more difficult for a dev to mint a low cost block if the chain has stalled.",
      "commit_id" : "515e3a9b94675a42b8e9635a6ceb8ea26c30e4d7",
      "created_at" : "2024-05-02T14:39:31Z",
      "diff_hunk" : "@@ -20,10 +20,25 @@ unsigned int GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlockHead\n     {\n         if (params.fPowAllowMinDifficultyBlocks)\n         {\n+            uint8_t target_spacing_multiplier{2};\n+\n+            // Testnet4\n+            if (params.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\")) {\n+                // Reset limit of Testnet4 is just above difficulty 1M.\n+                nProofOfWorkLimit = 0x1b0010c6U;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587753988",
      "id" : 1587753988,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII585eozQE",
      "original_commit_id" : "762c5b28d9ea129ee52bdca319a0b813b257530f",
      "original_line" : 28,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/pow.cpp",
      "position" : 9,
      "pull_request_review_id" : 2035943330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587753988/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-02T14:39:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587753988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/288011?v=4",
         "events_url" : "https://api.github.com/users/jlopp/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jlopp/followers",
         "following_url" : "https://api.github.com/users/jlopp/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jlopp/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jlopp",
         "id" : 288011,
         "login" : "jlopp",
         "node_id" : "MDQ6VXNlcjI4ODAxMQ==",
         "organizations_url" : "https://api.github.com/users/jlopp/orgs",
         "received_events_url" : "https://api.github.com/users/jlopp/received_events",
         "repos_url" : "https://api.github.com/users/jlopp/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jlopp/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jlopp"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587857002"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587857002"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I'd think that closing the timewarp loophole + the difficulty adjustment loophole should be sufficient to prevent block storms without actually making it more difficult for a dev to mint a low cost block if the chain has stalled.\r\n\r\nIf that's true then that's fine. It seems multiple people like this ability, see @maflcko's comments above. I'm still a bit confused about the intersection of bugs / features here.",
      "commit_id" : "515e3a9b94675a42b8e9635a6ceb8ea26c30e4d7",
      "created_at" : "2024-05-02T15:40:50Z",
      "diff_hunk" : "@@ -20,10 +20,25 @@ unsigned int GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlockHead\n     {\n         if (params.fPowAllowMinDifficultyBlocks)\n         {\n+            uint8_t target_spacing_multiplier{2};\n+\n+            // Testnet4\n+            if (params.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\")) {\n+                // Reset limit of Testnet4 is just above difficulty 1M.\n+                nProofOfWorkLimit = 0x1b0010c6U;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587857002",
      "id" : 1587857002,
      "in_reply_to_id" : 1587753988,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII585epMZq",
      "original_commit_id" : "762c5b28d9ea129ee52bdca319a0b813b257530f",
      "original_line" : 28,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/pow.cpp",
      "position" : 9,
      "pull_request_review_id" : 2036112962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587857002/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-02T15:40:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587857002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587866521"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587866521"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It was suggested on the mailing list and it seemed to get some interest, so I added it here. But it has become clear in the discussion here that it seems to be pretty controversial so I will remove it here shortly.\r\n\r\nMaybe there is a lower number that is not 1 that most people are happy with like @murchandamus [suggested](https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2047673316) and I will be happy to add it back in that case but while that is being bikeshedded, I think it's better to remove it.",
      "commit_id" : "515e3a9b94675a42b8e9635a6ceb8ea26c30e4d7",
      "created_at" : "2024-05-02T15:48:12Z",
      "diff_hunk" : "@@ -20,10 +20,25 @@ unsigned int GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlockHead\n     {\n         if (params.fPowAllowMinDifficultyBlocks)\n         {\n+            uint8_t target_spacing_multiplier{2};\n+\n+            // Testnet4\n+            if (params.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\")) {\n+                // Reset limit of Testnet4 is just above difficulty 1M.\n+                nProofOfWorkLimit = 0x1b0010c6U;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1587866521",
      "id" : 1587866521,
      "in_reply_to_id" : 1587753988,
      "line" : 28,
      "node_id" : "PRRC_kwDOABII585epOuZ",
      "original_commit_id" : "762c5b28d9ea129ee52bdca319a0b813b257530f",
      "original_line" : 28,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/pow.cpp",
      "position" : 9,
      "pull_request_review_id" : 2036128774,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587866521/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-02T15:48:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587866521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In keeping with genesis block tradition I'd propose the following coinbase string referencing an article published today regarding testnet: \"CCN 02/May/2024 Bitcoin Testnet Could Need Reset\"\r\n\r\n```\r\n./generate-genesis -timestamp 1714658825 -pubkey 03752c999db32c08a6d62550a1ad83cf1731f35ac27096c27dfca5127c0c6dbd9b -psz \"CCN 02/May/2024 Bitcoin Testnet Could Need Reset\" -nonce 1\r\nCtrl Hash:\t0x000000004693a387d558bbf7e321f6915e82d1afac4db25ee40f44bb783e802b\r\nTarget:\t\t0x00000000ffff0000000000000000000000000000000000000000000000000000\r\nBlk Hash:\t0xb9aae9d9ee85b72c1daa940ab4a40175e7d5ed845c0b345153e4b72b5d3cc9ff\r\nMkl Hash:\t0xab42b22e295fcd6ffd719a0d647661ab12c725a51725b725f6ac83dfe3f545fa\r\nNonce:\t\t119141657\r\nTimestamp:\t1714658825\r\nPubkey:\t\t03752c999db32c08a6d62550a1ad83cf1731f35ac27096c27dfca5127c0c6dbd9b\r\nPsz:\t\t'CCN 02/May/2024 Bitcoin Testnet Could Need Reset'\r\n```",
      "created_at" : "2024-05-02T16:41:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091032430",
      "id" : 2091032430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858op9u",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091032430/reactions"
      },
      "updated_at" : "2024-05-02T16:41:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091032430",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/288011?v=4",
         "events_url" : "https://api.github.com/users/jlopp/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jlopp/followers",
         "following_url" : "https://api.github.com/users/jlopp/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jlopp/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jlopp",
         "id" : 288011,
         "login" : "jlopp",
         "node_id" : "MDQ6VXNlcjI4ODAxMQ==",
         "organizations_url" : "https://api.github.com/users/jlopp/orgs",
         "received_events_url" : "https://api.github.com/users/jlopp/received_events",
         "repos_url" : "https://api.github.com/users/jlopp/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jlopp/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jlopp"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Only allowing lower difficulty blocks after 6 hours could easily make testnet useless for extended periods, if someone put several ASICs on testnet for a while, it might prevent other users from getting confirmations for up to 6 hours. I could see an increase from the twenty minute rule to maybe an hour, but more seems counter to why the rule was introduced in the first place.\r\n\r\n6 hours seems overkill to me. I'd think 3 hours would suffice, since it would mean that at worst someone would be able to generate a block 1 hour after the previous block if they also warped the time ahead by the max 2 hours.\r\n",
      "created_at" : "2024-05-02T16:45:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091039789",
      "id" : 2091039789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858orwt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091039789/reactions"
      },
      "updated_at" : "2024-05-02T16:45:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091039789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/288011?v=4",
         "events_url" : "https://api.github.com/users/jlopp/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jlopp/followers",
         "following_url" : "https://api.github.com/users/jlopp/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jlopp/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jlopp",
         "id" : 288011,
         "login" : "jlopp",
         "node_id" : "MDQ6VXNlcjI4ODAxMQ==",
         "organizations_url" : "https://api.github.com/users/jlopp/orgs",
         "received_events_url" : "https://api.github.com/users/jlopp/received_events",
         "repos_url" : "https://api.github.com/users/jlopp/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jlopp/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jlopp"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> 6 hours seems overkill to me. I'd think 3 hours would suffice, since it would mean that at worst someone would be able to generate a block 1 hour after the previous block if they also warped the time ahead by the max 2 hours.\r\n\r\nThree hours seems too long to me. That would mean that the first use of the low-difficulty loophole would require one hour of wait (by also setting your clock two hours to the future), but any subsequent block would be delayed by three hours. It would be trivial for anyone with a modicum of hashpower to disrupt liveness of testnet for any hashpowerless developers.\r\n\r\nConsidering @jloppâs demonstration of the downsides of the low-difficulty loophole, and mulling it over a bit more, I would now prefer:\r\n\r\n1. Retain the 20-minute difficulty exception\r\nThis would permit developers to author a new block with at most reasonable delay. While nobody else is doing so, it would be possible to author a new block almost immediately, if someone is already making use of the exception, a wait of twenty minutes would be sufficient to allow another block.\r\n2. Prevent use of the 20-minute difficulty exception on the last block in a difficulty period\r\nThis would mitigate the blockstorms to only short block gusts: if no one else is making use of the exception, a user would be able to issue around six blocks almost instantaneously, but no more.\r\n3. Do not increase the minimum difficulty\r\nRestricting authoring of new block to owners of ASIC equipment just seems unnecessary, if the difficulty reset to minimum difficulty is mitigated.\r\n\r\nObviously, the testnet would still be vulnerable to the [timewarp bug](https://bitcoin.stackexchange.com/q/75831/5406), so perhaps testnet4 should include a variant of the proposed rule from the Great Consensus Cleanup that would require the first block of a difficulty period to be no more than two hours less than the previous difficulty periodâs last blockâs timestamp.\r\n\r\nAlternatively, I would be satisfied if using the 20-minute difficulty exception would be changed such that `nBits` could remain at the proper value, and were available for any block in the difficulty period without incurring the difficulty resetting to the minimum. However, my understanding is that the difficulty check in block validation is context independent, and therefore a block would fail if the hash were higher than the `nBits` value in its own header.",
      "created_at" : "2024-05-02T18:25:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091226696",
      "id" : 2091226696,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858pZZI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091226696/reactions"
      },
      "updated_at" : "2024-05-02T18:26:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091226696",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I had to rebase to fix a silent merge conflict and I think I managed to make the CI happy with the tests I added. In general, I think this can be moved out of draft status now since we are discussing the details of the changes in parameters but overall there seems to be no opposition to the change. I initially had removed Testnet3 as part of this already and keeping it in place makes this much less controversial/dangerous.\r\n\r\nI have removed the adjustments on min difficulty and changed the exception period back to 20 min. I think keeping this as is seems to be the path that has the most support but if there is consensus on a mild adjustment of the exception period of course I can add this again. Given what was discussed maybe we can agree on 30 min or 1 h but if it's unclear that this is really needed we should probably not change too many things at once.\r\n\r\n> I'd propose the following coinbase string referencing an article published today regarding testnet: \"CCN 02/May/2024 Bitcoin Testnet Could Need Reset\"\r\n\r\nHappy to add this, I considered my genesis block just a placeholder anyway. The only reason we might use something different is if review here drags on for a few months and people would prefer something fresher by then. I will add it in my next push unless other reviewers disagree with the choice.\r\n\r\n> Prevent use of the 20-minute difficulty exception on the last block in a difficulty period\r\n\r\n@murchandamus do you explicitly prefer this over my proposed fix? I find it more elegant and intuitive if we allow the use on all blocks and prevent the adjustment from being affected by it.\r\n\r\n> perhaps testnet4 should include a variant of the proposed rule from the Great Consensus Cleanup that would require the first block of a difficulty period to be no more than two hours less than the previous difficulty periodâs last blockâs timestamp.\r\n\r\nInteresting, I will try to see how easy it would be to do this.\r\n\r\n> Alternatively, I would be satisfied if using the 20-minute difficulty exception would be changed such that nBits could remain at the proper value, and were available for any block in the difficulty period without incurring the difficulty resetting to the minimum. However, my understanding is that the difficulty check in block validation is context independent, and therefore a block would fail if the hash were higher than the nBits value in its own header.\r\n\r\nI am not sure I understand this: you are talking about the fix I have proposed here, right? If that is so, I am not sure I understand why the header would diverge from the block on the nBits though. ",
      "created_at" : "2024-05-02T23:46:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091915882",
      "id" : 2091915882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858sBpq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091915882/reactions"
      },
      "updated_at" : "2024-05-02T23:46:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091915882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> perhaps testnet4 should include a variant of the proposed rule from the Great Consensus Cleanup that would require the first block of a difficulty period to be no more than two hours less than the previous difficulty periodâs last blockâs timestamp.\r\n\r\nI have added the corresponding code from #15482 in a separate commit as a basis for discussion. Link to original code: https://github.com/bitcoin/bitcoin/pull/15482/commits/1f63030817c6a42d19c10bd16cb8fff700602081#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R3251",
      "created_at" : "2024-05-03T01:07:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091981656",
      "id" : 2091981656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858sRtY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091981656/reactions"
      },
      "updated_at" : "2024-05-03T01:08:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091981656",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Prevent use of the 20-minute difficulty exception on the last block in a difficulty period\r\n\r\nI think the worst case here is that someone with significant hashpower quickly mines a few retarget periods to get the difficulty to increase a lot, then stops mining, and no one else is around with enough hashpower who's willing to mine a block.\r\n\r\nWith the rule above, that means we could get to the end of the period, but would then stall, as the last block would be expensive. With the rule in the PR we have, we'd instead probably get a full retarget period of min difficulty blocks, ~and then drop to min difficulty and still have a block storm~. [EDIT: with this patch, the 0'th block of each retarget period doesn't have the min difficulty exception, and the difficulty adjustment will always work its way back to this block if it doesn't find a higher than min difficulty block elsewhere in the retarget period, so testnet4 might stall on the 0'th block until an ASIC is pointed at it, but this won't trigger a block storm]\r\n\r\nWould it maybe be feasible to require min difficulty blocks to record the real difficulty in the nVersion field, and use that to calculate the expected difficulty for the next retarget period directly without having to search for a non-min-difficulty header? I think that wouldn't even conflict with versionbits signalling (though min difficulty blocks would not be able to signal for activation, but that seems fine).",
      "created_at" : "2024-05-03T04:03:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2092080764",
      "id" : 2092080764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858sp58",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092080764/reactions"
      },
      "updated_at" : "2024-05-03T12:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092080764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "\r\n> > I'd propose the following coinbase string referencing an article published today regarding testnet: \"CCN 02/May/2024 Bitcoin Testnet Could Need Reset\"\r\n> \r\n> Happy to add this, I considered my genesis block just a placeholder anyway. The only reason we might use something different is if review here drags on for a few months and people would prefer something fresher by then. I will add it in my next push unless other reviewers disagree with the choice.\r\n> \r\nIs that a joke?\r\nA person who disrupted the use of testnet3 with their 'Griefing Attack' is now advertising in this manner?\r\nIf testnet4 is not meant to be taken seriously, then I suggest:\r\n\r\n\"The best place to buy testnet4 coins is altquick.com\"",
      "created_at" : "2024-05-03T04:53:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2092136022",
      "id" : 2092136022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858s3ZW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092136022/reactions"
      },
      "updated_at" : "2024-05-03T04:53:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092136022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7499889?v=4",
         "events_url" : "https://api.github.com/users/emsit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emsit/followers",
         "following_url" : "https://api.github.com/users/emsit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emsit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emsit",
         "id" : 7499889,
         "login" : "emsit",
         "node_id" : "MDQ6VXNlcjc0OTk4ODk=",
         "organizations_url" : "https://api.github.com/users/emsit/orgs",
         "received_events_url" : "https://api.github.com/users/emsit/received_events",
         "repos_url" : "https://api.github.com/users/emsit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emsit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emsit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emsit"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The genesis block title by @jlopp is great. It refers to a failure of the previous thing. If people start to value testnet4 coins to the extend where its genesis block coinbase message is considered precious advertising space, then we need to reset it again.\r\n\r\nWhere does the public key come from?\r\n\r\n> require min difficulty blocks to record the real difficulty in the nVersion field, and use that to calculate the expected difficulty for the next retarget period directly without having to search for a non-min-difficulty header\r\n\r\nI'd be curious to see what that patch look like.\r\n\r\n> a variant of the proposed rule from the Great Consensus Cleanup that would require the first block of a difficulty period to be no more than two hours less than the previous difficulty periodâs last blockâs timestamp\r\n\r\nI suppose it's fine to use the launch of testnet4 to test a fix we have in mind for mainnet later. But I see two potential (minor?) issues:\r\n\r\n1. We lose the ability to cleanly test the great consensus cleanup soft fork in a trivial manner. Since part of the proposed rules is already active on testnet4.\r\n2. What if someone comes up with a different but incompatible timewarp attack fix? I guess we can always just reset testnet again worst case, or apply the new rule retroactively and cause a deep reorg on testnet4.\r\n\r\n\r\nI'm still trying to wrap my head around the block storm issue and the various fixes proposed above, will do some thinking.",
      "created_at" : "2024-05-03T07:43:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2092479201",
      "id" : 2092479201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858uLLh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092479201/reactions"
      },
      "updated_at" : "2024-05-03T07:43:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092479201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588881978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588881978"
         }
      },
      "author_association" : "MEMBER",
      "body" : "4e8b29ae234a05181ff9fd64ab3a74ba997e2eac: you can add `seed.testnet4.bitcoin.sprovoost.nl` here. I'll update it if the magic bytes change.",
      "commit_id" : "56ce6b8a70becf01ddf334c82cb0651f8841087d",
      "created_at" : "2024-05-03T08:07:40Z",
      "diff_hunk" : "@@ -284,6 +284,94 @@ class CTestNetParams : public CChainParams {\n     }\n };\n \n+/**\n+ * Testnet (v4): public test network which is reset from time to time.\n+ */\n+class CTestNet4Params : public CChainParams {\n+public:\n+    CTestNet4Params() {\n+        m_chain_type = ChainType::TESTNET4;\n+        consensus.signet_blocks = false;\n+        consensus.signet_challenge.clear();\n+        consensus.nSubsidyHalvingInterval = 210000;\n+        consensus.BIP34Height = 1;\n+        consensus.BIP34Hash = uint256{};\n+        consensus.BIP65Height = 1;\n+        consensus.BIP66Height = 1;\n+        consensus.CSVHeight = 1;\n+        consensus.SegwitHeight = 1;\n+        consensus.MinBIP9WarningHeight = 0;\n+        consensus.powLimit = uint256S(\"00000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n+        consensus.nPowTargetTimespan = 14 * 24 * 60 * 60; // two weeks\n+        consensus.nPowTargetSpacing = 10 * 60;\n+        consensus.fPowAllowMinDifficultyBlocks = true;\n+        consensus.fPowNoRetargeting = false;\n+        consensus.nRuleChangeActivationThreshold = 1512; // 75% for testchains\n+        consensus.nMinerConfirmationWindow = 2016; // nPowTargetTimespan / nPowTargetSpacing\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].bit = 28;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nStartTime = Consensus::BIP9Deployment::NEVER_ACTIVE;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nTimeout = Consensus::BIP9Deployment::NO_TIMEOUT;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].min_activation_height = 0; // No activation delay\n+\n+        // Deployment of Taproot (BIPs 340-342)\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].bit = 2;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].nStartTime = Consensus::BIP9Deployment::ALWAYS_ACTIVE;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].nTimeout = Consensus::BIP9Deployment::NO_TIMEOUT;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].min_activation_height = 0; // No activation delay\n+\n+        consensus.nMinimumChainWork = uint256{};\n+        consensus.defaultAssumeValid = uint256{};\n+\n+        pchMessageStart[0] = 0x1c;\n+        pchMessageStart[1] = 0x16;\n+        pchMessageStart[2] = 0x3f;\n+        pchMessageStart[3] = 0x28;\n+        nDefaultPort = 48333;\n+        nPruneAfterHeight = 1000;\n+        m_assumed_blockchain_size = 0;\n+        m_assumed_chain_state_size = 0;\n+\n+        genesis = CreateGenesisBlock(1711910298, 2215745201, 0x1d00ffff, 1, 50 * COIN);\n+        consensus.hashGenesisBlock = genesis.GetHash();\n+        assert(consensus.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\"));\n+        assert(genesis.hashMerkleRoot == uint256S(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\"));\n+\n+        vFixedSeeds.clear();\n+        vSeeds.clear();\n+        // nodes with support for servicebits filtering should be at the top\n+        // TODO: Add Testnet4 seeds",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588881978",
      "id" : 1588881978,
      "line" : 342,
      "node_id" : "PRRC_kwDOABII585etGo6",
      "original_commit_id" : "4e8b29ae234a05181ff9fd64ab3a74ba997e2eac",
      "original_line" : 342,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/kernel/chainparams.cpp",
      "position" : 59,
      "pull_request_review_id" : 2037620116,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588881978/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-03T08:50:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588881978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588924764"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588924764"
         }
      },
      "author_association" : "MEMBER",
      "body" : "By the way, even if we do implement a higher minimum difficulty (i.e. lower maximum target), imo this should be done in `chainparams.cpp` by setting `consensus.powLimit`. If that makes it harder to grind a genesis block, perhaps that's a good reason not to change it.",
      "commit_id" : "56ce6b8a70becf01ddf334c82cb0651f8841087d",
      "created_at" : "2024-05-03T08:50:54Z",
      "diff_hunk" : "@@ -20,10 +20,25 @@ unsigned int GetNextWorkRequired(const CBlockIndex* pindexLast, const CBlockHead\n     {\n         if (params.fPowAllowMinDifficultyBlocks)\n         {\n+            uint8_t target_spacing_multiplier{2};\n+\n+            // Testnet4\n+            if (params.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\")) {\n+                // Reset limit of Testnet4 is just above difficulty 1M.\n+                nProofOfWorkLimit = 0x1b0010c6U;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588924764",
      "id" : 1588924764,
      "in_reply_to_id" : 1587753988,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585etRFc",
      "original_commit_id" : "762c5b28d9ea129ee52bdca319a0b813b257530f",
      "original_line" : 28,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/pow.cpp",
      "position" : null,
      "pull_request_review_id" : 2037620116,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588924764/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-03T08:51:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588924764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588929328"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588929328"
         }
      },
      "author_association" : "MEMBER",
      "body" : "4e8b29ae234a05181ff9fd64ab3a74ba997e2eac: in order to not run out of ports by testnet6, testnet5 should probably use ports 1833x again.",
      "commit_id" : "56ce6b8a70becf01ddf334c82cb0651f8841087d",
      "created_at" : "2024-05-03T08:55:42Z",
      "diff_hunk" : "@@ -43,6 +44,8 @@ std::unique_ptr<CBaseChainParams> CreateBaseChainParams(const ChainType chain)\n         return std::make_unique<CBaseChainParams>(\"\", 8332, 8334);\n     case ChainType::TESTNET:\n         return std::make_unique<CBaseChainParams>(\"testnet3\", 18332, 18334);\n+    case ChainType::TESTNET4:\n+        return std::make_unique<CBaseChainParams>(\"testnet4\", 48332, 48334);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1588929328",
      "id" : 1588929328,
      "line" : 48,
      "node_id" : "PRRC_kwDOABII585etSMw",
      "original_commit_id" : "4e8b29ae234a05181ff9fd64ab3a74ba997e2eac",
      "original_line" : 48,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/chainparamsbase.cpp",
      "position" : 15,
      "pull_request_review_id" : 2037697561,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588929328/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-03T09:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1588929328",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'd be curious to see what that patch look like.\r\n\r\nSomething along the lines of https://github.com/bitcoin/bitcoin/commit/970c0c31e99bebe2b60ade930c96600d1d82f7ca maybe? Essentially untested.\r\n\r\nThe main advantage of this is that block 0 in a retarget period could also be min difficulty, allowing you to keep mining min-difficulty blocks with 20 minutes between them, halving the difficulty every 4 weeks / 2016 blocks, until you get to something that the network can mine on top of. The disadvantage is it's more intrusive.",
      "created_at" : "2024-05-03T12:53:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2092959394",
      "id" : 2092959394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858wAai",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092959394/reactions"
      },
      "updated_at" : "2024-05-03T12:53:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2092959394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Here's a commit that makes `getblocktemplate` reorg low difficulty testnet4 blocks: https://github.com/Sjors/bitcoin/commit/2125fc56163ceaddfadbc78ad0d0da5b1a99a8fa It adds some complexity, but not in the validation code. I wonder if it would be useful on testnet3.\r\n\r\nUntested, other than the the template looks correct to me. I still need to figure out an easy way to setup a local stratum v1 pool (to CPU mine).\r\n\r\nBy the way, I noticed that `src/bitcoin-cli -testnet4 -generate 1 1000000000` does not find a block if called a dozen times, even at difficulty 1. I'm not sure if that's expected because the mining code is inefficient (single CPU thread) or if there's a bug. I worked around it by temporarily setting the minimum difficulty as low as on retest.",
      "created_at" : "2024-05-03T13:35:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093037407",
      "id" : 2093037407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858wTdf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093037407/reactions"
      },
      "updated_at" : "2024-05-03T13:48:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093037407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @fjahr's earlier code (https://github.com/bitcoin/bitcoin/pull/29775#pullrequestreview-2035943330) did not change consensus.powLimit but instead changed GetNextWorkRequired to enforce this. As a consequence the initial blocks after genesis could have difficulty 1, but once the difficulty goes above a typical S9, it can no longer drop below that.\r\n\r\nI did implement an exception to allow the difficulty to drop below the adjustment (1M in this case), see my comment on this in the old commit: https://github.com/bitcoin/bitcoin/commit/515e3a9b94675a42b8e9635a6ceb8ea26c30e4d7#diff-4667f00c3a075be2753aa6ebdeea4bdbb66ef6e0b3d6df313a430f2eb8669ffdR32 But yeah, if we change it using `powLimit` would make more sense, but it was a proof of concept and I would have needed to find someone to mine a new Genesis block for me just to keep this PR testable because I don't have S9s lying around unfortunately :)\r\n\r\n> Something along the lines of [970c0c3](https://github.com/bitcoin/bitcoin/commit/970c0c31e99bebe2b60ade930c96600d1d82f7ca) maybe? Essentially untested.\r\n>\r\n> The main advantage of this is that block 0 in a retarget period could also be min difficulty, allowing you to keep mining min-difficulty blocks with 20 minutes between them, halving the difficulty every 4 weeks / 2016 blocks, until you get to something that the network can mine on top of. The disadvantage is it's more intrusive.\r\n\r\nAside from it being intrusive in our code, the miners who are using their own custom software and want to test it in Testnet would need to implement it as well. But I am not sure if that is significant.\r\n\r\nMaybe a more important question: What prevents someone malicious from writing an absurd number into the Version field? I guess to verify the number is actually correct worst case we would need to look further than our current difficulty adjustment period if it's all 20min blocks so it might be easier if we just do that right away? I.e. we would allow the 20min rule on the 0th block but to get the real difficulty we look back as far as we need to find the last real difficulty block and then apply the intermediate adjustments on that number if there were any between the current block and the last real difficulty block. Still thinking this through further though...\r\n\r\nEDIT: Either way this could become an issue for pruned nodes in an extreme case.\r\n\r\n> Here's a commit that makes getblocktemplate reorg low difficulty testnet4 blocks: https://github.com/Sjors/bitcoin/commit/2125fc56163ceaddfadbc78ad0d0da5b1a99a8fa It adds some complexity, but not in the validation code. I wonder if it would be useful on testnet3.\r\n\r\nI think that's interesting. Maybe that is a helpful insight: if we can not find the perfect solution with a simple validation code adjustment, having miners reorg the min-difficulty blocks could make this attack a lot less feasible. I will think about it some more. However, I think those that use the 20min rule for mining their fancy non-standard transactions etc. might not like this because they would get reorged as well. Maybe we could just reorg the last block, not all min-diff blocks last seen. That would mean those that need this \"feature\" could have their fancy tx included in the blockchain if they mine one more min-diff block on top of it.",
      "created_at" : "2024-05-03T16:18:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093325471",
      "id" : 2093325471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858xZyf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093325471/reactions"
      },
      "updated_at" : "2024-05-03T16:41:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093325471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1589417605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1589417605"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added, sorry I forgot about that.",
      "commit_id" : "7721e3ab27faa38f0cec87896f85ebdf90b36c59",
      "created_at" : "2024-05-03T16:19:13Z",
      "diff_hunk" : "@@ -284,6 +284,94 @@ class CTestNetParams : public CChainParams {\n     }\n };\n \n+/**\n+ * Testnet (v4): public test network which is reset from time to time.\n+ */\n+class CTestNet4Params : public CChainParams {\n+public:\n+    CTestNet4Params() {\n+        m_chain_type = ChainType::TESTNET4;\n+        consensus.signet_blocks = false;\n+        consensus.signet_challenge.clear();\n+        consensus.nSubsidyHalvingInterval = 210000;\n+        consensus.BIP34Height = 1;\n+        consensus.BIP34Hash = uint256{};\n+        consensus.BIP65Height = 1;\n+        consensus.BIP66Height = 1;\n+        consensus.CSVHeight = 1;\n+        consensus.SegwitHeight = 1;\n+        consensus.MinBIP9WarningHeight = 0;\n+        consensus.powLimit = uint256S(\"00000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff\");\n+        consensus.nPowTargetTimespan = 14 * 24 * 60 * 60; // two weeks\n+        consensus.nPowTargetSpacing = 10 * 60;\n+        consensus.fPowAllowMinDifficultyBlocks = true;\n+        consensus.fPowNoRetargeting = false;\n+        consensus.nRuleChangeActivationThreshold = 1512; // 75% for testchains\n+        consensus.nMinerConfirmationWindow = 2016; // nPowTargetTimespan / nPowTargetSpacing\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].bit = 28;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nStartTime = Consensus::BIP9Deployment::NEVER_ACTIVE;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nTimeout = Consensus::BIP9Deployment::NO_TIMEOUT;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].min_activation_height = 0; // No activation delay\n+\n+        // Deployment of Taproot (BIPs 340-342)\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].bit = 2;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].nStartTime = Consensus::BIP9Deployment::ALWAYS_ACTIVE;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].nTimeout = Consensus::BIP9Deployment::NO_TIMEOUT;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].min_activation_height = 0; // No activation delay\n+\n+        consensus.nMinimumChainWork = uint256{};\n+        consensus.defaultAssumeValid = uint256{};\n+\n+        pchMessageStart[0] = 0x1c;\n+        pchMessageStart[1] = 0x16;\n+        pchMessageStart[2] = 0x3f;\n+        pchMessageStart[3] = 0x28;\n+        nDefaultPort = 48333;\n+        nPruneAfterHeight = 1000;\n+        m_assumed_blockchain_size = 0;\n+        m_assumed_chain_state_size = 0;\n+\n+        genesis = CreateGenesisBlock(1711910298, 2215745201, 0x1d00ffff, 1, 50 * COIN);\n+        consensus.hashGenesisBlock = genesis.GetHash();\n+        assert(consensus.hashGenesisBlock == uint256S(\"0x000000008d6faa98083fa55742aa82d4ed249bd1bfc3239c706e0a61ef9e3931\"));\n+        assert(genesis.hashMerkleRoot == uint256S(\"0x4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b\"));\n+\n+        vFixedSeeds.clear();\n+        vSeeds.clear();\n+        // nodes with support for servicebits filtering should be at the top\n+        // TODO: Add Testnet4 seeds",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#discussion_r1589417605",
      "id" : 1589417605,
      "in_reply_to_id" : 1588881978,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585evJaF",
      "original_commit_id" : "4e8b29ae234a05181ff9fd64ab3a74ba997e2eac",
      "original_line" : 342,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/kernel/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 2038513524,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29775",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1589417605/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-05-03T16:19:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1589417605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Where does the public key come from?\r\n\r\n@Sjors I just grabbed a random public key from one of my testnet wallets; unclear if there's any significance to the public key used for the genesis block.\r\n\r\n> By the way, I noticed that src/bitcoin-cli -testnet4 -generate 1 1000000000 does not find a block if called a dozen times, even at difficulty 1. I'm not sure if that's expected because the mining code is inefficient (single CPU thread) or if there's a bug. I worked around it by temporarily setting the minimum difficulty as low as on retest.\r\n\r\nOn a related note, my initial attempt at triggering low difficulty blocks involved me using a bash script to update my computer's system time ahead by 20 minutes and then trying to generate a block. For whatever reason, Bitcoin Core did not seem to notice that the system time was far enough ahead that the difficulty only needed to be 1 and it kept generating high difficulty block templates. So I ended up having to modify my local node to always produce blocks with timestamps 20 minutes after the previous block.",
      "created_at" : "2024-05-03T17:38:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093478851",
      "id" : 2093478851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858x_PD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093478851/reactions"
      },
      "updated_at" : "2024-05-03T17:38:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093478851",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/288011?v=4",
         "events_url" : "https://api.github.com/users/jlopp/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jlopp/followers",
         "following_url" : "https://api.github.com/users/jlopp/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jlopp/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jlopp",
         "id" : 288011,
         "login" : "jlopp",
         "node_id" : "MDQ6VXNlcjI4ODAxMQ==",
         "organizations_url" : "https://api.github.com/users/jlopp/orgs",
         "received_events_url" : "https://api.github.com/users/jlopp/received_events",
         "repos_url" : "https://api.github.com/users/jlopp/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jlopp/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jlopp"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't have S9s lying around unfortunately\r\n\r\nI do, special discount for genesis blocks :-)\r\n\r\n> use the 20min rule for mining their fancy non-standard transactions etc\r\n\r\nWhen a miner reorgs a block, do non-standard transactions end up in its mempool or are they forgotten? The latter is probably safest, but we could allow it on testnet for this use case.\r\n\r\nWe made `acceptnonstdtxn=0` the default for testnet3 in #28354. We could flip it back on. Or we could make it easier to preferentially peer with no-standardness nodes (and miners) to get those in. I don't think relying on low difficulty blocks is the right solution, at least I don't think it's a good enough reason to keep them around.\r\n\r\n> unclear if there's any significance to the public key used for the genesis block.\r\n\r\nThere shouldn't be, but it could lead to drama if people see it as a donation address. It would be better to use a provably unspendable public key, use one of the BIP32 test vectors or burn the coins with `OP_RETURN`. Though maybe not worth making a new block if it was ton of work.\r\n\r\n> For whatever reason, Bitcoin Core did not seem to notice that the system time was far enough ahead\r\n\r\nDoes your node still have network adjusted time? https://bitcoinops.org/en/newsletters/2024/02/07/#bitcoin-core-28956 Or is it something about median time past?",
      "created_at" : "2024-05-03T18:07:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093516015",
      "id" : 2093516015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858yITv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093516015/reactions"
      },
      "updated_at" : "2024-05-03T18:09:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093516015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Does your node still have network adjusted time?\r\n\r\nThat could explain it. IIRC I was originally using v25.\r\n\r\nI can generate a genesis block in about 15 minutes so no biggie to try variations.\r\nHere's an alternate genesis block with a zeroed out pubkey:\r\n\r\n```\r\n./generate-genesis -timestamp 1714658825 -pubkey 000000000000000000000000000000000000000000000000000000000000000000 -psz \"CCN 02/May/2024 Bitcoin Testnet Could Need Reset After 13 Years\"\r\nCtrl Hash:\t0x000000005611bbf1419574641c1d880d2872645ec62eb2efd605fab98d0760d2\r\nTarget:\t\t0x00000000ffff0000000000000000000000000000000000000000000000000000\r\nBlk Hash:\t0x372e42462a9898504ccd14c037bf98436289ba1ef27088433aad521fca09bf21\r\nMkl Hash:\t0xa2927b35a7444dd3e3ef24145a8c7054a4810c88d8cbed3896adfecae832b6fe\r\nNonce:\t\t836015000\r\nTimestamp:\t1714658825\r\nPubkey:\t\t000000000000000000000000000000000000000000000000000000000000000000\r\nCoins:\t\t5000000000\r\nPsz:\t\t'CCN 02/May/2024 Bitcoin Testnet Could Need Reset After 13 Years'\r\n```",
      "created_at" : "2024-05-03T18:34:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093554109",
      "id" : 2093554109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858yRm9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093554109/reactions"
      },
      "updated_at" : "2024-05-03T18:38:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093554109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/288011?v=4",
         "events_url" : "https://api.github.com/users/jlopp/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jlopp/followers",
         "following_url" : "https://api.github.com/users/jlopp/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jlopp/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jlopp",
         "id" : 288011,
         "login" : "jlopp",
         "node_id" : "MDQ6VXNlcjI4ODAxMQ==",
         "organizations_url" : "https://api.github.com/users/jlopp/orgs",
         "received_events_url" : "https://api.github.com/users/jlopp/received_events",
         "repos_url" : "https://api.github.com/users/jlopp/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jlopp/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jlopp"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> We made `acceptnonstdtxn=0` the default for testnet3 in #28354. We could flip it back on. Or we could make it easier to preferentially peer with no-standardness nodes (and miners) to get those in. I don't think relying on low difficulty blocks is the right solution, at least I don't think it's a good enough reason to keep them around.\r\n\r\nYeah, I tend to agree, I thought about flipping it back on earlier as well: https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2041139129 but we weren't very far in the discussion yet. By now we are discussing pretty intrusive changes with the goal to prevent block storms but at the same time keep the 20min exploitable for this one good use case. These are obviously at odds. The motivation stated in #28354 was to align testnet behavior with the behavior of other chains but maybe compared to the other solutions this is the simplest solution to the problem. In terms of simplicity and from a maintenance perspective I think setting `minPow` to 1M and `acceptnonstdtxn=1` as default is still a good solution that we should keep it in mind as an alternative to the other proposed solutions. There we also have two things that are at odds: developers that want to get their non-standard tx into a block easily and developers that want to test if their tx would get into a block on mainnet (the case that triggered #28354). But this seems to me like something that can be fixed with better documentation and/or some variant of preferential peering? At least both of these user groups are not trying to be malicious and can be assumed to have some level of technical expertise.\r\n\r\n> When a miner reorgs a block, do non-standard transactions end up in its mempool or are they forgotten? The latter is probably safest, but we could allow it on testnet for this use case.\r\n\r\nI haven't had time to look at the code but I would be surprised if the `acceptnonstdtxn` flag is ignored in this case. Making this a testnet specific exception here could be a solution that is a small patch but overall it's not the simplest concept.\r\n\r\nEDIT: Seems like `acceptnonstdtxn` is still enforced on the txs from reorged blocks. The flag sets `m_require_standard` on the mempool, this is then used in `PreChecks()`. That function is used in `AcceptSingleTransaction()` which is then used in `MaybeUpdateMempoolForReorg()` via `AcceptToMemoryPool()`.",
      "created_at" : "2024-05-04T01:52:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093953949",
      "id" : 2093953949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858zzOd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093953949/reactions"
      },
      "updated_at" : "2024-05-04T02:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2093953949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> and `acceptnonstdtxn=1` as default is still a good solution\r\n\r\nWe've had a case where having this setting as default rendered [$76M of bitcoin inaccessible for months](https://github.com/bitcoin/bitcoin/pull/26348), so that doesn't seem like a good solution to me. If you're testing something that will require miners with meaningful hashpower running non-default things on mainnet, finding a miner who'll do the same thing on testnet first doesn't seem that unreasonable to me. You can always test on regtest or a custom signet as well, after all.\r\n\r\nAs far as `CCN 02/May/2024 Bitcoin Testnet Could Need Reset After 13 Years` goes, the point of putting a news item in the genesis block was to prevent the possibility of pre-mining. Doing that with something referring to the project itself is exploitable: all you need to do is make a deal in advance with CCN that on May 2nd they'll post an article with that title, and you can start mining in advance. For testnet that perhaps doesn't matter, but if it doesn't there's no reason to change the commitment in the first place. Where it does matter is if people take our example and reuse it in an altcoin where premining would be a problem -- but there's an easy solution there: simply use the latest bitcoin block hash.",
      "created_at" : "2024-05-04T04:27:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2094003382",
      "id" : 2094003382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII5858z_S2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094003382/reactions"
      },
      "updated_at" : "2024-05-04T04:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094003382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> and `acceptnonstdtxn=1` as default is still a good solution\r\n\r\nNot sure. `acceptnonstdtxn` is limited in  what it allows. There are many non-standard examples that are not even exposed as a setting.",
      "created_at" : "2024-05-04T08:42:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2094081656",
      "id" : 2094081656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII58580SZ4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094081656/reactions"
      },
      "updated_at" : "2024-05-04T08:42:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094081656",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I will try to summarize a bit where I think we stand on the issues and ideas being discussed. Note, I am biased to keep things out that didn't get strong support, if we don't fix all the holes and things go wrong again, there is always Testnet5 and we will have more practice with it after we are done with Testnet4.\r\n\r\n- On preventing block storms while allowing developers to get their non standard txs into blocks\r\n  - Fixing the difficulty adjustment bug: Both solutions (disallowing min-difficulty on the last block and looking backward if the last block had min-difficulty) seem to have sufficient support to be included\r\n  - Increasing minimum difficulty (via `minPow`): 1M received rejections, 100k as @murchandamus suggested at some point didn't receive feedback so I would consider it uninteresting to reviewers\r\n  - Increasing delay time to allow min-difficulty from 20min: 6h and 3h received rejections, my suggestions for 30min or 1h didn't receive feedback so I consider there is no interest currently\r\n  - Adding a fix to the time-warp bug as added recently in the last commit: Didn't get feedback since I added it, it sounded to me like @Sjors who suggested it hadn't made up his mind about it either. I tend to remove it again because I like to keep things simple unless there is more support to add it.\r\n  - Re-enabling `acceptnonstdtxn` received rejections as an alternative solution to get non-standard txs into blocks outside of min-difficulty blocks\r\n  - @Sjors suggestion to nudge miners to reorg min-difficulty blocks didn't see much engagement other than me thinking that it's an interesting idea but it also has wider implications that would make Testnet behave very differently than Mainnet and I am not sure if that is worth it\r\n  - @ajtowns idea to persist the real difficulty in the version field saw some interest from Sjors and there is some unaddressed feedback from me here: https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2093325471\r\n  - @murchandamus also [suggested earlier](https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2091226696) basically keeping the nBits intact in the header but ignoring it. It didn't see much engagement but I think this is essentially a variant of AJ's suggestion to persist the original difficulty in version. I think it would have the same downsides and I believe it comes down to looking back further than the current period may give us the same behavior with a much simpler code change. That is, if we are willing to ignore the problem this could cause pruned nodes in extreme cases (and I think the same danger is there if the value is persisted somehow but ignored since pruned nodes could just be lied to in that case).\r\n\r\n- Genesis Block\r\n  - @jlopp  suggested block received rejections on the content of the message and \"self-advertisement\" though it wasn't very clear to me what this was referring to. I think at least we need another variation with the latest block hash in the message.\r\n\r\nPlease let me know what I got wrong and if I forgot something. As it stands I tend to remove the time-warp fix again and just keep a fix for the difficulty adjustment bug, everything else doesn't seem to have clear support yet.",
      "created_at" : "2024-05-04T16:53:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2094300149",
      "id" : 2094300149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII58581Hv1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094300149/reactions"
      },
      "updated_at" : "2024-05-04T16:53:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094300149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> * Genesis Block\r\n>   \r\n>   * @jlopp  suggested block received rejections on the content of the message and \"self-advertisement\" though it wasn't very clear to me what this was referring to. I think at least we need another variation with the latest block hash in the message.\r\n> \r\n\r\nI came across the fact that Lopp was conducting a 'Griefing Attack' on testnet3 and wants to embed his message into the genesis block, which refers to this article:\r\n\r\nhttps://www.ccn.com/news/crypto/bitcoin-testnet-could-need-reset-13-years-jameson-lopp-griefing/\r\n\r\nI believe he is so biased against testnet3 that he decided to inconvenience its use for all testnet users. And frankly, I don't understand how it would combat the trading that bothers him the most. I believe that someone who considers themselves a Bitcoin developer is not in a position to afford such behavior, let alone boast about it.\r\nI admit that I am also biased towards testnet3, as I have been operating https://coinfaucet.eu/ for 10 years and have distributed a total of 328,065.41 tBTC. So testnet is close to me, but I accept its successor. I'm just sorry that testnet4 probably won't address the biggest problem that bothers you, trading.\r\nIt should be noted that the 'Griefing Attack' is still an attack, and its aim was to make it difficult for people to use testnet3. There is no justification for it, regardless of how well-intentioned it may have been. Testnet3 has been here for 13 years and has functioned well despite the 'Block Storms' bug...\r\nTherefore, I propose that testnet4 be approached objectively and impartially, and that the genesis block not contain a message related to recent events surrounding testnet.\r\n\r\n",
      "created_at" : "2024-05-04T18:31:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2094340609",
      "id" : 2094340609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII58581RoB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094340609/reactions"
      },
      "updated_at" : "2024-05-04T18:31:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094340609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7499889?v=4",
         "events_url" : "https://api.github.com/users/emsit/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emsit/followers",
         "following_url" : "https://api.github.com/users/emsit/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emsit/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emsit",
         "id" : 7499889,
         "login" : "emsit",
         "node_id" : "MDQ6VXNlcjc0OTk4ODk=",
         "organizations_url" : "https://api.github.com/users/emsit/orgs",
         "received_events_url" : "https://api.github.com/users/emsit/received_events",
         "repos_url" : "https://api.github.com/users/emsit/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emsit/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emsit/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emsit"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for giving more detail @emsit !\r\n\r\n> I admit that I am also biased towards testnet3, as I have been operating https://coinfaucet.eu/ for 10 years and have distributed a total of 328,065.41 tBTC. So testnet is close to me, but I accept its successor.\r\n\r\nThank you!\r\n\r\n> I'm just sorry that testnet4 probably won't address the biggest problem that bothers you, trading.\r\n\r\nI think the act of resetting is addressing it. If it's sufficiently addressing it or if we need to do something more (like regularly scheduled resets etc.) we will only know once we have tried and I haven't seen any other proposal to address this issue, nor do I think there is anything else we can do that would work unless we turn this into some variant of a signet.\r\n\r\n> It should be noted that the 'Griefing Attack' is still an attack, and its aim was to make it difficult for people to use testnet3. There is no justification for it, regardless of how well-intentioned it may have been. Testnet3 has been here for 13 years and has functioned well despite the 'Block Storms' bug...\r\n\r\nI agree that it's not great to grief the legitimate users of Testnet3 and we would probably have been able to get Testnet4 on the way without it. \r\n\r\n> I propose that testnet4 be approached objectively and impartially, and that the genesis block not contain a message related to recent events surrounding testnet.\r\n\r\nWhile I may fully not agree with @jlopp 's method, I very much agree with his goal which is to show that testnets in general should be completely meaningless and without value. This also means that I don't care so much that he proposes to embed the article that interviews him, because I think we all agree (especially @jlopp ) that it's embedded into something meaningless and without value. In the end, the headline of all of this is: we shouldn't be passionate about any aspect of testnet at all, it should just serve its purpose.\r\n\r\n@jlopp has suggested a full Genesis block and mined it too, if he addresses the concern and adds a recent block hash to the message I will use it unless there is someone else here who also provides a full Genesis block that is mined with a different message that reviewers prefer over @jlopp s one. I simply don't want to mine the Genesis block myself over and over again as the message gets bikeshedded.",
      "created_at" : "2024-05-05T03:23:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29775#issuecomment-2094566343",
      "id" : 2094566343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29775",
      "node_id" : "IC_kwDOABII58582IvH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094566343/reactions"
      },
      "updated_at" : "2024-05-05T03:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094566343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
