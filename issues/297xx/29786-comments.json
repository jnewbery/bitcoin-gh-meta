[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29786).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sipsorcery](https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2033018400), [laanwj](https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2042945377) |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2033093552) |\n| Stale ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2031738015) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-04-02T11:13:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2031729881",
      "id" : 2031729881,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855GbzZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031729881/reactions"
      },
      "updated_at" : "2024-04-08T14:43:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031729881",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Friendly ping @sipa @TheCharlatan @sipsorcery :)",
      "created_at" : "2024-04-02T11:14:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2031730977",
      "id" : 2031730977,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855GcEh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031730977/reactions"
      },
      "updated_at" : "2024-04-02T11:14:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031730977",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "created_at" : "2024-04-02T11:16:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2031738015",
      "id" : 2031738015,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855Gdyf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031738015/reactions"
      },
      "updated_at" : "2024-04-02T11:16:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031738015",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547702119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547702119"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\nD:\\a\\bitcoin\\bitcoin\\src\\randomenv.cpp(366,9): error C2664: 'BOOL GetComputerNameW(LPWSTR,LPDWORD)': cannot convert argument 1 from 'char [16]' to 'LPWSTR' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\libbitcoin_util\\libbitcoin_util.vcxproj]\r\nD:\\a\\bitcoin\\bitcoin\\src\\randomenv.cpp(366,25): message : Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or parenthesized function-style cast [D:\\a\\bitcoin\\bitcoin\\build_msvc\\libbitcoin_util\\libbitcoin_util.vcxproj]\r\nC:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\um\\winbase.h(7492,1): message : see declaration of 'GetComputerNameW' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\libbitcoin_util\\libbitcoin_util.vcxproj]\r\n  rawtransaction_util.cpp\r\nD:\\a\\bitcoin\\bitcoin\\src\\randomenv.cpp(366,9): message : while trying to match the argument list '(char [16], DWORD *)' [D:\\a\\bitcoin\\bitcoin\\build_msvc\\libbitcoin_util\\libbitcoin_util.vcxproj]\r\n  request.cpp",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T11:41:29Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.\n+    constexpr DWORD max_size = MAX_COMPUTERNAME_LENGTH + 1;\n+    char hname[max_size];\n+    DWORD size = max_size;\n+    if (GetComputerName(hname, &size) != 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547702119",
      "id" : 1547702119,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQA9n",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 366,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973512907,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547702119/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T11:41:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547702119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547705735"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547705735"
         }
      },
      "author_association" : "MEMBER",
      "body" : "For new code, please use the safe `UCharCast` helpers, if possible. Alternatively, you can use a byte-span.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T11:42:59Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.\n+    constexpr DWORD max_size = MAX_COMPUTERNAME_LENGTH + 1;\n+    char hname[max_size];\n+    DWORD size = max_size;\n+    if (GetComputerName(hname, &size) != 0) {\n+        hasher.Write((const unsigned char*)hname, size);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547705735",
      "id" : 1547705735,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQB2H",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 367,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973519055,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547705735/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T11:42:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547705735",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547736169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547736169"
         }
      },
      "author_association" : "MEMBER",
      "body" : ">     // the use of the Winsock DLL might be not initiated.\r\n\r\nWhy not? Comments being added to our RNG code should not be this vauge. ",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:02:33Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547736169",
      "id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQJRp",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973569380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547736169/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:04:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547736169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547738245"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547738245"
         }
      },
      "author_association" : "MEMBER",
      "body" : "When using `libbitcoinkernel`, it depends on its user, no?",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:04:24Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547738245",
      "id" : 1547738245,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQJyF",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973572907,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547738245/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:04:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547738245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > requires the Winsock DLL being initiated in advance, which is not always guaranteed, for example, in the libbitcoinkernel.\r\n> \r\n> Surely this is the problem that should be getting solved here? This seems like a short-term fixup, and doesn't prevent it from occuring again in the future? Is this something that's a problem elsewhere in the codebase?\r\n> \r\n> Seems similar to #28486, which iirc hasn't been followed up with / fixed properly. If we can't rely on things being available/usable on Windows, seems like we need to rearchitect code that we can do that, rather than continually patching around/catching this ad-hoc.\r\n\r\nThis PR main goal is to get rid of the ws2_32 library  dependency for the `libbitcoinkernel`.\r\n\r\nHowever, I agree that Window Socket enabling code could be rearchitected.",
      "created_at" : "2024-04-02T12:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2031912531",
      "id" : 2031912531,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855HIZT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031912531/reactions"
      },
      "updated_at" : "2024-04-02T12:28:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031912531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547788188"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547788188"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:30:11Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.\n+    constexpr DWORD max_size = MAX_COMPUTERNAME_LENGTH + 1;\n+    char hname[max_size];\n+    DWORD size = max_size;\n+    if (GetComputerName(hname, &size) != 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547788188",
      "id" : 1547788188,
      "in_reply_to_id" : 1547702119,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQV-c",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 366,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973656498,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547788188/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:30:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547788188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547789823"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547789823"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! Done.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:30:37Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.\n+    constexpr DWORD max_size = MAX_COMPUTERNAME_LENGTH + 1;\n+    char hname[max_size];\n+    DWORD size = max_size;\n+    if (GetComputerName(hname, &size) != 0) {\n+        hasher.Write((const unsigned char*)hname, size);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547789823",
      "id" : 1547789823,
      "in_reply_to_id" : 1547705735,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQWX_",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 367,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973658360,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547789823/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:30:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547789823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547797933"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547797933"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't know, given the kernel and it's API/runtime requirements don't exist yet. It's also less clear, because there is nothing else in this codebase documenting this requirement, or preventing winsock usage (or any other DLL that might require manual initialization) from inadvertantly ending up back in the kernel.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:36:38Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547797933",
      "id" : 1547797933,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQYWt",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973675920,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547797933/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:38:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547797933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547816628"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547816628"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> ... there is nothing else in this codebase ... preventing winsock usage (or any other DLL that might require manual initialization) from inadvertantly ending up back in the kernel.\r\n\r\nWell, the upcoming CMake-based build system will likely [complain](https://github.com/hebasto/bitcoin/pull/134) if Winsock dependency is about to be reintroduced.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:48:15Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547816628",
      "id" : 1547816628,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQc60",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973704979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547816628/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547816628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547825089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547825089"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> CMake-based build system will likely complain\r\n\r\nComplain about what? Putting aside all the other points here, why are we changing code in our RNG, supposedly based on some thing that CMake may or may not do, that you didn't mention at all in the PR description?",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T12:54:11Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547825089",
      "id" : 1547825089,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQe_B",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973719713,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547825089/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T12:54:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547825089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547836303"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547836303"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Perhaps, I didn't understand your point correctly. Sorry about that.\r\n\r\nThis PR goal is to remove winsock dependency from libbitcoinkernel. The current build system does not prevent from reintroducing this dependency inadvertantly. But CMake does.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T13:01:20Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547836303",
      "id" : 1547836303,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQhuP",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973738368,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547836303/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T13:01:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547836303",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547852662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547852662"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@fanquake I don't understand the antagonism here. The PR description mentions, and has mentioned, the removal of a dependency of the RNG code on the winsock library. If easily doable, like this demonstrates, then that seems like a simple improvement.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T13:10:47Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547852662",
      "id" : 1547852662,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQlt2",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973763185,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547852662/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T13:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547852662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547882617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547882617"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@sipa see my comment here: https://github.com/bitcoin/bitcoin/pull/29786#pullrequestreview-1973587507. It stems somewhat from this being a recurring issue, that rather than fixing \"properly\", keeps just getting worked around, it comes somewhat from vauge / useless comments, being added to important parts of the codebase (that themselves point to an underlying issue not actually being documented/fixed), as well as the case that, if the point is to remove a dependency / check for it's usage, then a test or similar should be added that actually enforces that, rather than just hoping that will remain the case (which would undermine the point of the change). It also comes somewhat from the claims that \"CMake will fix/enforce this\", when, in reality, after offline discussion, that also is not actually the case.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T13:26:02Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547882617",
      "id" : 1547882617,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQtB5",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973813609,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547882617/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T13:26:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547882617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547891072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547891072"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> it comes somewhat from vauge / useless comments\r\n\r\nA code comment has been dropped.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T13:30:49Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1547891072",
      "id" : 1547891072,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cQvGA",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1973830084,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547891072/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T20:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547891072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 03b87a3e64305ba651e22a730e35271dea8fea64.\r\n\r\nIf the hostname hash can be generated without requiring network initialisation that seems like a worthwhile imrpovement.\r\n",
      "created_at" : "2024-04-02T20:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2033018400",
      "id" : 2033018400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855LWYg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033018400/reactions"
      },
      "updated_at" : "2024-04-02T20:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033018400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/197660?v=4",
         "events_url" : "https://api.github.com/users/sipsorcery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipsorcery/followers",
         "following_url" : "https://api.github.com/users/sipsorcery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipsorcery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipsorcery",
         "id" : 197660,
         "login" : "sipsorcery",
         "node_id" : "MDQ6VXNlcjE5NzY2MA==",
         "organizations_url" : "https://api.github.com/users/sipsorcery/orgs",
         "received_events_url" : "https://api.github.com/users/sipsorcery/received_events",
         "repos_url" : "https://api.github.com/users/sipsorcery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipsorcery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipsorcery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipsorcery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nThis does indeed remove the dependency on ws2_32 from the kernel lib.",
      "created_at" : "2024-04-02T21:02:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2033093552",
      "id" : 2033093552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855Louw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033093552/reactions"
      },
      "updated_at" : "2024-04-02T21:02:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033093552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1548605938"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548605938"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ">  then a test or similar should be added that actually enforces that\r\n\r\nCould be something as simple as doing a symbol check for `bitcoin-chainstate` and ensuring `WS2_32` is not in its import table. I guess we should be doing this anyway at some point, but not sure where I would put such a check for non-release, experimental binaries.",
      "commit_id" : "03b87a3e64305ba651e22a730e35271dea8fea64",
      "created_at" : "2024-04-02T21:06:21Z",
      "diff_hunk" : "@@ -357,10 +357,21 @@ void RandAddStaticEnv(CSHA512& hasher)\n     hasher << &hasher << &RandAddStaticEnv << &malloc << &errno << &environ;\n \n     // Hostname\n+#ifdef WIN32\n+    // Not using gethostname from Windows Sockets because\n+    // the use of the Winsock DLL might be not initiated.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#discussion_r1548605938",
      "id" : 1548605938,
      "in_reply_to_id" : 1547736169,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585cTdny",
      "original_commit_id" : "4d8ad853ee914ebfc6442f02dda9c626b4c037ce",
      "original_line" : 363,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/randomenv.cpp",
      "position" : null,
      "pull_request_review_id" : 1975026635,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29786",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548605938/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-04-02T21:06:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548605938",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks correct to me \"If the function succeeds, the return value is a nonzero value.\".\r\n\r\nI'm not sure the netbios name is always the name as the hostname, but it is a good enough equivalent for randomness purposes, and I agree it is preferable not to depend on winsock for the kernel. The API, introduced in Windows 2000 is also old enough.\r\n\r\nCode review ACK 03b87a3e64305ba651e22a730e35271dea8fea64.",
      "created_at" : "2024-04-08T14:43:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29786#issuecomment-2042945377",
      "id" : 2042945377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29786",
      "node_id" : "IC_kwDOABII5855xN9h",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2042945377/reactions"
      },
      "updated_at" : "2024-04-08T14:43:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2042945377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
