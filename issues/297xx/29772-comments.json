[
   {
      "author_association" : "NONE",
      "body" : "This should work for a descriptor wallet with `disable_private_keys=true`:\r\n\r\n```\r\n$ bitcoin-cli importdescriptors '[{ \"desc\": \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)#CHECKSUM\", \"timestamp\":\"now\", \"label\": \"ray\"}]'\r\n```\r\n\r\nYou will get the CHECKSUM with `getdescriptorinfo \"addr(mk4xz7tbbQDcQY68qYehydV9PRBWdVGNw1)\"`",
      "created_at" : "2024-03-31T07:45:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2028589391",
      "id" : 2028589391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII58546dFP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028589391/reactions"
      },
      "updated_at" : "2024-03-31T07:45:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2028589391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/147166694?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 147166694,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOCMWV5g",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I guess the error message could be adjusted to say that the RPC has been replaced by another one for descriptor wallets.",
      "created_at" : "2024-04-01T14:04:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2029810953",
      "id" : 2029810953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII5854_HUJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029810953/reactions"
      },
      "updated_at" : "2024-04-01T14:04:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2029810953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes, adding an example would be useful.",
      "created_at" : "2024-05-02T19:20:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2091363954",
      "id" : 2091363954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII5858p65y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091363954/reactions"
      },
      "updated_at" : "2024-05-02T19:20:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2091363954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I have a bitcoincore v27.0.0 running on a \"Raspberry Pi OS with desktop, Release date: March 15th 2024.System: 64-bit,Kernel version: 6.6, Debian version: 12 (bookworm)\" over the tor network, which is fully synchronized.\r\n\r\nI installed a \"Electrum Personal Server v0.2.4, but it does not start because of this same JsonRpcError (\"code = -4; message = \"Only legacy wallets are supported by this command\").\r\nUp to this point I tried several zpubs and addresses, but they were all native segwit P2WPKH.\r\n\r\nThen I created a 'Base58 (legacy)' address within gthe \"Receive\" tab of the bitcoincore default wallet, i created and this address begins with a 1 and therefore is really a legacy address, right?\r\n\r\nThe JsonRpcError which interrupts the startup of the EPS then changed to:\r\n\r\n```{'code': -5, 'message': 'Invalid or unsupported Segwit (Bech32) or Base58 encoding.'}```\r\n\r\nIs there a legacy address you have that would be accepted by bitcoincore when given via JsonRpc?\r\n",
      "created_at" : "2024-06-12T12:41:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2162910393",
      "id" : 2162910393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII586A62S5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162910393/reactions"
      },
      "updated_at" : "2024-06-12T12:41:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162910393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22373105?v=4",
         "events_url" : "https://api.github.com/users/RichardGantz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RichardGantz/followers",
         "following_url" : "https://api.github.com/users/RichardGantz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RichardGantz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RichardGantz",
         "id" : 22373105,
         "login" : "RichardGantz",
         "node_id" : "MDQ6VXNlcjIyMzczMTA1",
         "organizations_url" : "https://api.github.com/users/RichardGantz/orgs",
         "received_events_url" : "https://api.github.com/users/RichardGantz/received_events",
         "repos_url" : "https://api.github.com/users/RichardGantz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RichardGantz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RichardGantz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RichardGantz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The terminology is confusing, but \"legacy wallets\" and \"legacy addresses\" have nothing to do with one another:\r\n* legacy wallets are wallet.dat files using the BDB format, and are opposed to sqlite-based wallet files (\"descriptor wallets\"). Legacy wallet support is being deprecated.\r\n* legacy addresses are P2PKH and P2SH addresses, and are opposed to more modern address types like P2WPKH and P2TR.\r\n\r\nWhat you've done is created a legacy address in a descriptor wallet (which is supported). The issue is that descriptor wallet do not support the `importaddress` RPC (though that may change, see #30175). The solution (for now) is to create a legacy wallet in Bitcoin Core instead of a descriptor wallet, and let EPS use that. Longer term, I assume EPS will have to be adapted to use the descriptor wallet RPCs (like `importdescriptor`).",
      "created_at" : "2024-06-12T12:49:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2162927360",
      "id" : 2162927360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII586A66cA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162927360/reactions"
      },
      "updated_at" : "2024-06-12T12:49:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2162927360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Dear sipa,\r\n\r\nthank you so much for your quick and crystal clear answer.\r\nThe EPS started up successfully after I created the legacy wallet.\r\n\r\nPlease allow me to add for newbees like me that\r\n1. I had to stop bitcoin-core and start it once with the additional parameter `-deprecatedrpc=create_bdb`.\r\n2. After that started up I was able to create the legacy wallet with the following command in the console window:\r\n   ```createwallet \"LegacyWallet\" false false \"\" false false```.\r\n\r\nShutdown of bitcoin-core and restart without the additional parameter still could open the \"LegacyWallet\" with the hint that these kinds of wallets will not be supported one day in the near future.\r\n\r\nBut EPS could import all zpubs and seqwit addresses and started up successful.\r\n\r\nTHANK YOU VERY MUCH!\r\n",
      "created_at" : "2024-06-13T06:50:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29772#issuecomment-2164672729",
      "id" : 2164672729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29772",
      "node_id" : "IC_kwDOABII586BBkjZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2164672729/reactions"
      },
      "updated_at" : "2024-06-13T06:50:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2164672729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22373105?v=4",
         "events_url" : "https://api.github.com/users/RichardGantz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RichardGantz/followers",
         "following_url" : "https://api.github.com/users/RichardGantz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RichardGantz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RichardGantz",
         "id" : 22373105,
         "login" : "RichardGantz",
         "node_id" : "MDQ6VXNlcjIyMzczMTA1",
         "organizations_url" : "https://api.github.com/users/RichardGantz/orgs",
         "received_events_url" : "https://api.github.com/users/RichardGantz/received_events",
         "repos_url" : "https://api.github.com/users/RichardGantz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RichardGantz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RichardGantz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RichardGantz"
      }
   }
]
